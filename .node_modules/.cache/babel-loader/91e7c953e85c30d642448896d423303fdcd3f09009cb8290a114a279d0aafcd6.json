{"ast":null,"code":"var _jsxFileName = \"/home/diego/ExpoApp/my-app/src/App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged, signOut } from 'firebase/auth'; // Added signInWithCustomToken\nimport { getFirestore, collection, addDoc, getDocs, doc, updateDoc, deleteDoc, onSnapshot, query, where, setDoc } from 'firebase/firestore';\nimport { Home, CalendarPlus, MessageSquare, ListChecks, UserCircle, XCircle, Send, PlusCircle, Trash2, LogOut, CheckCircle, AlertTriangle, Info, Settings, Volume2, Eye, Moon, Sun, ZoomIn, ZoomOut } from 'lucide-react';\nimport './App.css';\n// --- Firebase Configuration ---\n// const firebaseConfig = {\n//   apiKey: \"YOUR_API_KEY\",\n//   authDomain: \"YOUR_AUTH_DOMAIN\",\n//   projectId: \"YOUR_PROJECT_ID\",\n//   storageBucket: \"YOUR_STORAGE_BUCKET\",\n//   messagingSenderId: \"YOUR_MESSAGING_SENDER_ID\",\n//   appId: \"YOUR_APP_ID\"\n// };\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC9yqipXCN_ALWZFrFUaBbMG4LznCgt4MM\",\n  authDomain: \"medcare-app-9678b.firebaseapp.com\",\n  projectId: \"medcare-app-9678b\",\n  storageBucket: \"medcare-app-9678b.firebasestorage.app\",\n  messagingSenderId: \"805339182842\",\n  appId: \"1:805339182842:web:c4bab764c2c8b40527bb43\",\n  measurementId: \"G-L8444GNX38\"\n};\n\n// --- Global Firebase Variables (to be provided by the environment) ---\n//const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\nconst appId = 'medcare-app-9678b';\n// const finalFirebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : firebaseConfig;\n//const finalFirebaseConfig ='false';\n\n// --- Initialize Firebase ---\nlet app;\nlet auth;\nlet db;\ntry {\n  //   app = initializeApp(finalFirebaseConfig);\n  app = initializeApp(firebaseConfig);\n  auth = getAuth(app);\n  db = getFirestore(app);\n  // import { setLogLevel } from \"firebase/firestore\"; // For debugging\n  // setLogLevel('debug');\n} catch (e) {\n  console.error(\"Error initializing Firebase:\", e);\n  if (!db) {\n    console.warn(\"Firestore (db) is not initialized. App will run with mock data and no persistence.\");\n  }\n}\n\n// Service worker\n\nif ('serviceWorker' in navigator) {\n  // Register a service worker hosted at the root of the\n  // site using the default scope.\n  navigator.serviceWorker.register('./service-worker.js').then(registration => {\n    console.log('Service worker registration succeeded:', registration);\n  }, /*catch*/error => {\n    console.error(`Service worker registration failed: ${error}`);\n  });\n} else {\n  console.error('Service workers are not supported.');\n}\n\n// --- Mock Data ---\nconst MOCK_PRESCRIPTIONS = [{\n  id: 'p1',\n  name: 'Amoxicillin 250mg',\n  dosage: '1 tablet every 8 hours for 7 days',\n  date: '2024-05-20',\n  doctor: 'Dr. Smith'\n}, {\n  id: 'p2',\n  name: 'Ibuprofen 400mg',\n  dosage: '1 tablet as needed for pain',\n  date: '2024-05-15',\n  doctor: 'Dr. Jones'\n}, {\n  id: 'p3',\n  name: 'Metformin 500mg',\n  dosage: '1 tablet twice daily with meals',\n  date: '2024-04-28',\n  doctor: 'Dr. Brown'\n}];\nconst MOCK_DOCTORS = [{\n  id: 'doc1',\n  name: 'Dr. Emily Carter (Cardiologist)'\n}, {\n  id: 'doc2',\n  name: 'Dr. John Smith (General Practitioner)'\n}, {\n  id: 'doc3',\n  name: 'Dr. Sarah Lee (Pediatrician)'\n}];\n\n// --- Helper Components ---\n\n// Modal Component\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  darkMode,\n  highContrast,\n  fontSizeClass\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `rounded-lg shadow-xl p-6 w-full max-w-md ${fontSizeClass} ${darkMode ? 'bg-gray-800 text-white' : 'bg-white text-gray-800'} ${highContrast ? darkMode ? 'border-2 border-yellow-400' : 'border-2 border-blue-600' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `text-xl font-semibold ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : darkMode ? 'text-white' : 'text-gray-800'}`,\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: `${darkMode ? 'text-gray-300 hover:text-white' : 'text-gray-500 hover:text-gray-700'}`,\n          children: /*#__PURE__*/_jsxDEV(XCircle, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n\n// Notification Component\n_c = Modal;\nconst Notification = ({\n  message,\n  type,\n  onDismiss,\n  darkMode\n}) => {\n  if (!message) return null;\n  let bgColor;\n  if (darkMode) {\n    bgColor = type === 'success' ? 'bg-green-700' : type === 'error' ? 'bg-red-700' : 'bg-blue-700';\n  } else {\n    bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';\n  }\n  const Icon = type === 'success' ? CheckCircle : type === 'error' ? AlertTriangle : Info;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `fixed top-4 right-4 ${bgColor} text-white p-4 rounded-lg shadow-md flex items-center z-[100]`,\n    children: [/*#__PURE__*/_jsxDEV(Icon, {\n      size: 24,\n      className: \"mr-3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }, this), onDismiss && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onDismiss,\n      className: \"ml-4 text-white hover:text-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(XCircle, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n};\n\n// SpeakButton for TalkBack simulation\n_c2 = Notification;\nconst SpeakButton = ({\n  textToSpeak,\n  darkMode,\n  highContrast\n}) => {\n  const handleSpeak = e => {\n    e.stopPropagation(); // Prevent parent clicks if button is inside another clickable element\n    if ('speechSynthesis' in window && textToSpeak) {\n      const utterance = new SpeechSynthesisUtterance(textToSpeak);\n      // Optional: Configure voice, rate, pitch\n      // utterance.lang = 'en-US';\n      window.speechSynthesis.cancel(); // Cancel any previous speech\n      window.speechSynthesis.speak(utterance);\n    } else {\n      console.warn(\"Speech synthesis not supported or no text to speak.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: handleSpeak,\n    \"aria-label\": `Speak: ${textToSpeak.substring(0, 30)}...`,\n    title: \"Read aloud\",\n    className: `ml-2 p-1 rounded ${darkMode ? highContrast ? 'bg-yellow-500 text-black' : 'bg-gray-600 hover:bg-gray-500' : highContrast ? 'bg-blue-500 text-white' : 'bg-gray-200 hover:bg-gray-300'}`,\n    children: /*#__PURE__*/_jsxDEV(Volume2, {\n      size: 16\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Accessibility Settings Modal ---\n_c3 = SpeakButton;\nconst AccessibilitySettingsModal = ({\n  isOpen,\n  onClose,\n  settings,\n  updateSettings,\n  darkMode,\n  highContrast,\n  fontSizeClass\n}) => {\n  const {\n    fontSize,\n    highContrast: hc,\n    darkMode: dm,\n    talkbackEnabled\n  } = settings;\n  const fontSizes = [{\n    label: 'Normal',\n    value: 'text-base'\n  }, {\n    label: 'Large',\n    value: 'text-lg'\n  }, {\n    label: 'Extra Large',\n    value: 'text-xl'\n  }];\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    title: \"Accessibility Settings\",\n    darkMode: darkMode,\n    highContrast: highContrast,\n    fontSizeClass: fontSizeClass,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: `font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`,\n          children: \"Font Size\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: fontSizes.map(fs => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => updateSettings('fontSize', fs.value),\n            className: `px-3 py-1.5 rounded-md text-sm font-medium transition-colors\n        ${fontSize === fs.value ? darkMode ? 'bg-blue-500 text-white' : 'bg-blue-600 text-white' : darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}\n          ${highContrast && fontSize === fs.value ? darkMode ? 'border-2 border-yellow-400' : 'border-2 border-blue-800' : ''}\n          ${highContrast && fontSize !== fs.value ? darkMode ? 'border border-gray-500' : 'border border-gray-400' : ''}\n          `,\n            children: fs.label\n          }, fs.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 7\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: `font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`,\n          children: \"Theme\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => updateSettings('darkMode', !dm),\n          className: `w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors\n      ${dm ? highContrast ? 'bg-gray-900 text-yellow-300 border-2 border-yellow-400' : 'bg-gray-700 text-white' : highContrast ? 'bg-white text-blue-700 border-2 border-blue-700' : 'bg-gray-200 text-black'}\n      hover:${dm ? highContrast ? 'bg-gray-800' : 'bg-gray-600' : highContrast ? 'bg-gray-100' : 'bg-gray-300'}\n      `,\n          children: [dm ? /*#__PURE__*/_jsxDEV(Sun, {\n            size: 18,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(Moon, {\n            size: 18,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 50\n          }, this), dm ? 'Switch to Light Mode' : 'Switch to Dark Mode']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: `font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`,\n          children: \"Contrast\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => updateSettings('highContrast', !hc),\n          className: `w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors\n        ${hc ? darkMode ? 'bg-yellow-400 text-black' : 'bg-blue-600 text-white' : darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}\n          ${highContrast && hc ? darkMode ? 'border-2 border-white' : 'border-2 border-black' : ''}\n          `,\n          children: [/*#__PURE__*/_jsxDEV(Eye, {\n            size: 18,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 11\n          }, this), hc ? 'Disable High Contrast' : 'Enable High Contrast']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: `font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`,\n          children: \"Read Aloud (TalkBack Simulation)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => updateSettings('talkbackEnabled', !talkbackEnabled),\n          className: `w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors\n            ${talkbackEnabled ? darkMode ? 'bg-green-600 text-white' : 'bg-green-500 text-white' : darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}\n              ${highContrast && talkbackEnabled ? darkMode ? 'border-2 border-white' : 'border-2 border-black' : ''}\n              `,\n          children: [/*#__PURE__*/_jsxDEV(Volume2, {\n            size: 18,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), talkbackEnabled ? 'Disable Read Aloud Feature' : 'Enable Read Aloud Feature']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `mt-2 text-xs ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [\"When enabled, look for \", /*#__PURE__*/_jsxDEV(Volume2, {\n            size: 12,\n            className: \"inline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 136\n          }, this), \" icons to have text read aloud.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Screen Components (Adapted for Accessibility) ---\n_c4 = AccessibilitySettingsModal;\nconst HomeScreen = ({\n  setCurrentPage,\n  userName,\n  userId,\n  accessibilitySettings\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `p-6 min-h-[calc(100vh-4rem)] flex flex-col justify-center items-center transition-colors duration-300\n    ${accessibilitySettings.darkMode ? 'bg-gradient-to-br from-gray-800 to-gray-900 text-white' : 'bg-gradient-to-br from-blue-500 to-indigo-600 text-white'}\n    ${accessibilitySettings.highContrast && accessibilitySettings.darkMode ? 'border-2 border-yellow-400' : ''}\n    ${accessibilitySettings.highContrast && !accessibilitySettings.darkMode ? 'bg-white text-black border-2 border-blue-700' : ''}\n    `,\n  children: [/*#__PURE__*/_jsxDEV(UserCircle, {\n    size: 80,\n    className: `mb-4 ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'text-yellow-300' : 'text-indigo-300' : accessibilitySettings.highContrast ? 'text-blue-700' : 'text-indigo-200'}`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n    className: `text-3xl font-bold mb-2 ${accessibilitySettings.highContrast && !accessibilitySettings.darkMode ? 'text-black' : ''}`,\n    children: [\"Welcome, \", userName || 'User', \"!\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 255,\n    columnNumber: 5\n  }, this), accessibilitySettings.talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n    textToSpeak: `Welcome, ${userName || 'User'}!`,\n    darkMode: accessibilitySettings.darkMode,\n    highContrast: accessibilitySettings.highContrast\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 256,\n    columnNumber: 47\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: `mb-1 text-sm ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'text-yellow-200' : 'text-indigo-100' : accessibilitySettings.highContrast ? 'text-gray-700' : 'text-indigo-100'}`,\n    children: [\"User ID: \", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `font-mono px-1 rounded ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'bg-yellow-600 text-black' : 'bg-gray-700' : accessibilitySettings.highContrast ? 'bg-blue-200 text-black' : 'bg-indigo-700'}`,\n      children: userId || 'N/A'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 258,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: `mb-6 text-center ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'text-yellow-200' : 'text-indigo-100' : accessibilitySettings.highContrast ? 'text-gray-700' : 'text-indigo-100'}`,\n    children: \"Your personal health assistant. Ready to help you manage your medical needs.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 261,\n    columnNumber: 5\n  }, this), accessibilitySettings.talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n    textToSpeak: \"Your personal health assistant. Ready to help you manage your medical needs.\",\n    darkMode: accessibilitySettings.darkMode,\n    highContrast: accessibilitySettings.highContrast\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 262,\n    columnNumber: 47\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-2 gap-4 w-full max-w-md\",\n    children: [[{\n      page: 'myAppointments',\n      label: 'My Appointments',\n      icon: ListChecks\n    }, {\n      page: 'chat',\n      label: 'Chat with Doctor',\n      icon: MessageSquare\n    }, {\n      page: 'prescriptions',\n      label: 'View Prescriptions',\n      icon: ListChecks\n    }].map(item => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setCurrentPage(item.page),\n      className: `p-4 rounded-lg shadow-md transition-all flex flex-col items-center justify-center aspect-square\n        ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900' : 'bg-gray-700 text-indigo-300 hover:bg-gray-600' : accessibilitySettings.highContrast ? 'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50' : 'bg-white text-blue-600 hover:bg-blue-50'}\n          `,\n      children: [/*#__PURE__*/_jsxDEV(item.icon, {\n        size: 32,\n        className: \"mb-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-semibold text-center\",\n        children: item.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this), accessibilitySettings.talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n        textToSpeak: item.label,\n        darkMode: accessibilitySettings.darkMode,\n        highContrast: accessibilitySettings.highContrast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 53\n      }, this)]\n    }, item.page, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setCurrentPage('makeAppointment') // Kept separate if logic differs, or merge if identical to 'My Appointments' button\n      ,\n      className: `p-4 rounded-lg shadow-md transition-all flex flex-col items-center justify-center aspect-square\n      ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900' : 'bg-gray-700 text-indigo-300 hover:bg-gray-600' : accessibilitySettings.highContrast ? 'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50' : 'bg-white text-blue-600 hover:bg-blue-50'}\n        `,\n      children: [/*#__PURE__*/_jsxDEV(CalendarPlus, {\n        size: 32,\n        className: \"mb-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-semibold text-center\",\n        children: \"Make Appointment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), accessibilitySettings.talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n        textToSpeak: \"Make Appointment\",\n        darkMode: accessibilitySettings.darkMode,\n        highContrast: accessibilitySettings.highContrast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 51\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 264,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 249,\n  columnNumber: 3\n}, this);\n_c5 = HomeScreen;\nconst AppointmentsScreen = ({\n  userId,\n  showNotification,\n  accessibilitySettings\n}) => {\n  _s();\n  var _MOCK_DOCTORS$;\n  const [appointments, setAppointments] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [confirmCancelModal, setConfirmCancelModal] = useState({\n    isOpen: false,\n    appointmentId: null\n  });\n  const [doctor, setDoctor] = useState(((_MOCK_DOCTORS$ = MOCK_DOCTORS[0]) === null || _MOCK_DOCTORS$ === void 0 ? void 0 : _MOCK_DOCTORS$.id) || '');\n  const [date, setDate] = useState('');\n  const [time, setTime] = useState('');\n  const [reason, setReason] = useState('');\n  const appointmentsCollectionPath = `artifacts/${appId}/users/${userId}/appointments`;\n  useEffect(() => {\n    if (!db || !userId) {\n      console.log(\"Using mock appointments as db or userId is not available.\");\n      setAppointments([{\n        id: 'apt1',\n        doctor: 'Dr. Emily Carter',\n        date: '2024-06-10',\n        time: '10:00 AM',\n        reason: 'Check-up',\n        status: 'Scheduled'\n      }, {\n        id: 'apt2',\n        doctor: 'Dr. John Smith',\n        date: '2024-06-15',\n        time: '02:30 PM',\n        reason: 'Follow-up',\n        status: 'Scheduled'\n      }]);\n      setIsLoading(false);\n      return;\n    }\n    setIsLoading(true);\n    const q = query(collection(db, appointmentsCollectionPath));\n    const unsubscribe = onSnapshot(q, querySnapshot => {\n      const userAppointments = [];\n      querySnapshot.forEach(doc => {\n        userAppointments.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      userAppointments.sort((a, b) => new Date(`${a.date} ${a.time}`) - new Date(`${b.date} ${b.time}`));\n      setAppointments(userAppointments);\n      setIsLoading(false);\n    }, error => {\n      console.error(\"Error fetching appointments: \", error);\n      showNotification(\"Error fetching appointments.\", \"error\");\n      setIsLoading(false);\n    });\n    return () => unsubscribe();\n  }, [userId, showNotification, appointmentsCollectionPath]);\n  const handleMakeAppointment = async e => {\n    var _MOCK_DOCTORS$find;\n    e.preventDefault();\n    if (!db || !userId) {\n      showNotification(\"Database not available.\", \"error\");\n      return;\n    }\n    if (!doctor || !date || !time || !reason) {\n      showNotification(\"Please fill all fields.\", \"error\");\n      return;\n    }\n    const newAppointment = {\n      doctor: ((_MOCK_DOCTORS$find = MOCK_DOCTORS.find(d => d.id === doctor)) === null || _MOCK_DOCTORS$find === void 0 ? void 0 : _MOCK_DOCTORS$find.name) || doctor,\n      date,\n      time,\n      reason,\n      status: 'Scheduled',\n      createdAt: new Date().toISOString()\n    };\n    try {\n      var _MOCK_DOCTORS$2;\n      await addDoc(collection(db, appointmentsCollectionPath), newAppointment);\n      showNotification(\"Appointment booked successfully!\", \"success\");\n      setDoctor(((_MOCK_DOCTORS$2 = MOCK_DOCTORS[0]) === null || _MOCK_DOCTORS$2 === void 0 ? void 0 : _MOCK_DOCTORS$2.id) || '');\n      setDate('');\n      setTime('');\n      setReason('');\n      setIsModalOpen(false);\n    } catch (error) {\n      console.error(\"Error adding appointment: \", error);\n      showNotification(\"Failed to book appointment.\", \"error\");\n    }\n  };\n  const confirmCancel = appointmentId => {\n    setConfirmCancelModal({\n      isOpen: true,\n      appointmentId\n    });\n  };\n  const executeCancelAppointment = async () => {\n    const appointmentId = confirmCancelModal.appointmentId;\n    if (!db || !userId || !appointmentId) {\n      showNotification(\"Database not available or invalid request.\", \"error\");\n      setConfirmCancelModal({\n        isOpen: false,\n        appointmentId: null\n      });\n      return;\n    }\n    try {\n      const appointmentRef = doc(db, appointmentsCollectionPath, appointmentId);\n      await updateDoc(appointmentRef, {\n        status: 'Cancelled'\n      });\n      showNotification(\"Appointment cancelled successfully.\", \"success\");\n    } catch (error) {\n      console.error(\"Error cancelling appointment: \", error);\n      showNotification(\"Failed to cancel appointment.\", \"error\");\n    }\n    setConfirmCancelModal({\n      isOpen: false,\n      appointmentId: null\n    });\n  };\n  const {\n    darkMode,\n    highContrast,\n    talkbackEnabled,\n    fontSize\n  } = accessibilitySettings;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: `text-2xl font-semibold ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`,\n        children: \"My Appointments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 5\n      }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n        textToSpeak: \"My Appointments page.\",\n        darkMode: darkMode,\n        highContrast: highContrast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsModalOpen(true),\n        className: `font-semibold py-2 px-4 rounded-lg shadow-md flex items-center\n      ${darkMode ? highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600' : 'bg-blue-600 hover:bg-blue-700 text-white' : highContrast ? 'bg-blue-700 text-white hover:bg-blue-800' : 'bg-blue-500 hover:bg-blue-600 text-white'}\n      `,\n        children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n          size: 20,\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 7\n        }, this), \"New Appointment\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 5\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n      children: \"Loading appointments...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 9\n    }, this) : appointments.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`,\n      children: \"You have no upcoming appointments.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: appointments.map(apt => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg shadow-md\n            ${apt.status === 'Cancelled' ? darkMode ? 'bg-gray-700 opacity-70' : 'bg-gray-200 opacity-70' : darkMode ? 'bg-gray-700' : 'bg-white'}\n            ${highContrast && darkMode ? 'border border-yellow-300' : ''}\n            ${highContrast && !darkMode && apt.status !== 'Cancelled' ? 'border border-blue-500' : ''}\n            ${highContrast && !darkMode && apt.status === 'Cancelled' ? 'border border-gray-400' : ''}\n            `,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `text-lg font-semibold ${darkMode ? highContrast ? 'text-yellow-300' : 'text-blue-400' : highContrast ? 'text-blue-700' : 'text-blue-600'}`,\n          children: apt.doctor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n          textToSpeak: `Appointment with ${apt.doctor}`,\n          darkMode: darkMode,\n          highContrast: highContrast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 16\n          }, this), \" \", apt.date, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Date ${apt.date}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 70\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Time:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 16\n          }, this), \" \", apt.time, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Time ${apt.time}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 70\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Reason:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 16\n          }, this), \" \", apt.reason, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Reason ${apt.reason}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 74\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 16\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `${apt.status === 'Cancelled' ? darkMode ? 'text-red-400' : 'text-red-500' : darkMode ? 'text-green-400' : 'text-green-500'}`,\n            children: apt.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 41\n          }, this), \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Status ${apt.status}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 229\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 13\n        }, this), apt.status !== 'Cancelled' && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => confirmCancel(apt.id),\n          className: `mt-3 font-semibold py-1 px-3 rounded-md text-sm flex items-center\n                ${darkMode ? highContrast ? 'bg-red-500 text-black hover:bg-red-600' : 'bg-red-600 hover:bg-red-700 text-white' : highContrast ? 'bg-red-700 text-white hover:bg-red-800' : 'bg-red-500 hover:bg-red-600 text-white'}\n                `,\n          children: [/*#__PURE__*/_jsxDEV(Trash2, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 17\n          }, this), \"Cancel\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 15\n        }, this)]\n      }, apt.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: () => setIsModalOpen(false),\n      title: \"Book a New Appointment\",\n      darkMode: darkMode,\n      highContrast: highContrast,\n      fontSizeClass: accessibilitySettings.fontSize,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleMakeAppointment,\n        className: \"space-y-4\",\n        children: [['doctor', 'date', 'time', 'reason'].map(field => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: field,\n            className: `block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200' : ''}`,\n            children: field.charAt(0).toUpperCase() + field.slice(1).replace('rV', 'r V')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 9\n          }, this), field === 'doctor' ? /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"doctor\",\n            value: doctor,\n            onChange: e => setDoctor(e.target.value),\n            className: `mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? darkMode ? 'border-yellow-400' : 'border-blue-600' : ''}`,\n            children: MOCK_DOCTORS.map(doc => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: doc.id,\n              children: doc.name\n            }, doc.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 36\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 11\n          }, this) : field === 'reason' ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"reason\",\n            rows: \"3\",\n            value: reason,\n            onChange: e => setReason(e.target.value),\n            placeholder: \"e.g., Annual check-up\",\n            className: `mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? darkMode ? 'border-yellow-400' : 'border-blue-600' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 11\n          }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n            type: field,\n            id: field,\n            value: field === 'date' ? date : time,\n            onChange: e => field === 'date' ? setDate(e.target.value) : setTime(e.target.value),\n            min: field === 'date' ? new Date().toISOString().split('T')[0] : undefined,\n            className: `mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? darkMode ? 'border-yellow-400' : 'border-blue-600' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 11\n          }, this)]\n        }, field, true, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 9\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: `w-full font-semibold py-2 px-4 rounded-lg shadow-md flex items-center justify-center ${darkMode ? highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600' : 'bg-blue-600 hover:bg-blue-700 text-white' : highContrast ? 'bg-blue-700 text-white hover:bg-blue-800' : 'bg-blue-500 hover:bg-blue-600 text-white'}`,\n          children: \"Confirm Appointment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: confirmCancelModal.isOpen,\n      onClose: () => setConfirmCancelModal({\n        isOpen: false,\n        appointmentId: null\n      }),\n      title: \"Confirm Cancellation\",\n      darkMode: darkMode,\n      highContrast: highContrast,\n      fontSizeClass: accessibilitySettings.fontSize,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: `${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-4`,\n        children: \"Are you sure you want to cancel this appointment?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setConfirmCancelModal({\n            isOpen: false,\n            appointmentId: null\n          }),\n          className: `px-4 py-2 rounded-md text-sm font-medium ${darkMode ? 'bg-gray-600 hover:bg-gray-500 text-white' : 'bg-gray-300 hover:bg-gray-400 text-black'}`,\n          children: \"No, Keep It\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: executeCancelAppointment,\n          className: `px-4 py-2 rounded-md text-sm font-medium ${darkMode ? highContrast ? 'bg-red-500 text-black hover:bg-red-600' : 'bg-red-600 hover:bg-red-700 text-white' : highContrast ? 'bg-red-700 text-white hover:bg-red-800' : 'bg-red-500 hover:bg-red-600 text-white'}`,\n          children: \"Yes, Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 390,\n    columnNumber: 5\n  }, this);\n};\n_s(AppointmentsScreen, \"W55kFCBcyCggQStZzQ2j83Con5w=\");\n_c6 = AppointmentsScreen;\nconst ChatScreen = ({\n  userId,\n  showNotification,\n  accessibilitySettings\n}) => {\n  _s2();\n  var _MOCK_DOCTORS$3;\n  const [messages, setMessages] = useState([{\n    id: 'm1',\n    text: 'Hello! How can I help you today?',\n    sender: 'doctor',\n    time: '10:00 AM'\n  }, {\n    id: 'm2',\n    text: 'I have a slight fever and a headache.',\n    sender: 'user',\n    time: '10:01 AM'\n  }]);\n  const [newMessage, setNewMessage] = useState('');\n  const [selectedDoctor, setSelectedDoctor] = useState(((_MOCK_DOCTORS$3 = MOCK_DOCTORS[0]) === null || _MOCK_DOCTORS$3 === void 0 ? void 0 : _MOCK_DOCTORS$3.id) || '');\n  const messagesEndRef = useRef(null); // For scrolling to bottom\n\n  const {\n    darkMode,\n    highContrast,\n    talkbackEnabled\n  } = accessibilitySettings;\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    // Scroll to bottom when new messages arrive\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!newMessage.trim()) return;\n    const messageData = {\n      text: newMessage,\n      sender: 'user',\n      time: new Date().toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      }),\n      createdAt: new Date().toISOString(),\n      userId: userId,\n      doctorId: selectedDoctor\n    };\n    setMessages(prevMessages => [...prevMessages, {\n      ...messageData,\n      id: `m${prevMessages.length + 1}`\n    }]);\n    setNewMessage('');\n    setTimeout(() => {\n      setMessages(prev => [...prev, {\n        id: `m${prev.length + 1}`,\n        text: \"Okay, I understand. Can you tell me more about your symptoms?\",\n        sender: 'doctor',\n        time: new Date().toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }]);\n    }, 1500);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex flex-col h-[calc(100vh-4rem)] transition-colors duration-300 ${darkMode ? 'bg-gray-900' : 'bg-gray-50'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `p-4 border-b shadow-sm ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} ${highContrast && darkMode ? 'border-b-yellow-400' : ''} ${highContrast && !darkMode ? 'border-b-blue-600' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"doctorSelect\",\n        className: `text-sm font-medium mr-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200' : ''}`,\n        children: \"Chat with:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"doctorSelect\",\n        value: selectedDoctor,\n        onChange: e => setSelectedDoctor(e.target.value),\n        className: `p-2 border rounded-md focus:outline-none ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? darkMode ? 'border-yellow-400' : 'border-blue-600' : ''}`,\n        children: MOCK_DOCTORS.map(doc => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: doc.id,\n          children: doc.name\n        }, doc.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 30\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-grow p-4 space-y-4 overflow-y-auto\",\n      children: [messages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `max-w-xs lg:max-w-md px-4 py-2 rounded-xl shadow\n        ${msg.sender === 'user' ? darkMode ? highContrast ? 'bg-blue-700 text-white rounded-br-none border border-white' : 'bg-blue-600 text-white rounded-br-none' : highContrast ? 'bg-blue-600 text-white rounded-br-none border border-black' : 'bg-blue-500 text-white rounded-br-none' : darkMode ? highContrast ? 'bg-black text-yellow-300 rounded-bl-none border border-yellow-400' : 'bg-gray-700 text-gray-200 rounded-bl-none' : highContrast ? 'bg-gray-300 text-black rounded-bl-none border border-black' : 'bg-gray-200 text-gray-800 rounded-bl-none'}\n        `,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [msg.text, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n              textToSpeak: msg.text,\n              darkMode: darkMode,\n              highContrast: highContrast\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 43\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-xs mt-1 ${msg.sender === 'user' ? darkMode ? 'text-blue-200 text-right' : 'text-blue-100 text-right' : darkMode ? 'text-gray-400 text-left' : 'text-gray-500 text-left'}`,\n            children: msg.time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 7\n        }, this)\n      }, msg.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 7\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSendMessage,\n      className: `p-4 border-t flex items-center ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} ${highContrast && darkMode ? 'border-t-yellow-400' : ''} ${highContrast && !darkMode ? 'border-t-blue-600' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newMessage,\n        onChange: e => setNewMessage(e.target.value),\n        placeholder: \"Type your message...\",\n        className: `flex-grow p-3 border rounded-l-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500' : 'border-gray-300 placeholder-gray-500 focus:ring-blue-400'} ${highContrast ? darkMode ? 'border-yellow-400 focus:ring-yellow-300' : 'border-blue-600 focus:ring-blue-500' : ''}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: `p-3 rounded-r-lg focus:outline-none focus:ring-2\n      ${darkMode ? highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600 focus:ring-yellow-300' : 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500' : highContrast ? 'bg-blue-700 text-white hover:bg-blue-800 focus:ring-blue-600' : 'bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-400'}\n      `,\n        children: /*#__PURE__*/_jsxDEV(Send, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 508,\n    columnNumber: 5\n  }, this);\n};\n_s2(ChatScreen, \"TPLf7ltEIuCeNXWDoHiNA1ATmJg=\");\n_c7 = ChatScreen;\nconst PrescriptionsScreen = ({\n  userId,\n  showNotification,\n  accessibilitySettings\n}) => {\n  _s3();\n  const [prescriptions, setPrescriptions] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const {\n    darkMode,\n    highContrast,\n    talkbackEnabled\n  } = accessibilitySettings;\n  useEffect(() => {\n    setIsLoading(true);\n    // Simulate fetching data (using mock for now)\n    // TODO: Replace with Firestore fetching if needed\n    setPrescriptions(MOCK_PRESCRIPTIONS);\n    setIsLoading(false);\n  }, [userId]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `p-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n      children: \"Loading prescriptions...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: `text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`,\n      children: \"My Prescriptions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 572,\n      columnNumber: 5\n    }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n      textToSpeak: \"My Prescriptions page.\",\n      darkMode: darkMode,\n      highContrast: highContrast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 573,\n      columnNumber: 25\n    }, this), prescriptions.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`,\n      children: \"You have no prescriptions on file.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: prescriptions.map(rx => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg shadow-md\n          ${darkMode ? 'bg-gray-700 border-l-4 border-green-500' : 'bg-white border-l-4 border-green-500'}\n          ${highContrast && darkMode ? 'border-yellow-300 border-l-yellow-400' : ''}\n          ${highContrast && !darkMode ? 'border-blue-500 border-l-blue-700' : ''}\n          `,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `text-lg font-semibold ${darkMode ? highContrast ? 'text-yellow-300' : 'text-green-400' : highContrast ? 'text-blue-700' : 'text-green-700'}`,\n          children: rx.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 11\n        }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n          textToSpeak: `Prescription: ${rx.name}`,\n          darkMode: darkMode,\n          highContrast: highContrast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Dosage:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 14\n          }, this), \" \", rx.dosage, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Dosage ${rx.dosage}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 71\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Prescribed on:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 84\n          }, this), \" \", rx.date, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Prescribed on ${rx.date}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 146\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Prescribed by:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 84\n          }, this), \" \", rx.doctor, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Prescribed by ${rx.doctor}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 148\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 11\n        }, this)]\n      }, rx.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 571,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Main App Component ---\n_s3(PrescriptionsScreen, \"4TTPA92ftk9of4sfJ+/uzSY85gE=\");\n_c8 = PrescriptionsScreen;\nconst App = () => {\n  _s4();\n  const [currentPage, setCurrentPage] = useState('home');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [userName, setUserName] = useState('');\n  const [notification, setNotification] = useState({\n    message: '',\n    type: ''\n  });\n  const [isSettingsModalOpen, setIsSettingsModalOpen] = useState(false);\n\n  // Accessibility Settings State\n  const [accessibilitySettings, setAccessibilitySettings] = useState({\n    fontSize: 'text-base',\n    // Tailwind classes: text-sm, text-base, text-lg, text-xl, text-2xl\n    highContrast: false,\n    darkMode: false,\n    talkbackEnabled: false // For simulated TalkBack feature\n  });\n\n  // Load settings from localStorage\n  useEffect(() => {\n    const savedSettings = localStorage.getItem('medicAssistAccessibilitySettings');\n    if (savedSettings) {\n      setAccessibilitySettings(JSON.parse(savedSettings));\n    }\n  }, []);\n\n  // Save settings to localStorage and apply dark mode\n  useEffect(() => {\n    localStorage.setItem('medicAssistAccessibilitySettings', JSON.stringify(accessibilitySettings));\n    if (accessibilitySettings.darkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [accessibilitySettings]);\n  const updateAccessibilitySetting = (key, value) => {\n    setAccessibilitySettings(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n  const showNotification = useCallback((message, type = 'info', duration = 3000) => {\n    setNotification({\n      message,\n      type\n    });\n    setTimeout(() => setNotification({\n      message: '',\n      type: ''\n    }), duration);\n  }, []);\n  useEffect(() => {\n    if (!auth) {\n      console.warn(\"Firebase Auth is not initialized.\");\n      setIsAuthReady(true);\n      return;\n    }\n    const unsubscribe = onAuthStateChanged(auth, async user => {\n      if (user) {\n        // This runs if a user is found (already signed in)\n        setCurrentUser(user);\n        setUserName(user.displayName || `User-${user.uid.substring(0, 5)}`);\n      } else {\n        // This runs if NO user is found (signed out)\n        setCurrentUser(null);\n        setUserName('');\n        try {\n          // --- Corrected Code Here ---\n\n          // Directly call signInAnonymously if no user is found\n          await signInAnonymously(auth);\n          console.log(\"Signed in anonymously.\"); // Add a log to confirm\n\n          // --- End of Corrected Code ---\n        } catch (error) {\n          console.error(\"Error during auto sign-in (anonymous):\", error); // Updated log\n          // Check if the error is because anonymous sign-in isn't enabled\n          if (error.code === 'auth/operation-not-allowed') {\n            console.warn(\"Anonymous authentication is not enabled in your Firebase project settings.\");\n            showNotification(\"Anonymous sign-in is disabled. Please enable it in Firebase console Auth settings.\", \"error\");\n          } else {\n            showNotification(\"Authentication issue. Some features might be limited.\", \"error\");\n          }\n        }\n      }\n      setIsAuthReady(true);\n    });\n    return () => unsubscribe();\n  }, [showNotification]);\n  const handleSignOut = async () => {\n    if (!auth) {\n      showNotification(\"Auth service not available.\", \"error\");\n      return;\n    }\n    try {\n      await signOut(auth);\n      setCurrentPage('home');\n      showNotification(\"Signed out successfully.\", \"success\");\n    } catch (error) {\n      console.error(\"Error signing out:\", error);\n      showNotification(\"Error signing out.\", \"error\");\n    }\n  };\n  const renderPage = () => {\n    if (!isAuthReady) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex justify-center items-center h-screen ${accessibilitySettings.fontSize} ${accessibilitySettings.darkMode ? 'bg-gray-900 text-white' : 'bg-gray-100 text-black'}`,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Initializing App...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 694,\n          columnNumber: 197\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 694,\n        columnNumber: 14\n      }, this);\n    }\n    const userId = currentUser ? currentUser.uid : null;\n    const commonProps = {\n      userId,\n      showNotification,\n      accessibilitySettings\n    };\n    switch (currentPage) {\n      case 'home':\n        return /*#__PURE__*/_jsxDEV(HomeScreen, {\n          setCurrentPage: setCurrentPage,\n          userName: userName,\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 27\n        }, this);\n      case 'makeAppointment': // Fallthrough to myAppointments for now\n      case 'myAppointments':\n        return /*#__PURE__*/_jsxDEV(AppointmentsScreen, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 37\n        }, this);\n      case 'chat':\n        return /*#__PURE__*/_jsxDEV(ChatScreen, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 27\n        }, this);\n      case 'prescriptions':\n        return /*#__PURE__*/_jsxDEV(PrescriptionsScreen, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 36\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(HomeScreen, {\n          setCurrentPage: setCurrentPage,\n          userName: userName,\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 705,\n          columnNumber: 23\n        }, this);\n    }\n  };\n  const NavItem = ({\n    page,\n    label,\n    icon: IconComponent\n  }) => /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => setCurrentPage(page),\n    className: `flex flex-col items-center justify-center p-2 w-full transition-colors duration-200 ease-in-out\n      ${accessibilitySettings.fontSize}\n      ${currentPage === page ? accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'text-yellow-300' : 'text-blue-400' : accessibilitySettings.highContrast ? 'text-blue-700 font-bold' : 'text-blue-500' : accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'text-gray-400 hover:text-yellow-200' : 'text-gray-400 hover:text-blue-300' : accessibilitySettings.highContrast ? 'text-gray-600 hover:text-blue-600' : 'text-gray-500 hover:text-blue-400'}\n      `,\n    children: [/*#__PURE__*/_jsxDEV(IconComponent, {\n      size: 24,\n      strokeWidth: currentPage === page ? 2.5 : 2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 720,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-xs mt-1\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 721,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 710,\n    columnNumber: 5\n  }, this);\n\n  // Apply base font size and high contrast classes to the main container\n  // Dark mode is applied to documentElement\n  let appClasses = `font-sans antialiased flex flex-col min-h-screen transition-colors duration-300 ${accessibilitySettings.fontSize}`;\n  if (accessibilitySettings.darkMode) {\n    appClasses += accessibilitySettings.highContrast ? ' bg-black text-yellow-300' : ' bg-gray-900 text-gray-200';\n  } else {\n    appClasses += accessibilitySettings.highContrast ? ' bg-white text-black border-2 border-blue-900' : ' bg-gray-100 text-gray-800';\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: appClasses,\n    children: [/*#__PURE__*/_jsxDEV(Notification, {\n      message: notification.message,\n      type: notification.type,\n      onDismiss: () => setNotification({\n        message: '',\n        type: ''\n      }),\n      darkMode: accessibilitySettings.darkMode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 737,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: `p-4 shadow-md flex justify-between items-center sticky top-0 z-40\n      ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'bg-black text-yellow-300 border-b-2 border-yellow-400' : 'bg-gray-800 text-white' : accessibilitySettings.highContrast ? 'bg-white text-blue-700 border-b-2 border-blue-700' : 'bg-blue-600 text-white'}\n        `,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-semibold\",\n        children: \"Medic Assist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 744,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [currentUser && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSignOut,\n          className: `text-sm flex items-center p-2 rounded-md\n            ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'hover:bg-yellow-700 text-yellow-300 border border-yellow-300' : 'hover:bg-gray-700 text-gray-300' : accessibilitySettings.highContrast ? 'hover:bg-blue-200 text-blue-700 border border-blue-700' : 'hover:bg-blue-700 text-blue-100'}\n              `,\n          children: [/*#__PURE__*/_jsxDEV(LogOut, {\n            size: 18,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 15\n          }, this), \" Sign Out\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsSettingsModalOpen(true),\n          \"aria-label\": \"Open accessibility settings\",\n          className: `p-2 rounded-md\n          ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'hover:bg-yellow-700 text-yellow-300' : 'hover:bg-gray-700 text-gray-300' : accessibilitySettings.highContrast ? 'hover:bg-blue-200 text-blue-700' : 'hover:bg-blue-700 text-blue-100'}\n            `,\n          children: /*#__PURE__*/_jsxDEV(Settings, {\n            size: 22\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 755,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 739,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-grow overflow-y-auto\",\n      children: renderPage()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 769,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: `fixed bottom-0 left-0 right-0 border-t shadow-t-md flex justify-around items-center h-16 z-40\n              ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'bg-black border-t-yellow-400' : 'bg-gray-800 border-gray-700' : accessibilitySettings.highContrast ? 'bg-white border-t-blue-700' : 'bg-white border-gray-200'}\n                `,\n      children: [/*#__PURE__*/_jsxDEV(NavItem, {\n        page: \"home\",\n        label: \"Home\",\n        icon: Home\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 778,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n        page: \"myAppointments\",\n        label: \"Appointments\",\n        icon: CalendarPlus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 779,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n        page: \"chat\",\n        label: \"Chat\",\n        icon: MessageSquare\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 780,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n        page: \"prescriptions\",\n        label: \"Prescriptions\",\n        icon: ListChecks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 781,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 773,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-16\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 783,\n      columnNumber: 17\n    }, this), \" \", /*#__PURE__*/_jsxDEV(AccessibilitySettingsModal, {\n      isOpen: isSettingsModalOpen,\n      onClose: () => setIsSettingsModalOpen(false),\n      settings: accessibilitySettings,\n      updateSettings: updateAccessibilitySetting,\n      darkMode: accessibilitySettings.darkMode,\n      highContrast: accessibilitySettings.highContrast,\n      fontSizeClass: accessibilitySettings.fontSize\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 785,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 736,\n    columnNumber: 5\n  }, this);\n};\n_s4(App, \"k0kKmiOL10yikJh4oOTjf1RNrDg=\");\n_c9 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"Modal\");\n$RefreshReg$(_c2, \"Notification\");\n$RefreshReg$(_c3, \"SpeakButton\");\n$RefreshReg$(_c4, \"AccessibilitySettingsModal\");\n$RefreshReg$(_c5, \"HomeScreen\");\n$RefreshReg$(_c6, \"AppointmentsScreen\");\n$RefreshReg$(_c7, \"ChatScreen\");\n$RefreshReg$(_c8, \"PrescriptionsScreen\");\n$RefreshReg$(_c9, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","initializeApp","getAuth","signInAnonymously","signInWithCustomToken","onAuthStateChanged","signOut","getFirestore","collection","addDoc","getDocs","doc","updateDoc","deleteDoc","onSnapshot","query","where","setDoc","Home","CalendarPlus","MessageSquare","ListChecks","UserCircle","XCircle","Send","PlusCircle","Trash2","LogOut","CheckCircle","AlertTriangle","Info","Settings","Volume2","Eye","Moon","Sun","ZoomIn","ZoomOut","jsxDEV","_jsxDEV","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","auth","db","e","console","error","warn","navigator","serviceWorker","register","then","registration","log","MOCK_PRESCRIPTIONS","id","name","dosage","date","doctor","MOCK_DOCTORS","Modal","isOpen","onClose","title","children","darkMode","highContrast","fontSizeClass","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","_c","Notification","message","type","onDismiss","bgColor","Icon","_c2","SpeakButton","textToSpeak","handleSpeak","stopPropagation","window","utterance","SpeechSynthesisUtterance","speechSynthesis","cancel","speak","substring","_c3","AccessibilitySettingsModal","settings","updateSettings","fontSize","hc","dm","talkbackEnabled","fontSizes","label","value","map","fs","_c4","HomeScreen","setCurrentPage","userName","userId","accessibilitySettings","page","icon","item","_c5","AppointmentsScreen","showNotification","_s","_MOCK_DOCTORS$","appointments","setAppointments","isLoading","setIsLoading","isModalOpen","setIsModalOpen","confirmCancelModal","setConfirmCancelModal","appointmentId","setDoctor","setDate","time","setTime","reason","setReason","appointmentsCollectionPath","status","q","unsubscribe","querySnapshot","userAppointments","forEach","push","data","sort","a","b","Date","handleMakeAppointment","_MOCK_DOCTORS$find","preventDefault","newAppointment","find","d","createdAt","toISOString","_MOCK_DOCTORS$2","confirmCancel","executeCancelAppointment","appointmentRef","length","apt","onSubmit","field","htmlFor","charAt","toUpperCase","slice","replace","onChange","target","rows","placeholder","min","split","undefined","_c6","ChatScreen","_s2","_MOCK_DOCTORS$3","messages","setMessages","text","sender","newMessage","setNewMessage","selectedDoctor","setSelectedDoctor","messagesEndRef","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","messageData","toLocaleTimeString","hour","minute","doctorId","prevMessages","setTimeout","prev","msg","ref","_c7","PrescriptionsScreen","_s3","prescriptions","setPrescriptions","rx","_c8","App","_s4","currentPage","currentUser","setCurrentUser","isAuthReady","setIsAuthReady","setUserName","notification","setNotification","isSettingsModalOpen","setIsSettingsModalOpen","setAccessibilitySettings","savedSettings","localStorage","getItem","JSON","parse","setItem","stringify","document","documentElement","classList","add","remove","updateAccessibilitySetting","key","duration","user","displayName","uid","code","handleSignOut","renderPage","commonProps","NavItem","IconComponent","strokeWidth","appClasses","_c9","$RefreshReg$"],"sources":["/home/diego/ExpoApp/my-app/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged, signOut } from 'firebase/auth'; // Added signInWithCustomToken\nimport { getFirestore, collection, addDoc, getDocs, doc, updateDoc, deleteDoc, onSnapshot, query, where, setDoc } from 'firebase/firestore';\nimport { Home, CalendarPlus, MessageSquare, ListChecks, UserCircle, XCircle, Send, PlusCircle, Trash2, LogOut, CheckCircle, AlertTriangle, Info, Settings, Volume2, Eye, Moon, Sun, ZoomIn, ZoomOut } from 'lucide-react';\nimport './App.css';\n// --- Firebase Configuration ---\n// const firebaseConfig = {\n//   apiKey: \"YOUR_API_KEY\",\n//   authDomain: \"YOUR_AUTH_DOMAIN\",\n//   projectId: \"YOUR_PROJECT_ID\",\n//   storageBucket: \"YOUR_STORAGE_BUCKET\",\n//   messagingSenderId: \"YOUR_MESSAGING_SENDER_ID\",\n//   appId: \"YOUR_APP_ID\"\n// };\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC9yqipXCN_ALWZFrFUaBbMG4LznCgt4MM\",\n  authDomain: \"medcare-app-9678b.firebaseapp.com\",\n  projectId: \"medcare-app-9678b\",\n  storageBucket: \"medcare-app-9678b.firebasestorage.app\",\n  messagingSenderId: \"805339182842\",\n  appId: \"1:805339182842:web:c4bab764c2c8b40527bb43\",\n  measurementId: \"G-L8444GNX38\"\n};\n\n\n// --- Global Firebase Variables (to be provided by the environment) ---\n//const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\nconst appId = 'medcare-app-9678b';\n// const finalFirebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : firebaseConfig;\n//const finalFirebaseConfig ='false';\n\n// --- Initialize Firebase ---\nlet app;\nlet auth;\nlet db;\n\ntry {\n//   app = initializeApp(finalFirebaseConfig);\n  app = initializeApp(firebaseConfig);\n  auth = getAuth(app);\n  db = getFirestore(app);\n  // import { setLogLevel } from \"firebase/firestore\"; // For debugging\n  // setLogLevel('debug');\n} catch (e) {\n  console.error(\"Error initializing Firebase:\", e);\n  if (!db) {\n    console.warn(\"Firestore (db) is not initialized. App will run with mock data and no persistence.\");\n  }\n}\n\n// Service worker\n\nif ('serviceWorker' in navigator) {\n  // Register a service worker hosted at the root of the\n  // site using the default scope.\n  navigator.serviceWorker.register('./service-worker.js').then(\n    registration => {\n      console.log('Service worker registration succeeded:', registration);\n    },\n    /*catch*/ error => {\n      console.error(`Service worker registration failed: ${error}`);\n    }\n  );\n} else {\n  console.error('Service workers are not supported.');\n}\n\n// --- Mock Data ---\nconst MOCK_PRESCRIPTIONS = [\n  { id: 'p1', name: 'Amoxicillin 250mg', dosage: '1 tablet every 8 hours for 7 days', date: '2024-05-20', doctor: 'Dr. Smith' },\n{ id: 'p2', name: 'Ibuprofen 400mg', dosage: '1 tablet as needed for pain', date: '2024-05-15', doctor: 'Dr. Jones' },\n{ id: 'p3', name: 'Metformin 500mg', dosage: '1 tablet twice daily with meals', date: '2024-04-28', doctor: 'Dr. Brown' },\n];\n\nconst MOCK_DOCTORS = [\n  { id: 'doc1', name: 'Dr. Emily Carter (Cardiologist)' },\n  { id: 'doc2', name: 'Dr. John Smith (General Practitioner)' },\n  { id: 'doc3', name: 'Dr. Sarah Lee (Pediatrician)' },\n];\n\n// --- Helper Components ---\n\n// Modal Component\nconst Modal = ({ isOpen, onClose, title, children, darkMode, highContrast, fontSizeClass }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n    <div className={`rounded-lg shadow-xl p-6 w-full max-w-md ${fontSizeClass} ${darkMode ? 'bg-gray-800 text-white' : 'bg-white text-gray-800'} ${highContrast ? (darkMode ? 'border-2 border-yellow-400' : 'border-2 border-blue-600') : ''}`}>\n    <div className=\"flex justify-between items-center mb-4\">\n    <h3 className={`text-xl font-semibold ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : (darkMode ? 'text-white' : 'text-gray-800')}`}>{title}</h3>\n    <button onClick={onClose} className={`${darkMode ? 'text-gray-300 hover:text-white' : 'text-gray-500 hover:text-gray-700'}`}>\n    <XCircle size={24} />\n    </button>\n    </div>\n    <div>{children}</div>\n    </div>\n    </div>\n  );\n};\n\n// Notification Component\nconst Notification = ({ message, type, onDismiss, darkMode }) => {\n  if (!message) return null;\n\n  let bgColor;\n  if (darkMode) {\n    bgColor = type === 'success' ? 'bg-green-700' : type === 'error' ? 'bg-red-700' : 'bg-blue-700';\n  } else {\n    bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';\n  }\n  const Icon = type === 'success' ? CheckCircle : type === 'error' ? AlertTriangle : Info;\n\n  return (\n    <div className={`fixed top-4 right-4 ${bgColor} text-white p-4 rounded-lg shadow-md flex items-center z-[100]`}>\n    <Icon size={24} className=\"mr-3\" />\n    <span>{message}</span>\n    {onDismiss && (\n      <button onClick={onDismiss} className=\"ml-4 text-white hover:text-gray-200\">\n      <XCircle size={20} />\n      </button>\n    )}\n    </div>\n  );\n};\n\n// SpeakButton for TalkBack simulation\nconst SpeakButton = ({ textToSpeak, darkMode, highContrast }) => {\n  const handleSpeak = (e) => {\n    e.stopPropagation(); // Prevent parent clicks if button is inside another clickable element\n    if ('speechSynthesis' in window && textToSpeak) {\n      const utterance = new SpeechSynthesisUtterance(textToSpeak);\n      // Optional: Configure voice, rate, pitch\n      // utterance.lang = 'en-US';\n      window.speechSynthesis.cancel(); // Cancel any previous speech\n      window.speechSynthesis.speak(utterance);\n    } else {\n      console.warn(\"Speech synthesis not supported or no text to speak.\");\n    }\n  };\n\n  return (\n    <button\n    onClick={handleSpeak}\n    aria-label={`Speak: ${textToSpeak.substring(0,30)}...`}\n    title=\"Read aloud\"\n    className={`ml-2 p-1 rounded ${darkMode ? (highContrast ? 'bg-yellow-500 text-black' : 'bg-gray-600 hover:bg-gray-500') : (highContrast ? 'bg-blue-500 text-white' : 'bg-gray-200 hover:bg-gray-300') }`}\n    >\n    <Volume2 size={16} />\n    </button>\n  );\n};\n\n\n// --- Accessibility Settings Modal ---\nconst AccessibilitySettingsModal = ({ isOpen, onClose, settings, updateSettings, darkMode, highContrast, fontSizeClass }) => {\n  const { fontSize, highContrast: hc, darkMode: dm, talkbackEnabled } = settings;\n\n  const fontSizes = [\n    { label: 'Normal', value: 'text-base' },\n    { label: 'Large', value: 'text-lg' },\n    { label: 'Extra Large', value: 'text-xl' },\n  ];\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} title=\"Accessibility Settings\" darkMode={darkMode} highContrast={highContrast} fontSizeClass={fontSizeClass}>\n    <div className=\"space-y-6\">\n    {/* Font Size */}\n    <div>\n    <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Font Size</h4>\n    <div className=\"flex space-x-2\">\n    {fontSizes.map(fs => (\n      <button\n      key={fs.value}\n      onClick={() => updateSettings('fontSize', fs.value)}\n      className={`px-3 py-1.5 rounded-md text-sm font-medium transition-colors\n        ${fontSize === fs.value\n          ? (darkMode ? 'bg-blue-500 text-white' : 'bg-blue-600 text-white')\n          : (darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700')}\n          ${highContrast && fontSize === fs.value ? (darkMode ? 'border-2 border-yellow-400' : 'border-2 border-blue-800') : ''}\n          ${highContrast && fontSize !== fs.value ? (darkMode ? 'border border-gray-500' : 'border border-gray-400') : ''}\n          `}\n          >\n          {fs.label}\n          </button>\n    ))}\n    </div>\n    </div>\n\n    {/* Dark Mode */}\n    <div>\n    <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Theme</h4>\n    <button\n    onClick={() => updateSettings('darkMode', !dm)}\n    className={`w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors\n      ${dm ? (highContrast ? 'bg-gray-900 text-yellow-300 border-2 border-yellow-400' : 'bg-gray-700 text-white') : (highContrast ? 'bg-white text-blue-700 border-2 border-blue-700' : 'bg-gray-200 text-black')}\n      hover:${dm ? (highContrast ? 'bg-gray-800' : 'bg-gray-600') : (highContrast ? 'bg-gray-100' : 'bg-gray-300')}\n      `}\n      >\n      {dm ? <Sun size={18} className=\"mr-2\" /> : <Moon size={18} className=\"mr-2\" />}\n      {dm ? 'Switch to Light Mode' : 'Switch to Dark Mode'}\n      </button>\n      </div>\n\n      {/* High Contrast */}\n      <div>\n      <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Contrast</h4>\n      <button\n      onClick={() => updateSettings('highContrast', !hc)}\n      className={`w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors\n        ${hc\n          ? (darkMode ? 'bg-yellow-400 text-black' : 'bg-blue-600 text-white')\n          : (darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700')}\n          ${highContrast && hc ? (darkMode ? 'border-2 border-white': 'border-2 border-black') : ''}\n          `}\n          >\n          <Eye size={18} className=\"mr-2\" />\n          {hc ? 'Disable High Contrast' : 'Enable High Contrast'}\n          </button>\n          </div>\n\n          {/* TalkBack Simulation */}\n          <div>\n          <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Read Aloud (TalkBack Simulation)</h4>\n          <button\n          onClick={() => updateSettings('talkbackEnabled', !talkbackEnabled)}\n          className={`w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors\n            ${talkbackEnabled\n              ? (darkMode ? 'bg-green-600 text-white' : 'bg-green-500 text-white')\n              : (darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700')}\n              ${highContrast && talkbackEnabled ? (darkMode ? 'border-2 border-white': 'border-2 border-black') : ''}\n              `}\n              >\n              <Volume2 size={18} className=\"mr-2\" />\n              {talkbackEnabled ? 'Disable Read Aloud Feature' : 'Enable Read Aloud Feature'}\n              </button>\n              {talkbackEnabled && <p className={`mt-2 text-xs ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>When enabled, look for <Volume2 size={12} className=\"inline\" /> icons to have text read aloud.</p>}\n              </div>\n              </div>\n              </Modal>\n  );\n};\n\n\n// --- Screen Components (Adapted for Accessibility) ---\n\nconst HomeScreen = ({ setCurrentPage, userName, userId, accessibilitySettings }) => (\n  <div className={`p-6 min-h-[calc(100vh-4rem)] flex flex-col justify-center items-center transition-colors duration-300\n    ${accessibilitySettings.darkMode ? 'bg-gradient-to-br from-gray-800 to-gray-900 text-white' : 'bg-gradient-to-br from-blue-500 to-indigo-600 text-white'}\n    ${accessibilitySettings.highContrast && accessibilitySettings.darkMode ? 'border-2 border-yellow-400' : ''}\n    ${accessibilitySettings.highContrast && !accessibilitySettings.darkMode ? 'bg-white text-black border-2 border-blue-700' : ''}\n    `}>\n    <UserCircle size={80} className={`mb-4 ${accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'text-yellow-300' : 'text-indigo-300') : (accessibilitySettings.highContrast ? 'text-blue-700' : 'text-indigo-200')}`} />\n    <h1 className={`text-3xl font-bold mb-2 ${accessibilitySettings.highContrast && !accessibilitySettings.darkMode ? 'text-black' : ''}`}>Welcome, {userName || 'User'}!</h1>\n    {accessibilitySettings.talkbackEnabled && <SpeakButton textToSpeak={`Welcome, ${userName || 'User'}!`} darkMode={accessibilitySettings.darkMode} highContrast={accessibilitySettings.highContrast} />}\n\n    <p className={`mb-1 text-sm ${accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'text-yellow-200' : 'text-indigo-100') : (accessibilitySettings.highContrast ? 'text-gray-700' : 'text-indigo-100')}`}>\n    User ID: <span className={`font-mono px-1 rounded ${accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'bg-yellow-600 text-black' : 'bg-gray-700') : (accessibilitySettings.highContrast ? 'bg-blue-200 text-black' : 'bg-indigo-700')}`}>{userId || 'N/A'}</span>\n    </p>\n    <p className={`mb-6 text-center ${accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'text-yellow-200' : 'text-indigo-100') : (accessibilitySettings.highContrast ? 'text-gray-700' : 'text-indigo-100')}`}>Your personal health assistant. Ready to help you manage your medical needs.</p>\n    {accessibilitySettings.talkbackEnabled && <SpeakButton textToSpeak=\"Your personal health assistant. Ready to help you manage your medical needs.\" darkMode={accessibilitySettings.darkMode} highContrast={accessibilitySettings.highContrast} />}\n\n    <div className=\"grid grid-cols-2 gap-4 w-full max-w-md\">\n    {[\n      { page: 'myAppointments', label: 'My Appointments', icon: ListChecks },\n      { page: 'chat', label: 'Chat with Doctor', icon: MessageSquare },\n      { page: 'prescriptions', label: 'View Prescriptions', icon: ListChecks },\n    ].map(item => (\n      <button\n      key={item.page}\n      onClick={() => setCurrentPage(item.page)}\n      className={`p-4 rounded-lg shadow-md transition-all flex flex-col items-center justify-center aspect-square\n        ${accessibilitySettings.darkMode\n          ? (accessibilitySettings.highContrast ? 'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900' : 'bg-gray-700 text-indigo-300 hover:bg-gray-600')\n          : (accessibilitySettings.highContrast ? 'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50' : 'bg-white text-blue-600 hover:bg-blue-50')}\n          `}\n          >\n          <item.icon size={32} className=\"mb-2\" />\n          <span className=\"font-semibold text-center\">{item.label}</span>\n          {accessibilitySettings.talkbackEnabled && <SpeakButton textToSpeak={item.label} darkMode={accessibilitySettings.darkMode} highContrast={accessibilitySettings.highContrast} />}\n          </button>\n    ))}\n    <button\n    onClick={() => setCurrentPage('makeAppointment')} // Kept separate if logic differs, or merge if identical to 'My Appointments' button\n    className={`p-4 rounded-lg shadow-md transition-all flex flex-col items-center justify-center aspect-square\n      ${accessibilitySettings.darkMode\n        ? (accessibilitySettings.highContrast ? 'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900' : 'bg-gray-700 text-indigo-300 hover:bg-gray-600')\n        : (accessibilitySettings.highContrast ? 'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50' : 'bg-white text-blue-600 hover:bg-blue-50')}\n        `}\n        >\n        <CalendarPlus size={32} className=\"mb-2\" />\n        <span className=\"font-semibold text-center\">Make Appointment</span>\n        {accessibilitySettings.talkbackEnabled && <SpeakButton textToSpeak=\"Make Appointment\" darkMode={accessibilitySettings.darkMode} highContrast={accessibilitySettings.highContrast} />}\n        </button>\n        </div>\n        </div>\n);\n\nconst AppointmentsScreen = ({ userId, showNotification, accessibilitySettings }) => {\n  const [appointments, setAppointments] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [confirmCancelModal, setConfirmCancelModal] = useState({ isOpen: false, appointmentId: null });\n\n  const [doctor, setDoctor] = useState(MOCK_DOCTORS[0]?.id || '');\n  const [date, setDate] = useState('');\n  const [time, setTime] = useState('');\n  const [reason, setReason] = useState('');\n\n  const appointmentsCollectionPath = `artifacts/${appId}/users/${userId}/appointments`;\n\n  useEffect(() => {\n    if (!db || !userId) {\n      console.log(\"Using mock appointments as db or userId is not available.\");\n      setAppointments([\n        { id: 'apt1', doctor: 'Dr. Emily Carter', date: '2024-06-10', time: '10:00 AM', reason: 'Check-up', status: 'Scheduled' },\n        { id: 'apt2', doctor: 'Dr. John Smith', date: '2024-06-15', time: '02:30 PM', reason: 'Follow-up', status: 'Scheduled' },\n      ]);\n      setIsLoading(false);\n      return;\n    }\n\n    setIsLoading(true);\n    const q = query(collection(db, appointmentsCollectionPath));\n    const unsubscribe = onSnapshot(q, (querySnapshot) => {\n      const userAppointments = [];\n      querySnapshot.forEach((doc) => {\n        userAppointments.push({ id: doc.id, ...doc.data() });\n      });\n      userAppointments.sort((a, b) => new Date(`${a.date} ${a.time}`) - new Date(`${b.date} ${b.time}`));\n      setAppointments(userAppointments);\n      setIsLoading(false);\n    }, (error) => {\n      console.error(\"Error fetching appointments: \", error);\n      showNotification(\"Error fetching appointments.\", \"error\");\n      setIsLoading(false);\n    });\n    return () => unsubscribe();\n  }, [userId, showNotification, appointmentsCollectionPath]);\n\n  const handleMakeAppointment = async (e) => {\n    e.preventDefault();\n    if (!db || !userId) {\n      showNotification(\"Database not available.\", \"error\"); return;\n    }\n    if (!doctor || !date || !time || !reason) {\n      showNotification(\"Please fill all fields.\", \"error\"); return;\n    }\n    const newAppointment = {\n      doctor: MOCK_DOCTORS.find(d => d.id === doctor)?.name || doctor, date, time, reason,\n      status: 'Scheduled', createdAt: new Date().toISOString()\n    };\n    try {\n      await addDoc(collection(db, appointmentsCollectionPath), newAppointment);\n      showNotification(\"Appointment booked successfully!\", \"success\");\n      setDoctor(MOCK_DOCTORS[0]?.id || ''); setDate(''); setTime(''); setReason('');\n      setIsModalOpen(false);\n    } catch (error) {\n      console.error(\"Error adding appointment: \", error);\n      showNotification(\"Failed to book appointment.\", \"error\");\n    }\n  };\n\n  const confirmCancel = (appointmentId) => {\n    setConfirmCancelModal({ isOpen: true, appointmentId });\n  };\n\n  const executeCancelAppointment = async () => {\n    const appointmentId = confirmCancelModal.appointmentId;\n    if (!db || !userId || !appointmentId) {\n      showNotification(\"Database not available or invalid request.\", \"error\");\n      setConfirmCancelModal({ isOpen: false, appointmentId: null });\n      return;\n    }\n    try {\n      const appointmentRef = doc(db, appointmentsCollectionPath, appointmentId);\n      await updateDoc(appointmentRef, { status: 'Cancelled' });\n      showNotification(\"Appointment cancelled successfully.\", \"success\");\n    } catch (error) {\n      console.error(\"Error cancelling appointment: \", error);\n      showNotification(\"Failed to cancel appointment.\", \"error\");\n    }\n    setConfirmCancelModal({ isOpen: false, appointmentId: null });\n  };\n\n  const { darkMode, highContrast, talkbackEnabled, fontSize } = accessibilitySettings;\n\n  return (\n    <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <div className=\"flex justify-between items-center mb-6\">\n    <h2 className={`text-2xl font-semibold ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>My Appointments</h2>\n    {talkbackEnabled && <SpeakButton textToSpeak=\"My Appointments page.\" darkMode={darkMode} highContrast={highContrast}/>}\n    <button\n    onClick={() => setIsModalOpen(true)}\n    className={`font-semibold py-2 px-4 rounded-lg shadow-md flex items-center\n      ${darkMode ? (highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600' : 'bg-blue-600 hover:bg-blue-700 text-white') : (highContrast ? 'bg-blue-700 text-white hover:bg-blue-800' : 'bg-blue-500 hover:bg-blue-600 text-white')}\n      `}\n      >\n      <PlusCircle size={20} className=\"mr-2\" />\n      New Appointment\n      </button>\n      </div>\n\n      {isLoading ? (\n        <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Loading appointments...</p>\n      ) : appointments.length === 0 ? (\n        <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`}>You have no upcoming appointments.</p>\n      ) : (\n        <div className=\"space-y-4\">\n        {appointments.map(apt => (\n          <div key={apt.id} className={`p-4 rounded-lg shadow-md\n            ${apt.status === 'Cancelled' ? (darkMode ? 'bg-gray-700 opacity-70' : 'bg-gray-200 opacity-70') : (darkMode ? 'bg-gray-700' : 'bg-white')}\n            ${highContrast && darkMode ? 'border border-yellow-300' : ''}\n            ${highContrast && !darkMode && apt.status !== 'Cancelled' ? 'border border-blue-500' : ''}\n            ${highContrast && !darkMode && apt.status === 'Cancelled' ? 'border border-gray-400' : ''}\n            `}>\n            <h3 className={`text-lg font-semibold ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-blue-400') : (highContrast ? 'text-blue-700' : 'text-blue-600')}`}>{apt.doctor}</h3>\n            {talkbackEnabled && <SpeakButton textToSpeak={`Appointment with ${apt.doctor}`} darkMode={darkMode} highContrast={highContrast}/>}\n            <p><strong>Date:</strong> {apt.date} {talkbackEnabled && <SpeakButton textToSpeak={`Date ${apt.date}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n            <p><strong>Time:</strong> {apt.time} {talkbackEnabled && <SpeakButton textToSpeak={`Time ${apt.time}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n            <p><strong>Reason:</strong> {apt.reason} {talkbackEnabled && <SpeakButton textToSpeak={`Reason ${apt.reason}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n            <p><strong>Status:</strong> <span className={`${apt.status === 'Cancelled' ? (darkMode ? 'text-red-400' : 'text-red-500') : (darkMode ? 'text-green-400' : 'text-green-500')}`}>{apt.status}</span> {talkbackEnabled && <SpeakButton textToSpeak={`Status ${apt.status}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n            {apt.status !== 'Cancelled' && (\n              <button\n              onClick={() => confirmCancel(apt.id)}\n              className={`mt-3 font-semibold py-1 px-3 rounded-md text-sm flex items-center\n                ${darkMode ? (highContrast ? 'bg-red-500 text-black hover:bg-red-600' : 'bg-red-600 hover:bg-red-700 text-white') : (highContrast ? 'bg-red-700 text-white hover:bg-red-800' : 'bg-red-500 hover:bg-red-600 text-white')}\n                `}\n                >\n                <Trash2 size={16} className=\"mr-1\" />\n                Cancel\n                </button>\n            )}\n            </div>\n        ))}\n        </div>\n      )}\n\n      <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} title=\"Book a New Appointment\" darkMode={darkMode} highContrast={highContrast} fontSizeClass={accessibilitySettings.fontSize}>\n      <form onSubmit={handleMakeAppointment} className=\"space-y-4\">\n      {/* Form fields adapted for accessibility settings */}\n      {['doctor', 'date', 'time', 'reason'].map(field => (\n        <div key={field}>\n        <label htmlFor={field} className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200':''}`}>\n        {field.charAt(0).toUpperCase() + field.slice(1).replace('rV', 'r V')}\n        </label>\n        {field === 'doctor' ? (\n          <select id=\"doctor\" value={doctor} onChange={(e) => setDoctor(e.target.value)} className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`}>\n          {MOCK_DOCTORS.map(doc => <option key={doc.id} value={doc.id}>{doc.name}</option>)}\n          </select>\n        ) : field === 'reason' ? (\n          <textarea id=\"reason\" rows=\"3\" value={reason} onChange={(e) => setReason(e.target.value)} placeholder=\"e.g., Annual check-up\" className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`}></textarea>\n        ) : (\n          <input type={field} id={field} value={field === 'date' ? date : time} onChange={(e) => field === 'date' ? setDate(e.target.value) : setTime(e.target.value)} min={field === 'date' ? new Date().toISOString().split('T')[0] : undefined} className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`} />\n        )}\n        </div>\n      ))}\n      <button type=\"submit\" className={`w-full font-semibold py-2 px-4 rounded-lg shadow-md flex items-center justify-center ${darkMode ? (highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600' : 'bg-blue-600 hover:bg-blue-700 text-white') : (highContrast ? 'bg-blue-700 text-white hover:bg-blue-800' : 'bg-blue-500 hover:bg-blue-600 text-white')}`}>\n      Confirm Appointment\n      </button>\n      </form>\n      </Modal>\n      <Modal isOpen={confirmCancelModal.isOpen} onClose={() => setConfirmCancelModal({ isOpen: false, appointmentId: null })} title=\"Confirm Cancellation\" darkMode={darkMode} highContrast={highContrast} fontSizeClass={accessibilitySettings.fontSize}>\n      <p className={`${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-4`}>Are you sure you want to cancel this appointment?</p>\n      <div className=\"flex justify-end space-x-3\">\n      <button onClick={() => setConfirmCancelModal({ isOpen: false, appointmentId: null })} className={`px-4 py-2 rounded-md text-sm font-medium ${darkMode ? 'bg-gray-600 hover:bg-gray-500 text-white' : 'bg-gray-300 hover:bg-gray-400 text-black'}`}>No, Keep It</button>\n      <button onClick={executeCancelAppointment} className={`px-4 py-2 rounded-md text-sm font-medium ${darkMode ? (highContrast ? 'bg-red-500 text-black hover:bg-red-600' : 'bg-red-600 hover:bg-red-700 text-white') : (highContrast ? 'bg-red-700 text-white hover:bg-red-800' : 'bg-red-500 hover:bg-red-600 text-white')}`}>Yes, Cancel</button>\n      </div>\n      </Modal>\n      </div>\n  );\n};\n\nconst ChatScreen = ({ userId, showNotification, accessibilitySettings }) => {\n  const [messages, setMessages] = useState([\n    { id: 'm1', text: 'Hello! How can I help you today?', sender: 'doctor', time: '10:00 AM' },\n    { id: 'm2', text: 'I have a slight fever and a headache.', sender: 'user', time: '10:01 AM' },\n  ]);\n  const [newMessage, setNewMessage] = useState('');\n  const [selectedDoctor, setSelectedDoctor] = useState(MOCK_DOCTORS[0]?.id || '');\n  const messagesEndRef = useRef(null); // For scrolling to bottom\n\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n\n  useEffect(() => { // Scroll to bottom when new messages arrive\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    if (!newMessage.trim()) return;\n    const messageData = {\n      text: newMessage, sender: 'user', time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),\n      createdAt: new Date().toISOString(), userId: userId, doctorId: selectedDoctor\n    };\n    setMessages(prevMessages => [...prevMessages, { ...messageData, id: `m${prevMessages.length + 1}` }]);\n    setNewMessage('');\n    setTimeout(() => {\n      setMessages(prev => [...prev, {\n        id: `m${prev.length + 1}`, text: \"Okay, I understand. Can you tell me more about your symptoms?\",\n        sender: 'doctor', time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n      }]);\n    }, 1500);\n  };\n\n  return (\n    <div className={`flex flex-col h-[calc(100vh-4rem)] transition-colors duration-300 ${darkMode ? 'bg-gray-900' : 'bg-gray-50'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <div className={`p-4 border-b shadow-sm ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} ${highContrast && darkMode ? 'border-b-yellow-400':''} ${highContrast && !darkMode ? 'border-b-blue-600':''}`}>\n    <label htmlFor=\"doctorSelect\" className={`text-sm font-medium mr-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200':''}`}>Chat with:</label>\n    <select\n    id=\"doctorSelect\" value={selectedDoctor} onChange={(e) => setSelectedDoctor(e.target.value)}\n    className={`p-2 border rounded-md focus:outline-none ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`}\n    >\n    {MOCK_DOCTORS.map(doc => <option key={doc.id} value={doc.id}>{doc.name}</option>)}\n    </select>\n    </div>\n\n    <div className=\"flex-grow p-4 space-y-4 overflow-y-auto\">\n    {messages.map(msg => (\n      <div key={msg.id} className={`flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`}>\n      <div className={`max-w-xs lg:max-w-md px-4 py-2 rounded-xl shadow\n        ${msg.sender === 'user'\n          ? (darkMode ? (highContrast ? 'bg-blue-700 text-white rounded-br-none border border-white' : 'bg-blue-600 text-white rounded-br-none') : (highContrast ? 'bg-blue-600 text-white rounded-br-none border border-black' : 'bg-blue-500 text-white rounded-br-none'))\n          : (darkMode ? (highContrast ? 'bg-black text-yellow-300 rounded-bl-none border border-yellow-400' : 'bg-gray-700 text-gray-200 rounded-bl-none') : (highContrast ? 'bg-gray-300 text-black rounded-bl-none border border-black' : 'bg-gray-200 text-gray-800 rounded-bl-none'))\n        }\n        `}>\n        <p>{msg.text} {talkbackEnabled && <SpeakButton textToSpeak={msg.text} darkMode={darkMode} highContrast={highContrast}/>}</p>\n        <p className={`text-xs mt-1 ${msg.sender === 'user' ? (darkMode ? 'text-blue-200 text-right' : 'text-blue-100 text-right') : (darkMode ? 'text-gray-400 text-left' : 'text-gray-500 text-left')}`}>\n        {msg.time}\n        </p>\n        </div>\n        </div>\n    ))}\n    <div ref={messagesEndRef} />\n    </div>\n\n    <form onSubmit={handleSendMessage} className={`p-4 border-t flex items-center ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} ${highContrast && darkMode ? 'border-t-yellow-400':''} ${highContrast && !darkMode ? 'border-t-blue-600':''}`}>\n    <input\n    type=\"text\" value={newMessage} onChange={(e) => setNewMessage(e.target.value)} placeholder=\"Type your message...\"\n    className={`flex-grow p-3 border rounded-l-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500' : 'border-gray-300 placeholder-gray-500 focus:ring-blue-400'} ${highContrast ? (darkMode ? 'border-yellow-400 focus:ring-yellow-300' : 'border-blue-600 focus:ring-blue-500') : ''}`}\n    />\n    <button type=\"submit\" className={`p-3 rounded-r-lg focus:outline-none focus:ring-2\n      ${darkMode ? (highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600 focus:ring-yellow-300' : 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500') : (highContrast ? 'bg-blue-700 text-white hover:bg-blue-800 focus:ring-blue-600' : 'bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-400')}\n      `}>\n      <Send size={24} />\n      </button>\n      </form>\n      </div>\n  );\n};\n\nconst PrescriptionsScreen = ({ userId, showNotification, accessibilitySettings }) => {\n  const [prescriptions, setPrescriptions] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n\n  useEffect(() => {\n    setIsLoading(true);\n    // Simulate fetching data (using mock for now)\n    // TODO: Replace with Firestore fetching if needed\n    setPrescriptions(MOCK_PRESCRIPTIONS);\n    setIsLoading(false);\n  }, [userId]);\n\n  if (isLoading) {\n    return <p className={`p-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Loading prescriptions...</p>;\n  }\n\n  return (\n    <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <h2 className={`text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>My Prescriptions</h2>\n    {talkbackEnabled && <SpeakButton textToSpeak=\"My Prescriptions page.\" darkMode={darkMode} highContrast={highContrast}/>}\n    {prescriptions.length === 0 ? (\n      <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`}>You have no prescriptions on file.</p>\n    ) : (\n      <div className=\"space-y-4\">\n      {prescriptions.map(rx => (\n        <div key={rx.id} className={`p-4 rounded-lg shadow-md\n          ${darkMode ? 'bg-gray-700 border-l-4 border-green-500' : 'bg-white border-l-4 border-green-500'}\n          ${highContrast && darkMode ? 'border-yellow-300 border-l-yellow-400' : ''}\n          ${highContrast && !darkMode ? 'border-blue-500 border-l-blue-700' : ''}\n          `}>\n          <h3 className={`text-lg font-semibold ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-green-400') : (highContrast ? 'text-blue-700' : 'text-green-700')}`}>{rx.name}</h3>\n          {talkbackEnabled && <SpeakButton textToSpeak={`Prescription: ${rx.name}`} darkMode={darkMode} highContrast={highContrast}/>}\n          <p><strong>Dosage:</strong> {rx.dosage} {talkbackEnabled && <SpeakButton textToSpeak={`Dosage ${rx.dosage}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n          <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}><strong>Prescribed on:</strong> {rx.date} {talkbackEnabled && <SpeakButton textToSpeak={`Prescribed on ${rx.date}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n          <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}><strong>Prescribed by:</strong> {rx.doctor} {talkbackEnabled && <SpeakButton textToSpeak={`Prescribed by ${rx.doctor}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n          </div>\n      ))}\n      </div>\n    )}\n    </div>\n  );\n};\n\n\n// --- Main App Component ---\nconst App = () => {\n  const [currentPage, setCurrentPage] = useState('home');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [userName, setUserName] = useState('');\n  const [notification, setNotification] = useState({ message: '', type: '' });\n  const [isSettingsModalOpen, setIsSettingsModalOpen] = useState(false);\n\n  // Accessibility Settings State\n  const [accessibilitySettings, setAccessibilitySettings] = useState({\n    fontSize: 'text-base', // Tailwind classes: text-sm, text-base, text-lg, text-xl, text-2xl\n    highContrast: false,\n    darkMode: false,\n    talkbackEnabled: false, // For simulated TalkBack feature\n  });\n\n  // Load settings from localStorage\n  useEffect(() => {\n    const savedSettings = localStorage.getItem('medicAssistAccessibilitySettings');\n    if (savedSettings) {\n      setAccessibilitySettings(JSON.parse(savedSettings));\n    }\n  }, []);\n\n  // Save settings to localStorage and apply dark mode\n  useEffect(() => {\n    localStorage.setItem('medicAssistAccessibilitySettings', JSON.stringify(accessibilitySettings));\n    if (accessibilitySettings.darkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [accessibilitySettings]);\n\n  const updateAccessibilitySetting = (key, value) => {\n    setAccessibilitySettings(prev => ({ ...prev, [key]: value }));\n  };\n\n  const showNotification = useCallback((message, type = 'info', duration = 3000) => {\n    setNotification({ message, type });\n    setTimeout(() => setNotification({ message: '', type: '' }), duration);\n  }, []);\n\n  useEffect(() => {\n    if (!auth) {\n      console.warn(\"Firebase Auth is not initialized.\");\n      setIsAuthReady(true); return;\n    }\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      if (user) {\n        // This runs if a user is found (already signed in)\n        setCurrentUser(user);\n        setUserName(user.displayName || `User-${user.uid.substring(0,5)}`);\n      } else {\n        // This runs if NO user is found (signed out)\n        setCurrentUser(null); setUserName('');\n        try {\n          // --- Corrected Code Here ---\n\n          // Directly call signInAnonymously if no user is found\n          await signInAnonymously(auth);\n          console.log(\"Signed in anonymously.\"); // Add a log to confirm\n\n          // --- End of Corrected Code ---\n        } catch (error) {\n          console.error(\"Error during auto sign-in (anonymous):\", error); // Updated log\n          // Check if the error is because anonymous sign-in isn't enabled\n          if (error.code === 'auth/operation-not-allowed') {\n            console.warn(\"Anonymous authentication is not enabled in your Firebase project settings.\");\n            showNotification(\"Anonymous sign-in is disabled. Please enable it in Firebase console Auth settings.\", \"error\");\n          } else {\n            showNotification(\"Authentication issue. Some features might be limited.\", \"error\");\n          }\n        }\n      }\n      setIsAuthReady(true);\n    });\n\n    return () => unsubscribe();\n  }, [showNotification]);\n\n  const handleSignOut = async () => {\n    if (!auth) { showNotification(\"Auth service not available.\", \"error\"); return; }\n    try {\n      await signOut(auth);\n      setCurrentPage('home');\n      showNotification(\"Signed out successfully.\", \"success\");\n    } catch (error) {\n      console.error(\"Error signing out:\", error);\n      showNotification(\"Error signing out.\", \"error\");\n    }\n  };\n\n  const renderPage = () => {\n    if (!isAuthReady) {\n      return <div className={`flex justify-center items-center h-screen ${accessibilitySettings.fontSize} ${accessibilitySettings.darkMode ? 'bg-gray-900 text-white' : 'bg-gray-100 text-black'}`}><p>Initializing App...</p></div>;\n    }\n    const userId = currentUser ? currentUser.uid : null;\n    const commonProps = { userId, showNotification, accessibilitySettings };\n\n    switch (currentPage) {\n      case 'home': return <HomeScreen setCurrentPage={setCurrentPage} userName={userName} {...commonProps} />;\n      case 'makeAppointment': // Fallthrough to myAppointments for now\n      case 'myAppointments': return <AppointmentsScreen {...commonProps} />;\n      case 'chat': return <ChatScreen {...commonProps} />;\n      case 'prescriptions': return <PrescriptionsScreen {...commonProps} />;\n      default: return <HomeScreen setCurrentPage={setCurrentPage} userName={userName} {...commonProps} />;\n    }\n  };\n\n  const NavItem = ({ page, label, icon: IconComponent }) => (\n    <button\n    onClick={() => setCurrentPage(page)}\n    className={`flex flex-col items-center justify-center p-2 w-full transition-colors duration-200 ease-in-out\n      ${accessibilitySettings.fontSize}\n      ${currentPage === page\n        ? (accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'text-yellow-300' : 'text-blue-400') : (accessibilitySettings.highContrast ? 'text-blue-700 font-bold' : 'text-blue-500'))\n        : (accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'text-gray-400 hover:text-yellow-200' : 'text-gray-400 hover:text-blue-300') : (accessibilitySettings.highContrast ? 'text-gray-600 hover:text-blue-600' : 'text-gray-500 hover:text-blue-400'))\n      }\n      `}\n      >\n      <IconComponent size={24} strokeWidth={currentPage === page ? 2.5 : 2} />\n      <span className=\"text-xs mt-1\">{label}</span>\n      </button>\n  );\n\n  // Apply base font size and high contrast classes to the main container\n  // Dark mode is applied to documentElement\n  let appClasses = `font-sans antialiased flex flex-col min-h-screen transition-colors duration-300 ${accessibilitySettings.fontSize}`;\n  if (accessibilitySettings.darkMode) {\n    appClasses += accessibilitySettings.highContrast ? ' bg-black text-yellow-300' : ' bg-gray-900 text-gray-200';\n  } else {\n    appClasses += accessibilitySettings.highContrast ? ' bg-white text-black border-2 border-blue-900' : ' bg-gray-100 text-gray-800';\n  }\n\n\n  return (\n    <div className={appClasses}>\n    <Notification message={notification.message} type={notification.type} onDismiss={() => setNotification({message: '', type: ''})} darkMode={accessibilitySettings.darkMode} />\n\n    <header className={`p-4 shadow-md flex justify-between items-center sticky top-0 z-40\n      ${accessibilitySettings.darkMode\n        ? (accessibilitySettings.highContrast ? 'bg-black text-yellow-300 border-b-2 border-yellow-400' : 'bg-gray-800 text-white')\n        : (accessibilitySettings.highContrast ? 'bg-white text-blue-700 border-b-2 border-blue-700' : 'bg-blue-600 text-white')}\n        `}>\n        <h1 className=\"text-xl font-semibold\">Medic Assist</h1>\n        <div className=\"flex items-center space-x-2\">\n        {currentUser && (\n          <button onClick={handleSignOut} className={`text-sm flex items-center p-2 rounded-md\n            ${accessibilitySettings.darkMode\n              ? (accessibilitySettings.highContrast ? 'hover:bg-yellow-700 text-yellow-300 border border-yellow-300' : 'hover:bg-gray-700 text-gray-300')\n              : (accessibilitySettings.highContrast ? 'hover:bg-blue-200 text-blue-700 border border-blue-700' : 'hover:bg-blue-700 text-blue-100')}\n              `}>\n              <LogOut size={18} className=\"mr-1\" /> Sign Out\n              </button>\n        )}\n        <button\n        onClick={() => setIsSettingsModalOpen(true)}\n        aria-label=\"Open accessibility settings\"\n        className={`p-2 rounded-md\n          ${accessibilitySettings.darkMode\n            ? (accessibilitySettings.highContrast ? 'hover:bg-yellow-700 text-yellow-300' : 'hover:bg-gray-700 text-gray-300')\n            : (accessibilitySettings.highContrast ? 'hover:bg-blue-200 text-blue-700' : 'hover:bg-blue-700 text-blue-100')}\n            `}\n            >\n            <Settings size={22} />\n            </button>\n            </div>\n            </header>\n\n            <main className=\"flex-grow overflow-y-auto\">\n            {renderPage()}\n            </main>\n\n            <nav className={`fixed bottom-0 left-0 right-0 border-t shadow-t-md flex justify-around items-center h-16 z-40\n              ${accessibilitySettings.darkMode\n                ? (accessibilitySettings.highContrast ? 'bg-black border-t-yellow-400' : 'bg-gray-800 border-gray-700')\n                : (accessibilitySettings.highContrast ? 'bg-white border-t-blue-700' : 'bg-white border-gray-200')}\n                `}>\n                <NavItem page=\"home\" label=\"Home\" icon={Home} />\n                <NavItem page=\"myAppointments\" label=\"Appointments\" icon={CalendarPlus} />\n                <NavItem page=\"chat\" label=\"Chat\" icon={MessageSquare} />\n                <NavItem page=\"prescriptions\" label=\"Prescriptions\" icon={ListChecks} />\n                </nav>\n                <div className=\"h-16\"></div> {/* Spacer for bottom nav */}\n\n                <AccessibilitySettingsModal\n                isOpen={isSettingsModalOpen}\n                onClose={() => setIsSettingsModalOpen(false)}\n                settings={accessibilitySettings}\n                updateSettings={updateAccessibilitySetting}\n                darkMode={accessibilitySettings.darkMode}\n                highContrast={accessibilitySettings.highContrast}\n                fontSizeClass={accessibilitySettings.fontSize}\n                />\n                </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}