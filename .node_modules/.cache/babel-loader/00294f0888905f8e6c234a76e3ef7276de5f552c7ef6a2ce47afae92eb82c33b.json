{"ast":null,"code":"var _jsxFileName = \"/home/diego/ExpoApp/my-app/src/App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged, signOut } from 'firebase/auth'; // Added signInWithCustomToken\nimport { getFirestore, collection, addDoc, getDocs, doc, updateDoc, deleteDoc, onSnapshot, query, where, setDoc } from 'firebase/firestore';\nimport { Home, CalendarPlus, MessageSquare, ListChecks, UserCircle, XCircle, Send, PlusCircle, Trash2, LogOut, CheckCircle, AlertTriangle, Info, Settings, Volume2, Eye, Moon, Sun, ZoomIn, ZoomOut } from 'lucide-react';\n\n// // --- Firebase Configuration ---\n// const firebaseConfig = {\n//   apiKey: \"YOUR_API_KEY\",\n//   authDomain: \"YOUR_AUTH_DOMAIN\",\n//   projectId: \"YOUR_PROJECT_ID\",\n//   storageBucket: \"YOUR_STORAGE_BUCKET\",\n//   messagingSenderId: \"YOUR_MESSAGING_SENDER_ID\",\n//   appId: \"YOUR_APP_ID\"\n// };\n//\n// // --- Global Firebase Variables (to be provided by the environment) ---\n// const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n// const finalFirebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : firebaseConfig;\n//\n// // --- Initialize Firebase ---\n// let app;\n// let auth;\n// let db;\n//\n// try {\n//   app = initializeApp(finalFirebaseConfig);\n//   auth = getAuth(app);\n//   db = getFirestore(app);\n//   // import { setLogLevel } from \"firebase/firestore\"; // For debugging\n//   // setLogLevel('debug');\n// } catch (e) {\n//   console.error(\"Error initializing Firebase:\", e);\n//   if (!db) {\n//     console.warn(\"Firestore (db) is not initialized. App will run with mock data and no persistence.\");\n//   }\n// }\n//\n// // --- Mock Data ---\n// const MOCK_PRESCRIPTIONS = [\n//   { id: 'p1', name: 'Amoxicillin 250mg', dosage: '1 tablet every 8 hours for 7 days', date: '2024-05-20', doctor: 'Dr. Smith' },\n// { id: 'p2', name: 'Ibuprofen 400mg', dosage: '1 tablet as needed for pain', date: '2024-05-15', doctor: 'Dr. Jones' },\n// { id: 'p3', name: 'Metformin 500mg', dosage: '1 tablet twice daily with meals', date: '2024-04-28', doctor: 'Dr. Brown' },\n// ];\n//\n// const MOCK_DOCTORS = [\n//   { id: 'doc1', name: 'Dr. Emily Carter (Cardiologist)' },\n//   { id: 'doc2', name: 'Dr. John Smith (General Practitioner)' },\n//   { id: 'doc3', name: 'Dr. Sarah Lee (Pediatrician)' },\n// ];\n\n// --- Helper Components ---\n\n// Modal Component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  darkMode,\n  highContrast,\n  fontSizeClass\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `rounded-lg shadow-xl p-6 w-full max-w-md ${fontSizeClass} ${darkMode ? 'bg-gray-800 text-white' : 'bg-white text-gray-800'} ${highContrast ? darkMode ? 'border-2 border-yellow-400' : 'border-2 border-blue-600' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `text-xl font-semibold ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : darkMode ? 'text-white' : 'text-gray-800'}`,\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: `${darkMode ? 'text-gray-300 hover:text-white' : 'text-gray-500 hover:text-gray-700'}`,\n          children: /*#__PURE__*/_jsxDEV(XCircle, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n// Notification Component\n_c = Modal;\nconst Notification = ({\n  message,\n  type,\n  onDismiss,\n  darkMode\n}) => {\n  if (!message) return null;\n  let bgColor;\n  if (darkMode) {\n    bgColor = type === 'success' ? 'bg-green-700' : type === 'error' ? 'bg-red-700' : 'bg-blue-700';\n  } else {\n    bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';\n  }\n  const Icon = type === 'success' ? CheckCircle : type === 'error' ? AlertTriangle : Info;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `fixed top-4 right-4 ${bgColor} text-white p-4 rounded-lg shadow-md flex items-center z-[100]`,\n    children: [/*#__PURE__*/_jsxDEV(Icon, {\n      size: 24,\n      className: \"mr-3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }, this), onDismiss && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onDismiss,\n      className: \"ml-4 text-white hover:text-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(XCircle, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n\n// SpeakButton for TalkBack simulation\n_c2 = Notification;\nconst SpeakButton = ({\n  textToSpeak,\n  darkMode,\n  highContrast\n}) => {\n  const handleSpeak = e => {\n    e.stopPropagation(); // Prevent parent clicks if button is inside another clickable element\n    if ('speechSynthesis' in window && textToSpeak) {\n      const utterance = new SpeechSynthesisUtterance(textToSpeak);\n      // Optional: Configure voice, rate, pitch\n      // utterance.lang = 'en-US';\n      window.speechSynthesis.cancel(); // Cancel any previous speech\n      window.speechSynthesis.speak(utterance);\n    } else {\n      console.warn(\"Speech synthesis not supported or no text to speak.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: handleSpeak,\n    \"aria-label\": `Speak: ${textToSpeak.substring(0, 30)}...`,\n    title: \"Read aloud\",\n    className: `ml-2 p-1 rounded ${darkMode ? highContrast ? 'bg-yellow-500 text-black' : 'bg-gray-600 hover:bg-gray-500' : highContrast ? 'bg-blue-500 text-white' : 'bg-gray-200 hover:bg-gray-300'}`,\n    children: /*#__PURE__*/_jsxDEV(Volume2, {\n      size: 16\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Accessibility Settings Modal ---\n_c3 = SpeakButton;\nconst AccessibilitySettingsModal = ({\n  isOpen,\n  onClose,\n  settings,\n  updateSettings,\n  darkMode,\n  highContrast,\n  fontSizeClass\n}) => {\n  const {\n    fontSize,\n    highContrast: hc,\n    darkMode: dm,\n    talkbackEnabled\n  } = settings;\n  const fontSizes = [{\n    label: 'Normal',\n    value: 'text-base'\n  }, {\n    label: 'Large',\n    value: 'text-lg'\n  }, {\n    label: 'Extra Large',\n    value: 'text-xl'\n  }];\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    title: \"Accessibility Settings\",\n    darkMode: darkMode,\n    highContrast: highContrast,\n    fontSizeClass: fontSizeClass,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: `font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`,\n          children: \"Font Size\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: fontSizes.map(fs => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => updateSettings('fontSize', fs.value),\n            className: `px-3 py-1.5 rounded-md text-sm font-medium transition-colors\n        ${fontSize === fs.value ? darkMode ? 'bg-blue-500 text-white' : 'bg-blue-600 text-white' : darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}\n          ${highContrast && fontSize === fs.value ? darkMode ? 'border-2 border-yellow-400' : 'border-2 border-blue-800' : ''}\n          ${highContrast && fontSize !== fs.value ? darkMode ? 'border border-gray-500' : 'border border-gray-400' : ''}\n          `,\n            children: fs.label\n          }, fs.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 7\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: `font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`,\n          children: \"Theme\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => updateSettings('darkMode', !dm),\n          className: `w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors\n      ${dm ? highContrast ? 'bg-gray-900 text-yellow-300 border-2 border-yellow-400' : 'bg-gray-700 text-white' : highContrast ? 'bg-white text-blue-700 border-2 border-blue-700' : 'bg-gray-200 text-black'}\n      hover:${dm ? highContrast ? 'bg-gray-800' : 'bg-gray-600' : highContrast ? 'bg-gray-100' : 'bg-gray-300'}\n      `,\n          children: [dm ? /*#__PURE__*/_jsxDEV(Sun, {\n            size: 18,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(Moon, {\n            size: 18,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 50\n          }, this), dm ? 'Switch to Light Mode' : 'Switch to Dark Mode']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: `font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`,\n          children: \"Contrast\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => updateSettings('highContrast', !hc),\n          className: `w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors\n        ${hc ? darkMode ? 'bg-yellow-400 text-black' : 'bg-blue-600 text-white' : darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}\n          ${highContrast && hc ? darkMode ? 'border-2 border-white' : 'border-2 border-black' : ''}\n          `,\n          children: [/*#__PURE__*/_jsxDEV(Eye, {\n            size: 18,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 11\n          }, this), hc ? 'Disable High Contrast' : 'Enable High Contrast']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: `font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`,\n          children: \"Read Aloud (TalkBack Simulation)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => updateSettings('talkbackEnabled', !talkbackEnabled),\n          className: `w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors\n            ${talkbackEnabled ? darkMode ? 'bg-green-600 text-white' : 'bg-green-500 text-white' : darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}\n              ${highContrast && talkbackEnabled ? darkMode ? 'border-2 border-white' : 'border-2 border-black' : ''}\n              `,\n          children: [/*#__PURE__*/_jsxDEV(Volume2, {\n            size: 18,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this), talkbackEnabled ? 'Disable Read Aloud Feature' : 'Enable Read Aloud Feature']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `mt-2 text-xs ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [\"When enabled, look for \", /*#__PURE__*/_jsxDEV(Volume2, {\n            size: 12,\n            className: \"inline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 136\n          }, this), \" icons to have text read aloud.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Screen Components (Adapted for Accessibility) ---\n_c4 = AccessibilitySettingsModal;\nconst HomeScreen = ({\n  setCurrentPage,\n  userName,\n  userId,\n  accessibilitySettings\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `p-6 min-h-[calc(100vh-4rem)] flex flex-col justify-center items-center transition-colors duration-300\n    ${accessibilitySettings.darkMode ? 'bg-gradient-to-br from-gray-800 to-gray-900 text-white' : 'bg-gradient-to-br from-blue-500 to-indigo-600 text-white'}\n    ${accessibilitySettings.highContrast && accessibilitySettings.darkMode ? 'border-2 border-yellow-400' : ''}\n    ${accessibilitySettings.highContrast && !accessibilitySettings.darkMode ? 'bg-white text-black border-2 border-blue-700' : ''}\n    `,\n  children: [/*#__PURE__*/_jsxDEV(UserCircle, {\n    size: 80,\n    className: `mb-4 ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'text-yellow-300' : 'text-indigo-300' : accessibilitySettings.highContrast ? 'text-blue-700' : 'text-indigo-200'}`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n    className: `text-3xl font-bold mb-2 ${accessibilitySettings.highContrast && !accessibilitySettings.darkMode ? 'text-black' : ''}`,\n    children: [\"Welcome, \", userName || 'User', \"!\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 5\n  }, this), accessibilitySettings.talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n    textToSpeak: `Welcome, ${userName || 'User'}!`,\n    darkMode: accessibilitySettings.darkMode,\n    highContrast: accessibilitySettings.highContrast\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 47\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: `mb-1 text-sm ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'text-yellow-200' : 'text-indigo-100' : accessibilitySettings.highContrast ? 'text-gray-700' : 'text-indigo-100'}`,\n    children: [\"User ID: \", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `font-mono px-1 rounded ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'bg-yellow-600 text-black' : 'bg-gray-700' : accessibilitySettings.highContrast ? 'bg-blue-200 text-black' : 'bg-indigo-700'}`,\n      children: userId || 'N/A'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: `mb-6 text-center ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'text-yellow-200' : 'text-indigo-100' : accessibilitySettings.highContrast ? 'text-gray-700' : 'text-indigo-100'}`,\n    children: \"Your personal health assistant. Ready to help you manage your medical needs.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this), accessibilitySettings.talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n    textToSpeak: \"Your personal health assistant. Ready to help you manage your medical needs.\",\n    darkMode: accessibilitySettings.darkMode,\n    highContrast: accessibilitySettings.highContrast\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 47\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-2 gap-4 w-full max-w-md\",\n    children: [[{\n      page: 'myAppointments',\n      label: 'My Appointments',\n      icon: ListChecks\n    }, {\n      page: 'chat',\n      label: 'Chat with Doctor',\n      icon: MessageSquare\n    }, {\n      page: 'prescriptions',\n      label: 'View Prescriptions',\n      icon: ListChecks\n    }].map(item => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setCurrentPage(item.page),\n      className: `p-4 rounded-lg shadow-md transition-all flex flex-col items-center justify-center aspect-square\n        ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900' : 'bg-gray-700 text-indigo-300 hover:bg-gray-600' : accessibilitySettings.highContrast ? 'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50' : 'bg-white text-blue-600 hover:bg-blue-50'}\n          `,\n      children: [/*#__PURE__*/_jsxDEV(item.icon, {\n        size: 32,\n        className: \"mb-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-semibold text-center\",\n        children: item.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this), accessibilitySettings.talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n        textToSpeak: item.label,\n        darkMode: accessibilitySettings.darkMode,\n        highContrast: accessibilitySettings.highContrast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 53\n      }, this)]\n    }, item.page, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setCurrentPage('makeAppointment') // Kept separate if logic differs, or merge if identical to 'My Appointments' button\n      ,\n      className: `p-4 rounded-lg shadow-md transition-all flex flex-col items-center justify-center aspect-square\n      ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900' : 'bg-gray-700 text-indigo-300 hover:bg-gray-600' : accessibilitySettings.highContrast ? 'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50' : 'bg-white text-blue-600 hover:bg-blue-50'}\n        `,\n      children: [/*#__PURE__*/_jsxDEV(CalendarPlus, {\n        size: 32,\n        className: \"mb-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-semibold text-center\",\n        children: \"Make Appointment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), accessibilitySettings.talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n        textToSpeak: \"Make Appointment\",\n        darkMode: accessibilitySettings.darkMode,\n        highContrast: accessibilitySettings.highContrast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 51\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 219,\n  columnNumber: 3\n}, this);\n_c5 = HomeScreen;\nconst AppointmentsScreen = ({\n  userId,\n  showNotification,\n  accessibilitySettings\n}) => {\n  _s();\n  var _MOCK_DOCTORS$;\n  const [appointments, setAppointments] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [confirmCancelModal, setConfirmCancelModal] = useState({\n    isOpen: false,\n    appointmentId: null\n  });\n  const [doctor, setDoctor] = useState(((_MOCK_DOCTORS$ = MOCK_DOCTORS[0]) === null || _MOCK_DOCTORS$ === void 0 ? void 0 : _MOCK_DOCTORS$.id) || '');\n  const [date, setDate] = useState('');\n  const [time, setTime] = useState('');\n  const [reason, setReason] = useState('');\n  const appointmentsCollectionPath = `artifacts/${appId}/users/${userId}/appointments`;\n  useEffect(() => {\n    if (!db || !userId) {\n      console.log(\"Using mock appointments as db or userId is not available.\");\n      setAppointments([{\n        id: 'apt1',\n        doctor: 'Dr. Emily Carter',\n        date: '2024-06-10',\n        time: '10:00 AM',\n        reason: 'Check-up',\n        status: 'Scheduled'\n      }, {\n        id: 'apt2',\n        doctor: 'Dr. John Smith',\n        date: '2024-06-15',\n        time: '02:30 PM',\n        reason: 'Follow-up',\n        status: 'Scheduled'\n      }]);\n      setIsLoading(false);\n      return;\n    }\n    setIsLoading(true);\n    const q = query(collection(db, appointmentsCollectionPath));\n    const unsubscribe = onSnapshot(q, querySnapshot => {\n      const userAppointments = [];\n      querySnapshot.forEach(doc => {\n        userAppointments.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      userAppointments.sort((a, b) => new Date(`${a.date} ${a.time}`) - new Date(`${b.date} ${b.time}`));\n      setAppointments(userAppointments);\n      setIsLoading(false);\n    }, error => {\n      console.error(\"Error fetching appointments: \", error);\n      showNotification(\"Error fetching appointments.\", \"error\");\n      setIsLoading(false);\n    });\n    return () => unsubscribe();\n  }, [userId, showNotification, appointmentsCollectionPath]);\n  const handleMakeAppointment = async e => {\n    var _MOCK_DOCTORS$find;\n    e.preventDefault();\n    if (!db || !userId) {\n      showNotification(\"Database not available.\", \"error\");\n      return;\n    }\n    if (!doctor || !date || !time || !reason) {\n      showNotification(\"Please fill all fields.\", \"error\");\n      return;\n    }\n    const newAppointment = {\n      doctor: ((_MOCK_DOCTORS$find = MOCK_DOCTORS.find(d => d.id === doctor)) === null || _MOCK_DOCTORS$find === void 0 ? void 0 : _MOCK_DOCTORS$find.name) || doctor,\n      date,\n      time,\n      reason,\n      status: 'Scheduled',\n      createdAt: new Date().toISOString()\n    };\n    try {\n      var _MOCK_DOCTORS$2;\n      await addDoc(collection(db, appointmentsCollectionPath), newAppointment);\n      showNotification(\"Appointment booked successfully!\", \"success\");\n      setDoctor(((_MOCK_DOCTORS$2 = MOCK_DOCTORS[0]) === null || _MOCK_DOCTORS$2 === void 0 ? void 0 : _MOCK_DOCTORS$2.id) || '');\n      setDate('');\n      setTime('');\n      setReason('');\n      setIsModalOpen(false);\n    } catch (error) {\n      console.error(\"Error adding appointment: \", error);\n      showNotification(\"Failed to book appointment.\", \"error\");\n    }\n  };\n  const confirmCancel = appointmentId => {\n    setConfirmCancelModal({\n      isOpen: true,\n      appointmentId\n    });\n  };\n  const executeCancelAppointment = async () => {\n    const appointmentId = confirmCancelModal.appointmentId;\n    if (!db || !userId || !appointmentId) {\n      showNotification(\"Database not available or invalid request.\", \"error\");\n      setConfirmCancelModal({\n        isOpen: false,\n        appointmentId: null\n      });\n      return;\n    }\n    try {\n      const appointmentRef = doc(db, appointmentsCollectionPath, appointmentId);\n      await updateDoc(appointmentRef, {\n        status: 'Cancelled'\n      });\n      showNotification(\"Appointment cancelled successfully.\", \"success\");\n    } catch (error) {\n      console.error(\"Error cancelling appointment: \", error);\n      showNotification(\"Failed to cancel appointment.\", \"error\");\n    }\n    setConfirmCancelModal({\n      isOpen: false,\n      appointmentId: null\n    });\n  };\n  const {\n    darkMode,\n    highContrast,\n    talkbackEnabled,\n    fontSize\n  } = accessibilitySettings;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: `text-2xl font-semibold ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`,\n        children: \"My Appointments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 5\n      }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n        textToSpeak: \"My Appointments page.\",\n        darkMode: darkMode,\n        highContrast: highContrast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsModalOpen(true),\n        className: `font-semibold py-2 px-4 rounded-lg shadow-md flex items-center\n      ${darkMode ? highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600' : 'bg-blue-600 hover:bg-blue-700 text-white' : highContrast ? 'bg-blue-700 text-white hover:bg-blue-800' : 'bg-blue-500 hover:bg-blue-600 text-white'}\n      `,\n        children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n          size: 20,\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 7\n        }, this), \"New Appointment\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 5\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n      children: \"Loading appointments...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 9\n    }, this) : appointments.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`,\n      children: \"You have no upcoming appointments.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: appointments.map(apt => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg shadow-md\n            ${apt.status === 'Cancelled' ? darkMode ? 'bg-gray-700 opacity-70' : 'bg-gray-200 opacity-70' : darkMode ? 'bg-gray-700' : 'bg-white'}\n            ${highContrast && darkMode ? 'border border-yellow-300' : ''}\n            ${highContrast && !darkMode && apt.status !== 'Cancelled' ? 'border border-blue-500' : ''}\n            ${highContrast && !darkMode && apt.status === 'Cancelled' ? 'border border-gray-400' : ''}\n            `,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `text-lg font-semibold ${darkMode ? highContrast ? 'text-yellow-300' : 'text-blue-400' : highContrast ? 'text-blue-700' : 'text-blue-600'}`,\n          children: apt.doctor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n          textToSpeak: `Appointment with ${apt.doctor}`,\n          darkMode: darkMode,\n          highContrast: highContrast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 16\n          }, this), \" \", apt.date, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Date ${apt.date}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 70\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Time:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 16\n          }, this), \" \", apt.time, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Time ${apt.time}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 70\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Reason:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 16\n          }, this), \" \", apt.reason, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Reason ${apt.reason}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 74\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 16\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `${apt.status === 'Cancelled' ? darkMode ? 'text-red-400' : 'text-red-500' : darkMode ? 'text-green-400' : 'text-green-500'}`,\n            children: apt.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 41\n          }, this), \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Status ${apt.status}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 229\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this), apt.status !== 'Cancelled' && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => confirmCancel(apt.id),\n          className: `mt-3 font-semibold py-1 px-3 rounded-md text-sm flex items-center\n                ${darkMode ? highContrast ? 'bg-red-500 text-black hover:bg-red-600' : 'bg-red-600 hover:bg-red-700 text-white' : highContrast ? 'bg-red-700 text-white hover:bg-red-800' : 'bg-red-500 hover:bg-red-600 text-white'}\n                `,\n          children: [/*#__PURE__*/_jsxDEV(Trash2, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 17\n          }, this), \"Cancel\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 15\n        }, this)]\n      }, apt.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: () => setIsModalOpen(false),\n      title: \"Book a New Appointment\",\n      darkMode: darkMode,\n      highContrast: highContrast,\n      fontSizeClass: accessibilitySettings.fontSize,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleMakeAppointment,\n        className: \"space-y-4\",\n        children: [['doctor', 'date', 'time', 'reason'].map(field => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: field,\n            className: `block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200' : ''}`,\n            children: field.charAt(0).toUpperCase() + field.slice(1).replace('rV', 'r V')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 9\n          }, this), field === 'doctor' ? /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"doctor\",\n            value: doctor,\n            onChange: e => setDoctor(e.target.value),\n            className: `mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? darkMode ? 'border-yellow-400' : 'border-blue-600' : ''}`,\n            children: MOCK_DOCTORS.map(doc => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: doc.id,\n              children: doc.name\n            }, doc.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 36\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 11\n          }, this) : field === 'reason' ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"reason\",\n            rows: \"3\",\n            value: reason,\n            onChange: e => setReason(e.target.value),\n            placeholder: \"e.g., Annual check-up\",\n            className: `mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? darkMode ? 'border-yellow-400' : 'border-blue-600' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 11\n          }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n            type: field,\n            id: field,\n            value: field === 'date' ? date : time,\n            onChange: e => field === 'date' ? setDate(e.target.value) : setTime(e.target.value),\n            min: field === 'date' ? new Date().toISOString().split('T')[0] : undefined,\n            className: `mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? darkMode ? 'border-yellow-400' : 'border-blue-600' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 11\n          }, this)]\n        }, field, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 9\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: `w-full font-semibold py-2 px-4 rounded-lg shadow-md flex items-center justify-center ${darkMode ? highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600' : 'bg-blue-600 hover:bg-blue-700 text-white' : highContrast ? 'bg-blue-700 text-white hover:bg-blue-800' : 'bg-blue-500 hover:bg-blue-600 text-white'}`,\n          children: \"Confirm Appointment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: confirmCancelModal.isOpen,\n      onClose: () => setConfirmCancelModal({\n        isOpen: false,\n        appointmentId: null\n      }),\n      title: \"Confirm Cancellation\",\n      darkMode: darkMode,\n      highContrast: highContrast,\n      fontSizeClass: accessibilitySettings.fontSize,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: `${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-4`,\n        children: \"Are you sure you want to cancel this appointment?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setConfirmCancelModal({\n            isOpen: false,\n            appointmentId: null\n          }),\n          className: `px-4 py-2 rounded-md text-sm font-medium ${darkMode ? 'bg-gray-600 hover:bg-gray-500 text-white' : 'bg-gray-300 hover:bg-gray-400 text-black'}`,\n          children: \"No, Keep It\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: executeCancelAppointment,\n          className: `px-4 py-2 rounded-md text-sm font-medium ${darkMode ? highContrast ? 'bg-red-500 text-black hover:bg-red-600' : 'bg-red-600 hover:bg-red-700 text-white' : highContrast ? 'bg-red-700 text-white hover:bg-red-800' : 'bg-red-500 hover:bg-red-600 text-white'}`,\n          children: \"Yes, Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 360,\n    columnNumber: 5\n  }, this);\n};\n_s(AppointmentsScreen, \"W55kFCBcyCggQStZzQ2j83Con5w=\");\n_c6 = AppointmentsScreen;\nconst ChatScreen = ({\n  userId,\n  showNotification,\n  accessibilitySettings\n}) => {\n  _s2();\n  var _MOCK_DOCTORS$3;\n  const [messages, setMessages] = useState([{\n    id: 'm1',\n    text: 'Hello! How can I help you today?',\n    sender: 'doctor',\n    time: '10:00 AM'\n  }, {\n    id: 'm2',\n    text: 'I have a slight fever and a headache.',\n    sender: 'user',\n    time: '10:01 AM'\n  }]);\n  const [newMessage, setNewMessage] = useState('');\n  const [selectedDoctor, setSelectedDoctor] = useState(((_MOCK_DOCTORS$3 = MOCK_DOCTORS[0]) === null || _MOCK_DOCTORS$3 === void 0 ? void 0 : _MOCK_DOCTORS$3.id) || '');\n  const messagesEndRef = useRef(null); // For scrolling to bottom\n\n  const {\n    darkMode,\n    highContrast,\n    talkbackEnabled\n  } = accessibilitySettings;\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    // Scroll to bottom when new messages arrive\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!newMessage.trim()) return;\n    const messageData = {\n      text: newMessage,\n      sender: 'user',\n      time: new Date().toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      }),\n      createdAt: new Date().toISOString(),\n      userId: userId,\n      doctorId: selectedDoctor\n    };\n    setMessages(prevMessages => [...prevMessages, {\n      ...messageData,\n      id: `m${prevMessages.length + 1}`\n    }]);\n    setNewMessage('');\n    setTimeout(() => {\n      setMessages(prev => [...prev, {\n        id: `m${prev.length + 1}`,\n        text: \"Okay, I understand. Can you tell me more about your symptoms?\",\n        sender: 'doctor',\n        time: new Date().toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }]);\n    }, 1500);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex flex-col h-[calc(100vh-4rem)] transition-colors duration-300 ${darkMode ? 'bg-gray-900' : 'bg-gray-50'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `p-4 border-b shadow-sm ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} ${highContrast && darkMode ? 'border-b-yellow-400' : ''} ${highContrast && !darkMode ? 'border-b-blue-600' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"doctorSelect\",\n        className: `text-sm font-medium mr-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200' : ''}`,\n        children: \"Chat with:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"doctorSelect\",\n        value: selectedDoctor,\n        onChange: e => setSelectedDoctor(e.target.value),\n        className: `p-2 border rounded-md focus:outline-none ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? darkMode ? 'border-yellow-400' : 'border-blue-600' : ''}`,\n        children: MOCK_DOCTORS.map(doc => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: doc.id,\n          children: doc.name\n        }, doc.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 30\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-grow p-4 space-y-4 overflow-y-auto\",\n      children: [messages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `max-w-xs lg:max-w-md px-4 py-2 rounded-xl shadow\n        ${msg.sender === 'user' ? darkMode ? highContrast ? 'bg-blue-700 text-white rounded-br-none border border-white' : 'bg-blue-600 text-white rounded-br-none' : highContrast ? 'bg-blue-600 text-white rounded-br-none border border-black' : 'bg-blue-500 text-white rounded-br-none' : darkMode ? highContrast ? 'bg-black text-yellow-300 rounded-bl-none border border-yellow-400' : 'bg-gray-700 text-gray-200 rounded-bl-none' : highContrast ? 'bg-gray-300 text-black rounded-bl-none border border-black' : 'bg-gray-200 text-gray-800 rounded-bl-none'}\n        `,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [msg.text, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n              textToSpeak: msg.text,\n              darkMode: darkMode,\n              highContrast: highContrast\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 43\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-xs mt-1 ${msg.sender === 'user' ? darkMode ? 'text-blue-200 text-right' : 'text-blue-100 text-right' : darkMode ? 'text-gray-400 text-left' : 'text-gray-500 text-left'}`,\n            children: msg.time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 7\n        }, this)\n      }, msg.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 7\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSendMessage,\n      className: `p-4 border-t flex items-center ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} ${highContrast && darkMode ? 'border-t-yellow-400' : ''} ${highContrast && !darkMode ? 'border-t-blue-600' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newMessage,\n        onChange: e => setNewMessage(e.target.value),\n        placeholder: \"Type your message...\",\n        className: `flex-grow p-3 border rounded-l-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500' : 'border-gray-300 placeholder-gray-500 focus:ring-blue-400'} ${highContrast ? darkMode ? 'border-yellow-400 focus:ring-yellow-300' : 'border-blue-600 focus:ring-blue-500' : ''}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: `p-3 rounded-r-lg focus:outline-none focus:ring-2\n      ${darkMode ? highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600 focus:ring-yellow-300' : 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500' : highContrast ? 'bg-blue-700 text-white hover:bg-blue-800 focus:ring-blue-600' : 'bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-400'}\n      `,\n        children: /*#__PURE__*/_jsxDEV(Send, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 478,\n    columnNumber: 5\n  }, this);\n};\n_s2(ChatScreen, \"TPLf7ltEIuCeNXWDoHiNA1ATmJg=\");\n_c7 = ChatScreen;\nconst PrescriptionsScreen = ({\n  userId,\n  showNotification,\n  accessibilitySettings\n}) => {\n  _s3();\n  const [prescriptions, setPrescriptions] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const {\n    darkMode,\n    highContrast,\n    talkbackEnabled\n  } = accessibilitySettings;\n  useEffect(() => {\n    setIsLoading(true);\n    // Simulate fetching data (using mock for now)\n    // TODO: Replace with Firestore fetching if needed\n    setPrescriptions(MOCK_PRESCRIPTIONS);\n    setIsLoading(false);\n  }, [userId]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `p-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n      children: \"Loading prescriptions...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: `text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`,\n      children: \"My Prescriptions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 5\n    }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n      textToSpeak: \"My Prescriptions page.\",\n      darkMode: darkMode,\n      highContrast: highContrast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 25\n    }, this), prescriptions.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`,\n      children: \"You have no prescriptions on file.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: prescriptions.map(rx => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg shadow-md\n          ${darkMode ? 'bg-gray-700 border-l-4 border-green-500' : 'bg-white border-l-4 border-green-500'}\n          ${highContrast && darkMode ? 'border-yellow-300 border-l-yellow-400' : ''}\n          ${highContrast && !darkMode ? 'border-blue-500 border-l-blue-700' : ''}\n          `,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `text-lg font-semibold ${darkMode ? highContrast ? 'text-yellow-300' : 'text-green-400' : highContrast ? 'text-blue-700' : 'text-green-700'}`,\n          children: rx.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 11\n        }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n          textToSpeak: `Prescription: ${rx.name}`,\n          darkMode: darkMode,\n          highContrast: highContrast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Dosage:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 14\n          }, this), \" \", rx.dosage, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Dosage ${rx.dosage}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 71\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Prescribed on:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 84\n          }, this), \" \", rx.date, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Prescribed on ${rx.date}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 146\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Prescribed by:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 84\n          }, this), \" \", rx.doctor, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Prescribed by ${rx.doctor}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 148\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 11\n        }, this)]\n      }, rx.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 541,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Main App Component ---\n_s3(PrescriptionsScreen, \"4TTPA92ftk9of4sfJ+/uzSY85gE=\");\n_c8 = PrescriptionsScreen;\nconst App = () => {\n  _s4();\n  const [currentPage, setCurrentPage] = useState('home');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [userName, setUserName] = useState('');\n  const [notification, setNotification] = useState({\n    message: '',\n    type: ''\n  });\n  const [isSettingsModalOpen, setIsSettingsModalOpen] = useState(false);\n\n  // Accessibility Settings State\n  const [accessibilitySettings, setAccessibilitySettings] = useState({\n    fontSize: 'text-base',\n    // Tailwind classes: text-sm, text-base, text-lg, text-xl, text-2xl\n    highContrast: false,\n    darkMode: false,\n    talkbackEnabled: false // For simulated TalkBack feature\n  });\n\n  // Load settings from localStorage\n  useEffect(() => {\n    const savedSettings = localStorage.getItem('medicAssistAccessibilitySettings');\n    if (savedSettings) {\n      setAccessibilitySettings(JSON.parse(savedSettings));\n    }\n  }, []);\n\n  // Save settings to localStorage and apply dark mode\n  useEffect(() => {\n    localStorage.setItem('medicAssistAccessibilitySettings', JSON.stringify(accessibilitySettings));\n    if (accessibilitySettings.darkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [accessibilitySettings]);\n  const updateAccessibilitySetting = (key, value) => {\n    setAccessibilitySettings(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n  const showNotification = useCallback((message, type = 'info', duration = 3000) => {\n    setNotification({\n      message,\n      type\n    });\n    setTimeout(() => setNotification({\n      message: '',\n      type: ''\n    }), duration);\n  }, []);\n  useEffect(() => {\n    if (!auth) {\n      console.warn(\"Firebase Auth is not initialized.\");\n      setIsAuthReady(true);\n      return;\n    }\n    const unsubscribe = onAuthStateChanged(auth, async user => {\n      if (user) {\n        setCurrentUser(user);\n        setUserName(user.displayName || `User-${user.uid.substring(0, 5)}`);\n      } else {\n        setCurrentUser(null);\n        setUserName('');\n        try {\n          if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {\n            await signInWithCustomToken(auth, __initial_auth_token);\n          } else {\n            await signInAnonymously(auth);\n          }\n        } catch (error) {\n          console.error(\"Error during auto sign-in:\", error);\n          showNotification(\"Authentication issue. Some features might be limited.\", \"error\");\n        }\n      }\n      setIsAuthReady(true);\n    });\n    return () => unsubscribe();\n  }, [showNotification]);\n  const handleSignOut = async () => {\n    if (!auth) {\n      showNotification(\"Auth service not available.\", \"error\");\n      return;\n    }\n    try {\n      await signOut(auth);\n      setCurrentPage('home');\n      showNotification(\"Signed out successfully.\", \"success\");\n    } catch (error) {\n      console.error(\"Error signing out:\", error);\n      showNotification(\"Error signing out.\", \"error\");\n    }\n  };\n  const renderPage = () => {\n    if (!isAuthReady) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex justify-center items-center h-screen ${accessibilitySettings.fontSize} ${accessibilitySettings.darkMode ? 'bg-gray-900 text-white' : 'bg-gray-100 text-black'}`,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Initializing App...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 197\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 14\n      }, this);\n    }\n    const userId = currentUser ? currentUser.uid : null;\n    const commonProps = {\n      userId,\n      showNotification,\n      accessibilitySettings\n    };\n    switch (currentPage) {\n      case 'home':\n        return /*#__PURE__*/_jsxDEV(HomeScreen, {\n          setCurrentPage: setCurrentPage,\n          userName: userName,\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 27\n        }, this);\n      case 'makeAppointment': // Fallthrough to myAppointments for now\n      case 'myAppointments':\n        return /*#__PURE__*/_jsxDEV(AppointmentsScreen, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 37\n        }, this);\n      case 'chat':\n        return /*#__PURE__*/_jsxDEV(ChatScreen, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 662,\n          columnNumber: 27\n        }, this);\n      case 'prescriptions':\n        return /*#__PURE__*/_jsxDEV(PrescriptionsScreen, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 36\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(HomeScreen, {\n          setCurrentPage: setCurrentPage,\n          userName: userName,\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 23\n        }, this);\n    }\n  };\n  const NavItem = ({\n    page,\n    label,\n    icon: IconComponent\n  }) => /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => setCurrentPage(page),\n    className: `flex flex-col items-center justify-center p-2 w-full transition-colors duration-200 ease-in-out\n      ${accessibilitySettings.fontSize}\n      ${currentPage === page ? accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'text-yellow-300' : 'text-blue-400' : accessibilitySettings.highContrast ? 'text-blue-700 font-bold' : 'text-blue-500' : accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'text-gray-400 hover:text-yellow-200' : 'text-gray-400 hover:text-blue-300' : accessibilitySettings.highContrast ? 'text-gray-600 hover:text-blue-600' : 'text-gray-500 hover:text-blue-400'}\n      `,\n    children: [/*#__PURE__*/_jsxDEV(IconComponent, {\n      size: 24,\n      strokeWidth: currentPage === page ? 2.5 : 2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 679,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-xs mt-1\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 680,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 669,\n    columnNumber: 5\n  }, this);\n\n  // Apply base font size and high contrast classes to the main container\n  // Dark mode is applied to documentElement\n  let appClasses = `font-sans antialiased flex flex-col min-h-screen transition-colors duration-300 ${accessibilitySettings.fontSize}`;\n  if (accessibilitySettings.darkMode) {\n    appClasses += accessibilitySettings.highContrast ? ' bg-black text-yellow-300' : ' bg-gray-900 text-gray-200';\n  } else {\n    appClasses += accessibilitySettings.highContrast ? ' bg-white text-black border-2 border-blue-900' : ' bg-gray-100 text-gray-800';\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: appClasses,\n    children: [/*#__PURE__*/_jsxDEV(Notification, {\n      message: notification.message,\n      type: notification.type,\n      onDismiss: () => setNotification({\n        message: '',\n        type: ''\n      }),\n      darkMode: accessibilitySettings.darkMode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 696,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: `p-4 shadow-md flex justify-between items-center sticky top-0 z-40\n      ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'bg-black text-yellow-300 border-b-2 border-yellow-400' : 'bg-gray-800 text-white' : accessibilitySettings.highContrast ? 'bg-white text-blue-700 border-b-2 border-blue-700' : 'bg-blue-600 text-white'}\n        `,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-semibold\",\n        children: \"Medic Assist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 703,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [currentUser && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSignOut,\n          className: `text-sm flex items-center p-2 rounded-md\n            ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'hover:bg-yellow-700 text-yellow-300 border border-yellow-300' : 'hover:bg-gray-700 text-gray-300' : accessibilitySettings.highContrast ? 'hover:bg-blue-200 text-blue-700 border border-blue-700' : 'hover:bg-blue-700 text-blue-100'}\n              `,\n          children: [/*#__PURE__*/_jsxDEV(LogOut, {\n            size: 18,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 711,\n            columnNumber: 15\n          }, this), \" Sign Out\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 706,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsSettingsModalOpen(true),\n          \"aria-label\": \"Open accessibility settings\",\n          className: `p-2 rounded-md\n          ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'hover:bg-yellow-700 text-yellow-300' : 'hover:bg-gray-700 text-gray-300' : accessibilitySettings.highContrast ? 'hover:bg-blue-200 text-blue-700' : 'hover:bg-blue-700 text-blue-100'}\n            `,\n          children: /*#__PURE__*/_jsxDEV(Settings, {\n            size: 22\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 698,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-grow overflow-y-auto\",\n      children: renderPage()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 728,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: `fixed bottom-0 left-0 right-0 border-t shadow-t-md flex justify-around items-center h-16 z-40\n              ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'bg-black border-t-yellow-400' : 'bg-gray-800 border-gray-700' : accessibilitySettings.highContrast ? 'bg-white border-t-blue-700' : 'bg-white border-gray-200'}\n                `,\n      children: [/*#__PURE__*/_jsxDEV(NavItem, {\n        page: \"home\",\n        label: \"Home\",\n        icon: Home\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 737,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n        page: \"myAppointments\",\n        label: \"Appointments\",\n        icon: CalendarPlus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 738,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n        page: \"chat\",\n        label: \"Chat\",\n        icon: MessageSquare\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 739,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n        page: \"prescriptions\",\n        label: \"Prescriptions\",\n        icon: ListChecks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 740,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 732,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-16\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 742,\n      columnNumber: 17\n    }, this), \" \", /*#__PURE__*/_jsxDEV(AccessibilitySettingsModal, {\n      isOpen: isSettingsModalOpen,\n      onClose: () => setIsSettingsModalOpen(false),\n      settings: accessibilitySettings,\n      updateSettings: updateAccessibilitySetting,\n      darkMode: accessibilitySettings.darkMode,\n      highContrast: accessibilitySettings.highContrast,\n      fontSizeClass: accessibilitySettings.fontSize\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 744,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 695,\n    columnNumber: 5\n  }, this);\n};\n_s4(App, \"k0kKmiOL10yikJh4oOTjf1RNrDg=\");\n_c9 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"Modal\");\n$RefreshReg$(_c2, \"Notification\");\n$RefreshReg$(_c3, \"SpeakButton\");\n$RefreshReg$(_c4, \"AccessibilitySettingsModal\");\n$RefreshReg$(_c5, \"HomeScreen\");\n$RefreshReg$(_c6, \"AppointmentsScreen\");\n$RefreshReg$(_c7, \"ChatScreen\");\n$RefreshReg$(_c8, \"PrescriptionsScreen\");\n$RefreshReg$(_c9, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","initializeApp","getAuth","signInAnonymously","signInWithCustomToken","onAuthStateChanged","signOut","getFirestore","collection","addDoc","getDocs","doc","updateDoc","deleteDoc","onSnapshot","query","where","setDoc","Home","CalendarPlus","MessageSquare","ListChecks","UserCircle","XCircle","Send","PlusCircle","Trash2","LogOut","CheckCircle","AlertTriangle","Info","Settings","Volume2","Eye","Moon","Sun","ZoomIn","ZoomOut","jsxDEV","_jsxDEV","Modal","isOpen","onClose","title","children","darkMode","highContrast","fontSizeClass","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","_c","Notification","message","type","onDismiss","bgColor","Icon","_c2","SpeakButton","textToSpeak","handleSpeak","e","stopPropagation","window","utterance","SpeechSynthesisUtterance","speechSynthesis","cancel","speak","console","warn","substring","_c3","AccessibilitySettingsModal","settings","updateSettings","fontSize","hc","dm","talkbackEnabled","fontSizes","label","value","map","fs","_c4","HomeScreen","setCurrentPage","userName","userId","accessibilitySettings","page","icon","item","_c5","AppointmentsScreen","showNotification","_s","_MOCK_DOCTORS$","appointments","setAppointments","isLoading","setIsLoading","isModalOpen","setIsModalOpen","confirmCancelModal","setConfirmCancelModal","appointmentId","doctor","setDoctor","MOCK_DOCTORS","id","date","setDate","time","setTime","reason","setReason","appointmentsCollectionPath","appId","db","log","status","q","unsubscribe","querySnapshot","userAppointments","forEach","push","data","sort","a","b","Date","error","handleMakeAppointment","_MOCK_DOCTORS$find","preventDefault","newAppointment","find","d","name","createdAt","toISOString","_MOCK_DOCTORS$2","confirmCancel","executeCancelAppointment","appointmentRef","length","apt","onSubmit","field","htmlFor","charAt","toUpperCase","slice","replace","onChange","target","rows","placeholder","min","split","undefined","_c6","ChatScreen","_s2","_MOCK_DOCTORS$3","messages","setMessages","text","sender","newMessage","setNewMessage","selectedDoctor","setSelectedDoctor","messagesEndRef","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","messageData","toLocaleTimeString","hour","minute","doctorId","prevMessages","setTimeout","prev","msg","ref","_c7","PrescriptionsScreen","_s3","prescriptions","setPrescriptions","MOCK_PRESCRIPTIONS","rx","dosage","_c8","App","_s4","currentPage","currentUser","setCurrentUser","isAuthReady","setIsAuthReady","setUserName","notification","setNotification","isSettingsModalOpen","setIsSettingsModalOpen","setAccessibilitySettings","savedSettings","localStorage","getItem","JSON","parse","setItem","stringify","document","documentElement","classList","add","remove","updateAccessibilitySetting","key","duration","auth","user","displayName","uid","__initial_auth_token","handleSignOut","renderPage","commonProps","NavItem","IconComponent","strokeWidth","appClasses","_c9","$RefreshReg$"],"sources":["/home/diego/ExpoApp/my-app/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged, signOut } from 'firebase/auth'; // Added signInWithCustomToken\nimport { getFirestore, collection, addDoc, getDocs, doc, updateDoc, deleteDoc, onSnapshot, query, where, setDoc } from 'firebase/firestore';\nimport { Home, CalendarPlus, MessageSquare, ListChecks, UserCircle, XCircle, Send, PlusCircle, Trash2, LogOut, CheckCircle, AlertTriangle, Info, Settings, Volume2, Eye, Moon, Sun, ZoomIn, ZoomOut } from 'lucide-react';\n\n// // --- Firebase Configuration ---\n// const firebaseConfig = {\n//   apiKey: \"YOUR_API_KEY\",\n//   authDomain: \"YOUR_AUTH_DOMAIN\",\n//   projectId: \"YOUR_PROJECT_ID\",\n//   storageBucket: \"YOUR_STORAGE_BUCKET\",\n//   messagingSenderId: \"YOUR_MESSAGING_SENDER_ID\",\n//   appId: \"YOUR_APP_ID\"\n// };\n//\n// // --- Global Firebase Variables (to be provided by the environment) ---\n// const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n// const finalFirebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : firebaseConfig;\n//\n// // --- Initialize Firebase ---\n// let app;\n// let auth;\n// let db;\n//\n// try {\n//   app = initializeApp(finalFirebaseConfig);\n//   auth = getAuth(app);\n//   db = getFirestore(app);\n//   // import { setLogLevel } from \"firebase/firestore\"; // For debugging\n//   // setLogLevel('debug');\n// } catch (e) {\n//   console.error(\"Error initializing Firebase:\", e);\n//   if (!db) {\n//     console.warn(\"Firestore (db) is not initialized. App will run with mock data and no persistence.\");\n//   }\n// }\n//\n// // --- Mock Data ---\n// const MOCK_PRESCRIPTIONS = [\n//   { id: 'p1', name: 'Amoxicillin 250mg', dosage: '1 tablet every 8 hours for 7 days', date: '2024-05-20', doctor: 'Dr. Smith' },\n// { id: 'p2', name: 'Ibuprofen 400mg', dosage: '1 tablet as needed for pain', date: '2024-05-15', doctor: 'Dr. Jones' },\n// { id: 'p3', name: 'Metformin 500mg', dosage: '1 tablet twice daily with meals', date: '2024-04-28', doctor: 'Dr. Brown' },\n// ];\n//\n// const MOCK_DOCTORS = [\n//   { id: 'doc1', name: 'Dr. Emily Carter (Cardiologist)' },\n//   { id: 'doc2', name: 'Dr. John Smith (General Practitioner)' },\n//   { id: 'doc3', name: 'Dr. Sarah Lee (Pediatrician)' },\n// ];\n\n// --- Helper Components ---\n\n// Modal Component\nconst Modal = ({ isOpen, onClose, title, children, darkMode, highContrast, fontSizeClass }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n    <div className={`rounded-lg shadow-xl p-6 w-full max-w-md ${fontSizeClass} ${darkMode ? 'bg-gray-800 text-white' : 'bg-white text-gray-800'} ${highContrast ? (darkMode ? 'border-2 border-yellow-400' : 'border-2 border-blue-600') : ''}`}>\n    <div className=\"flex justify-between items-center mb-4\">\n    <h3 className={`text-xl font-semibold ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : (darkMode ? 'text-white' : 'text-gray-800')}`}>{title}</h3>\n    <button onClick={onClose} className={`${darkMode ? 'text-gray-300 hover:text-white' : 'text-gray-500 hover:text-gray-700'}`}>\n    <XCircle size={24} />\n    </button>\n    </div>\n    <div>{children}</div>\n    </div>\n    </div>\n  );\n};\n\n// Notification Component\nconst Notification = ({ message, type, onDismiss, darkMode }) => {\n  if (!message) return null;\n\n  let bgColor;\n  if (darkMode) {\n    bgColor = type === 'success' ? 'bg-green-700' : type === 'error' ? 'bg-red-700' : 'bg-blue-700';\n  } else {\n    bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';\n  }\n  const Icon = type === 'success' ? CheckCircle : type === 'error' ? AlertTriangle : Info;\n\n  return (\n    <div className={`fixed top-4 right-4 ${bgColor} text-white p-4 rounded-lg shadow-md flex items-center z-[100]`}>\n    <Icon size={24} className=\"mr-3\" />\n    <span>{message}</span>\n    {onDismiss && (\n      <button onClick={onDismiss} className=\"ml-4 text-white hover:text-gray-200\">\n      <XCircle size={20} />\n      </button>\n    )}\n    </div>\n  );\n};\n\n// SpeakButton for TalkBack simulation\nconst SpeakButton = ({ textToSpeak, darkMode, highContrast }) => {\n  const handleSpeak = (e) => {\n    e.stopPropagation(); // Prevent parent clicks if button is inside another clickable element\n    if ('speechSynthesis' in window && textToSpeak) {\n      const utterance = new SpeechSynthesisUtterance(textToSpeak);\n      // Optional: Configure voice, rate, pitch\n      // utterance.lang = 'en-US';\n      window.speechSynthesis.cancel(); // Cancel any previous speech\n      window.speechSynthesis.speak(utterance);\n    } else {\n      console.warn(\"Speech synthesis not supported or no text to speak.\");\n    }\n  };\n\n  return (\n    <button\n    onClick={handleSpeak}\n    aria-label={`Speak: ${textToSpeak.substring(0,30)}...`}\n    title=\"Read aloud\"\n    className={`ml-2 p-1 rounded ${darkMode ? (highContrast ? 'bg-yellow-500 text-black' : 'bg-gray-600 hover:bg-gray-500') : (highContrast ? 'bg-blue-500 text-white' : 'bg-gray-200 hover:bg-gray-300') }`}\n    >\n    <Volume2 size={16} />\n    </button>\n  );\n};\n\n\n// --- Accessibility Settings Modal ---\nconst AccessibilitySettingsModal = ({ isOpen, onClose, settings, updateSettings, darkMode, highContrast, fontSizeClass }) => {\n  const { fontSize, highContrast: hc, darkMode: dm, talkbackEnabled } = settings;\n\n  const fontSizes = [\n    { label: 'Normal', value: 'text-base' },\n    { label: 'Large', value: 'text-lg' },\n    { label: 'Extra Large', value: 'text-xl' },\n  ];\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} title=\"Accessibility Settings\" darkMode={darkMode} highContrast={highContrast} fontSizeClass={fontSizeClass}>\n    <div className=\"space-y-6\">\n    {/* Font Size */}\n    <div>\n    <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Font Size</h4>\n    <div className=\"flex space-x-2\">\n    {fontSizes.map(fs => (\n      <button\n      key={fs.value}\n      onClick={() => updateSettings('fontSize', fs.value)}\n      className={`px-3 py-1.5 rounded-md text-sm font-medium transition-colors\n        ${fontSize === fs.value\n          ? (darkMode ? 'bg-blue-500 text-white' : 'bg-blue-600 text-white')\n          : (darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700')}\n          ${highContrast && fontSize === fs.value ? (darkMode ? 'border-2 border-yellow-400' : 'border-2 border-blue-800') : ''}\n          ${highContrast && fontSize !== fs.value ? (darkMode ? 'border border-gray-500' : 'border border-gray-400') : ''}\n          `}\n          >\n          {fs.label}\n          </button>\n    ))}\n    </div>\n    </div>\n\n    {/* Dark Mode */}\n    <div>\n    <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Theme</h4>\n    <button\n    onClick={() => updateSettings('darkMode', !dm)}\n    className={`w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors\n      ${dm ? (highContrast ? 'bg-gray-900 text-yellow-300 border-2 border-yellow-400' : 'bg-gray-700 text-white') : (highContrast ? 'bg-white text-blue-700 border-2 border-blue-700' : 'bg-gray-200 text-black')}\n      hover:${dm ? (highContrast ? 'bg-gray-800' : 'bg-gray-600') : (highContrast ? 'bg-gray-100' : 'bg-gray-300')}\n      `}\n      >\n      {dm ? <Sun size={18} className=\"mr-2\" /> : <Moon size={18} className=\"mr-2\" />}\n      {dm ? 'Switch to Light Mode' : 'Switch to Dark Mode'}\n      </button>\n      </div>\n\n      {/* High Contrast */}\n      <div>\n      <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Contrast</h4>\n      <button\n      onClick={() => updateSettings('highContrast', !hc)}\n      className={`w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors\n        ${hc\n          ? (darkMode ? 'bg-yellow-400 text-black' : 'bg-blue-600 text-white')\n          : (darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700')}\n          ${highContrast && hc ? (darkMode ? 'border-2 border-white': 'border-2 border-black') : ''}\n          `}\n          >\n          <Eye size={18} className=\"mr-2\" />\n          {hc ? 'Disable High Contrast' : 'Enable High Contrast'}\n          </button>\n          </div>\n\n          {/* TalkBack Simulation */}\n          <div>\n          <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Read Aloud (TalkBack Simulation)</h4>\n          <button\n          onClick={() => updateSettings('talkbackEnabled', !talkbackEnabled)}\n          className={`w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors\n            ${talkbackEnabled\n              ? (darkMode ? 'bg-green-600 text-white' : 'bg-green-500 text-white')\n              : (darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700')}\n              ${highContrast && talkbackEnabled ? (darkMode ? 'border-2 border-white': 'border-2 border-black') : ''}\n              `}\n              >\n              <Volume2 size={18} className=\"mr-2\" />\n              {talkbackEnabled ? 'Disable Read Aloud Feature' : 'Enable Read Aloud Feature'}\n              </button>\n              {talkbackEnabled && <p className={`mt-2 text-xs ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>When enabled, look for <Volume2 size={12} className=\"inline\" /> icons to have text read aloud.</p>}\n              </div>\n              </div>\n              </Modal>\n  );\n};\n\n\n// --- Screen Components (Adapted for Accessibility) ---\n\nconst HomeScreen = ({ setCurrentPage, userName, userId, accessibilitySettings }) => (\n  <div className={`p-6 min-h-[calc(100vh-4rem)] flex flex-col justify-center items-center transition-colors duration-300\n    ${accessibilitySettings.darkMode ? 'bg-gradient-to-br from-gray-800 to-gray-900 text-white' : 'bg-gradient-to-br from-blue-500 to-indigo-600 text-white'}\n    ${accessibilitySettings.highContrast && accessibilitySettings.darkMode ? 'border-2 border-yellow-400' : ''}\n    ${accessibilitySettings.highContrast && !accessibilitySettings.darkMode ? 'bg-white text-black border-2 border-blue-700' : ''}\n    `}>\n    <UserCircle size={80} className={`mb-4 ${accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'text-yellow-300' : 'text-indigo-300') : (accessibilitySettings.highContrast ? 'text-blue-700' : 'text-indigo-200')}`} />\n    <h1 className={`text-3xl font-bold mb-2 ${accessibilitySettings.highContrast && !accessibilitySettings.darkMode ? 'text-black' : ''}`}>Welcome, {userName || 'User'}!</h1>\n    {accessibilitySettings.talkbackEnabled && <SpeakButton textToSpeak={`Welcome, ${userName || 'User'}!`} darkMode={accessibilitySettings.darkMode} highContrast={accessibilitySettings.highContrast} />}\n\n    <p className={`mb-1 text-sm ${accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'text-yellow-200' : 'text-indigo-100') : (accessibilitySettings.highContrast ? 'text-gray-700' : 'text-indigo-100')}`}>\n    User ID: <span className={`font-mono px-1 rounded ${accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'bg-yellow-600 text-black' : 'bg-gray-700') : (accessibilitySettings.highContrast ? 'bg-blue-200 text-black' : 'bg-indigo-700')}`}>{userId || 'N/A'}</span>\n    </p>\n    <p className={`mb-6 text-center ${accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'text-yellow-200' : 'text-indigo-100') : (accessibilitySettings.highContrast ? 'text-gray-700' : 'text-indigo-100')}`}>Your personal health assistant. Ready to help you manage your medical needs.</p>\n    {accessibilitySettings.talkbackEnabled && <SpeakButton textToSpeak=\"Your personal health assistant. Ready to help you manage your medical needs.\" darkMode={accessibilitySettings.darkMode} highContrast={accessibilitySettings.highContrast} />}\n\n    <div className=\"grid grid-cols-2 gap-4 w-full max-w-md\">\n    {[\n      { page: 'myAppointments', label: 'My Appointments', icon: ListChecks },\n      { page: 'chat', label: 'Chat with Doctor', icon: MessageSquare },\n      { page: 'prescriptions', label: 'View Prescriptions', icon: ListChecks },\n    ].map(item => (\n      <button\n      key={item.page}\n      onClick={() => setCurrentPage(item.page)}\n      className={`p-4 rounded-lg shadow-md transition-all flex flex-col items-center justify-center aspect-square\n        ${accessibilitySettings.darkMode\n          ? (accessibilitySettings.highContrast ? 'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900' : 'bg-gray-700 text-indigo-300 hover:bg-gray-600')\n          : (accessibilitySettings.highContrast ? 'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50' : 'bg-white text-blue-600 hover:bg-blue-50')}\n          `}\n          >\n          <item.icon size={32} className=\"mb-2\" />\n          <span className=\"font-semibold text-center\">{item.label}</span>\n          {accessibilitySettings.talkbackEnabled && <SpeakButton textToSpeak={item.label} darkMode={accessibilitySettings.darkMode} highContrast={accessibilitySettings.highContrast} />}\n          </button>\n    ))}\n    <button\n    onClick={() => setCurrentPage('makeAppointment')} // Kept separate if logic differs, or merge if identical to 'My Appointments' button\n    className={`p-4 rounded-lg shadow-md transition-all flex flex-col items-center justify-center aspect-square\n      ${accessibilitySettings.darkMode\n        ? (accessibilitySettings.highContrast ? 'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900' : 'bg-gray-700 text-indigo-300 hover:bg-gray-600')\n        : (accessibilitySettings.highContrast ? 'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50' : 'bg-white text-blue-600 hover:bg-blue-50')}\n        `}\n        >\n        <CalendarPlus size={32} className=\"mb-2\" />\n        <span className=\"font-semibold text-center\">Make Appointment</span>\n        {accessibilitySettings.talkbackEnabled && <SpeakButton textToSpeak=\"Make Appointment\" darkMode={accessibilitySettings.darkMode} highContrast={accessibilitySettings.highContrast} />}\n        </button>\n        </div>\n        </div>\n);\n\nconst AppointmentsScreen = ({ userId, showNotification, accessibilitySettings }) => {\n  const [appointments, setAppointments] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [confirmCancelModal, setConfirmCancelModal] = useState({ isOpen: false, appointmentId: null });\n\n  const [doctor, setDoctor] = useState(MOCK_DOCTORS[0]?.id || '');\n  const [date, setDate] = useState('');\n  const [time, setTime] = useState('');\n  const [reason, setReason] = useState('');\n\n  const appointmentsCollectionPath = `artifacts/${appId}/users/${userId}/appointments`;\n\n  useEffect(() => {\n    if (!db || !userId) {\n      console.log(\"Using mock appointments as db or userId is not available.\");\n      setAppointments([\n        { id: 'apt1', doctor: 'Dr. Emily Carter', date: '2024-06-10', time: '10:00 AM', reason: 'Check-up', status: 'Scheduled' },\n        { id: 'apt2', doctor: 'Dr. John Smith', date: '2024-06-15', time: '02:30 PM', reason: 'Follow-up', status: 'Scheduled' },\n      ]);\n      setIsLoading(false);\n      return;\n    }\n\n    setIsLoading(true);\n    const q = query(collection(db, appointmentsCollectionPath));\n    const unsubscribe = onSnapshot(q, (querySnapshot) => {\n      const userAppointments = [];\n      querySnapshot.forEach((doc) => {\n        userAppointments.push({ id: doc.id, ...doc.data() });\n      });\n      userAppointments.sort((a, b) => new Date(`${a.date} ${a.time}`) - new Date(`${b.date} ${b.time}`));\n      setAppointments(userAppointments);\n      setIsLoading(false);\n    }, (error) => {\n      console.error(\"Error fetching appointments: \", error);\n      showNotification(\"Error fetching appointments.\", \"error\");\n      setIsLoading(false);\n    });\n    return () => unsubscribe();\n  }, [userId, showNotification, appointmentsCollectionPath]);\n\n  const handleMakeAppointment = async (e) => {\n    e.preventDefault();\n    if (!db || !userId) {\n      showNotification(\"Database not available.\", \"error\"); return;\n    }\n    if (!doctor || !date || !time || !reason) {\n      showNotification(\"Please fill all fields.\", \"error\"); return;\n    }\n    const newAppointment = {\n      doctor: MOCK_DOCTORS.find(d => d.id === doctor)?.name || doctor, date, time, reason,\n      status: 'Scheduled', createdAt: new Date().toISOString()\n    };\n    try {\n      await addDoc(collection(db, appointmentsCollectionPath), newAppointment);\n      showNotification(\"Appointment booked successfully!\", \"success\");\n      setDoctor(MOCK_DOCTORS[0]?.id || ''); setDate(''); setTime(''); setReason('');\n      setIsModalOpen(false);\n    } catch (error) {\n      console.error(\"Error adding appointment: \", error);\n      showNotification(\"Failed to book appointment.\", \"error\");\n    }\n  };\n\n  const confirmCancel = (appointmentId) => {\n    setConfirmCancelModal({ isOpen: true, appointmentId });\n  };\n\n  const executeCancelAppointment = async () => {\n    const appointmentId = confirmCancelModal.appointmentId;\n    if (!db || !userId || !appointmentId) {\n      showNotification(\"Database not available or invalid request.\", \"error\");\n      setConfirmCancelModal({ isOpen: false, appointmentId: null });\n      return;\n    }\n    try {\n      const appointmentRef = doc(db, appointmentsCollectionPath, appointmentId);\n      await updateDoc(appointmentRef, { status: 'Cancelled' });\n      showNotification(\"Appointment cancelled successfully.\", \"success\");\n    } catch (error) {\n      console.error(\"Error cancelling appointment: \", error);\n      showNotification(\"Failed to cancel appointment.\", \"error\");\n    }\n    setConfirmCancelModal({ isOpen: false, appointmentId: null });\n  };\n\n  const { darkMode, highContrast, talkbackEnabled, fontSize } = accessibilitySettings;\n\n  return (\n    <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <div className=\"flex justify-between items-center mb-6\">\n    <h2 className={`text-2xl font-semibold ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>My Appointments</h2>\n    {talkbackEnabled && <SpeakButton textToSpeak=\"My Appointments page.\" darkMode={darkMode} highContrast={highContrast}/>}\n    <button\n    onClick={() => setIsModalOpen(true)}\n    className={`font-semibold py-2 px-4 rounded-lg shadow-md flex items-center\n      ${darkMode ? (highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600' : 'bg-blue-600 hover:bg-blue-700 text-white') : (highContrast ? 'bg-blue-700 text-white hover:bg-blue-800' : 'bg-blue-500 hover:bg-blue-600 text-white')}\n      `}\n      >\n      <PlusCircle size={20} className=\"mr-2\" />\n      New Appointment\n      </button>\n      </div>\n\n      {isLoading ? (\n        <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Loading appointments...</p>\n      ) : appointments.length === 0 ? (\n        <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`}>You have no upcoming appointments.</p>\n      ) : (\n        <div className=\"space-y-4\">\n        {appointments.map(apt => (\n          <div key={apt.id} className={`p-4 rounded-lg shadow-md\n            ${apt.status === 'Cancelled' ? (darkMode ? 'bg-gray-700 opacity-70' : 'bg-gray-200 opacity-70') : (darkMode ? 'bg-gray-700' : 'bg-white')}\n            ${highContrast && darkMode ? 'border border-yellow-300' : ''}\n            ${highContrast && !darkMode && apt.status !== 'Cancelled' ? 'border border-blue-500' : ''}\n            ${highContrast && !darkMode && apt.status === 'Cancelled' ? 'border border-gray-400' : ''}\n            `}>\n            <h3 className={`text-lg font-semibold ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-blue-400') : (highContrast ? 'text-blue-700' : 'text-blue-600')}`}>{apt.doctor}</h3>\n            {talkbackEnabled && <SpeakButton textToSpeak={`Appointment with ${apt.doctor}`} darkMode={darkMode} highContrast={highContrast}/>}\n            <p><strong>Date:</strong> {apt.date} {talkbackEnabled && <SpeakButton textToSpeak={`Date ${apt.date}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n            <p><strong>Time:</strong> {apt.time} {talkbackEnabled && <SpeakButton textToSpeak={`Time ${apt.time}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n            <p><strong>Reason:</strong> {apt.reason} {talkbackEnabled && <SpeakButton textToSpeak={`Reason ${apt.reason}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n            <p><strong>Status:</strong> <span className={`${apt.status === 'Cancelled' ? (darkMode ? 'text-red-400' : 'text-red-500') : (darkMode ? 'text-green-400' : 'text-green-500')}`}>{apt.status}</span> {talkbackEnabled && <SpeakButton textToSpeak={`Status ${apt.status}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n            {apt.status !== 'Cancelled' && (\n              <button\n              onClick={() => confirmCancel(apt.id)}\n              className={`mt-3 font-semibold py-1 px-3 rounded-md text-sm flex items-center\n                ${darkMode ? (highContrast ? 'bg-red-500 text-black hover:bg-red-600' : 'bg-red-600 hover:bg-red-700 text-white') : (highContrast ? 'bg-red-700 text-white hover:bg-red-800' : 'bg-red-500 hover:bg-red-600 text-white')}\n                `}\n                >\n                <Trash2 size={16} className=\"mr-1\" />\n                Cancel\n                </button>\n            )}\n            </div>\n        ))}\n        </div>\n      )}\n\n      <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} title=\"Book a New Appointment\" darkMode={darkMode} highContrast={highContrast} fontSizeClass={accessibilitySettings.fontSize}>\n      <form onSubmit={handleMakeAppointment} className=\"space-y-4\">\n      {/* Form fields adapted for accessibility settings */}\n      {['doctor', 'date', 'time', 'reason'].map(field => (\n        <div key={field}>\n        <label htmlFor={field} className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200':''}`}>\n        {field.charAt(0).toUpperCase() + field.slice(1).replace('rV', 'r V')}\n        </label>\n        {field === 'doctor' ? (\n          <select id=\"doctor\" value={doctor} onChange={(e) => setDoctor(e.target.value)} className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`}>\n          {MOCK_DOCTORS.map(doc => <option key={doc.id} value={doc.id}>{doc.name}</option>)}\n          </select>\n        ) : field === 'reason' ? (\n          <textarea id=\"reason\" rows=\"3\" value={reason} onChange={(e) => setReason(e.target.value)} placeholder=\"e.g., Annual check-up\" className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`}></textarea>\n        ) : (\n          <input type={field} id={field} value={field === 'date' ? date : time} onChange={(e) => field === 'date' ? setDate(e.target.value) : setTime(e.target.value)} min={field === 'date' ? new Date().toISOString().split('T')[0] : undefined} className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`} />\n        )}\n        </div>\n      ))}\n      <button type=\"submit\" className={`w-full font-semibold py-2 px-4 rounded-lg shadow-md flex items-center justify-center ${darkMode ? (highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600' : 'bg-blue-600 hover:bg-blue-700 text-white') : (highContrast ? 'bg-blue-700 text-white hover:bg-blue-800' : 'bg-blue-500 hover:bg-blue-600 text-white')}`}>\n      Confirm Appointment\n      </button>\n      </form>\n      </Modal>\n      <Modal isOpen={confirmCancelModal.isOpen} onClose={() => setConfirmCancelModal({ isOpen: false, appointmentId: null })} title=\"Confirm Cancellation\" darkMode={darkMode} highContrast={highContrast} fontSizeClass={accessibilitySettings.fontSize}>\n      <p className={`${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-4`}>Are you sure you want to cancel this appointment?</p>\n      <div className=\"flex justify-end space-x-3\">\n      <button onClick={() => setConfirmCancelModal({ isOpen: false, appointmentId: null })} className={`px-4 py-2 rounded-md text-sm font-medium ${darkMode ? 'bg-gray-600 hover:bg-gray-500 text-white' : 'bg-gray-300 hover:bg-gray-400 text-black'}`}>No, Keep It</button>\n      <button onClick={executeCancelAppointment} className={`px-4 py-2 rounded-md text-sm font-medium ${darkMode ? (highContrast ? 'bg-red-500 text-black hover:bg-red-600' : 'bg-red-600 hover:bg-red-700 text-white') : (highContrast ? 'bg-red-700 text-white hover:bg-red-800' : 'bg-red-500 hover:bg-red-600 text-white')}`}>Yes, Cancel</button>\n      </div>\n      </Modal>\n      </div>\n  );\n};\n\nconst ChatScreen = ({ userId, showNotification, accessibilitySettings }) => {\n  const [messages, setMessages] = useState([\n    { id: 'm1', text: 'Hello! How can I help you today?', sender: 'doctor', time: '10:00 AM' },\n    { id: 'm2', text: 'I have a slight fever and a headache.', sender: 'user', time: '10:01 AM' },\n  ]);\n  const [newMessage, setNewMessage] = useState('');\n  const [selectedDoctor, setSelectedDoctor] = useState(MOCK_DOCTORS[0]?.id || '');\n  const messagesEndRef = useRef(null); // For scrolling to bottom\n\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n\n  useEffect(() => { // Scroll to bottom when new messages arrive\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    if (!newMessage.trim()) return;\n    const messageData = {\n      text: newMessage, sender: 'user', time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),\n      createdAt: new Date().toISOString(), userId: userId, doctorId: selectedDoctor\n    };\n    setMessages(prevMessages => [...prevMessages, { ...messageData, id: `m${prevMessages.length + 1}` }]);\n    setNewMessage('');\n    setTimeout(() => {\n      setMessages(prev => [...prev, {\n        id: `m${prev.length + 1}`, text: \"Okay, I understand. Can you tell me more about your symptoms?\",\n        sender: 'doctor', time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n      }]);\n    }, 1500);\n  };\n\n  return (\n    <div className={`flex flex-col h-[calc(100vh-4rem)] transition-colors duration-300 ${darkMode ? 'bg-gray-900' : 'bg-gray-50'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <div className={`p-4 border-b shadow-sm ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} ${highContrast && darkMode ? 'border-b-yellow-400':''} ${highContrast && !darkMode ? 'border-b-blue-600':''}`}>\n    <label htmlFor=\"doctorSelect\" className={`text-sm font-medium mr-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200':''}`}>Chat with:</label>\n    <select\n    id=\"doctorSelect\" value={selectedDoctor} onChange={(e) => setSelectedDoctor(e.target.value)}\n    className={`p-2 border rounded-md focus:outline-none ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`}\n    >\n    {MOCK_DOCTORS.map(doc => <option key={doc.id} value={doc.id}>{doc.name}</option>)}\n    </select>\n    </div>\n\n    <div className=\"flex-grow p-4 space-y-4 overflow-y-auto\">\n    {messages.map(msg => (\n      <div key={msg.id} className={`flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`}>\n      <div className={`max-w-xs lg:max-w-md px-4 py-2 rounded-xl shadow\n        ${msg.sender === 'user'\n          ? (darkMode ? (highContrast ? 'bg-blue-700 text-white rounded-br-none border border-white' : 'bg-blue-600 text-white rounded-br-none') : (highContrast ? 'bg-blue-600 text-white rounded-br-none border border-black' : 'bg-blue-500 text-white rounded-br-none'))\n          : (darkMode ? (highContrast ? 'bg-black text-yellow-300 rounded-bl-none border border-yellow-400' : 'bg-gray-700 text-gray-200 rounded-bl-none') : (highContrast ? 'bg-gray-300 text-black rounded-bl-none border border-black' : 'bg-gray-200 text-gray-800 rounded-bl-none'))\n        }\n        `}>\n        <p>{msg.text} {talkbackEnabled && <SpeakButton textToSpeak={msg.text} darkMode={darkMode} highContrast={highContrast}/>}</p>\n        <p className={`text-xs mt-1 ${msg.sender === 'user' ? (darkMode ? 'text-blue-200 text-right' : 'text-blue-100 text-right') : (darkMode ? 'text-gray-400 text-left' : 'text-gray-500 text-left')}`}>\n        {msg.time}\n        </p>\n        </div>\n        </div>\n    ))}\n    <div ref={messagesEndRef} />\n    </div>\n\n    <form onSubmit={handleSendMessage} className={`p-4 border-t flex items-center ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} ${highContrast && darkMode ? 'border-t-yellow-400':''} ${highContrast && !darkMode ? 'border-t-blue-600':''}`}>\n    <input\n    type=\"text\" value={newMessage} onChange={(e) => setNewMessage(e.target.value)} placeholder=\"Type your message...\"\n    className={`flex-grow p-3 border rounded-l-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500' : 'border-gray-300 placeholder-gray-500 focus:ring-blue-400'} ${highContrast ? (darkMode ? 'border-yellow-400 focus:ring-yellow-300' : 'border-blue-600 focus:ring-blue-500') : ''}`}\n    />\n    <button type=\"submit\" className={`p-3 rounded-r-lg focus:outline-none focus:ring-2\n      ${darkMode ? (highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600 focus:ring-yellow-300' : 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500') : (highContrast ? 'bg-blue-700 text-white hover:bg-blue-800 focus:ring-blue-600' : 'bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-400')}\n      `}>\n      <Send size={24} />\n      </button>\n      </form>\n      </div>\n  );\n};\n\nconst PrescriptionsScreen = ({ userId, showNotification, accessibilitySettings }) => {\n  const [prescriptions, setPrescriptions] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n\n  useEffect(() => {\n    setIsLoading(true);\n    // Simulate fetching data (using mock for now)\n    // TODO: Replace with Firestore fetching if needed\n    setPrescriptions(MOCK_PRESCRIPTIONS);\n    setIsLoading(false);\n  }, [userId]);\n\n  if (isLoading) {\n    return <p className={`p-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Loading prescriptions...</p>;\n  }\n\n  return (\n    <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <h2 className={`text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>My Prescriptions</h2>\n    {talkbackEnabled && <SpeakButton textToSpeak=\"My Prescriptions page.\" darkMode={darkMode} highContrast={highContrast}/>}\n    {prescriptions.length === 0 ? (\n      <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`}>You have no prescriptions on file.</p>\n    ) : (\n      <div className=\"space-y-4\">\n      {prescriptions.map(rx => (\n        <div key={rx.id} className={`p-4 rounded-lg shadow-md\n          ${darkMode ? 'bg-gray-700 border-l-4 border-green-500' : 'bg-white border-l-4 border-green-500'}\n          ${highContrast && darkMode ? 'border-yellow-300 border-l-yellow-400' : ''}\n          ${highContrast && !darkMode ? 'border-blue-500 border-l-blue-700' : ''}\n          `}>\n          <h3 className={`text-lg font-semibold ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-green-400') : (highContrast ? 'text-blue-700' : 'text-green-700')}`}>{rx.name}</h3>\n          {talkbackEnabled && <SpeakButton textToSpeak={`Prescription: ${rx.name}`} darkMode={darkMode} highContrast={highContrast}/>}\n          <p><strong>Dosage:</strong> {rx.dosage} {talkbackEnabled && <SpeakButton textToSpeak={`Dosage ${rx.dosage}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n          <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}><strong>Prescribed on:</strong> {rx.date} {talkbackEnabled && <SpeakButton textToSpeak={`Prescribed on ${rx.date}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n          <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}><strong>Prescribed by:</strong> {rx.doctor} {talkbackEnabled && <SpeakButton textToSpeak={`Prescribed by ${rx.doctor}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n          </div>\n      ))}\n      </div>\n    )}\n    </div>\n  );\n};\n\n\n// --- Main App Component ---\nconst App = () => {\n  const [currentPage, setCurrentPage] = useState('home');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [userName, setUserName] = useState('');\n  const [notification, setNotification] = useState({ message: '', type: '' });\n  const [isSettingsModalOpen, setIsSettingsModalOpen] = useState(false);\n\n  // Accessibility Settings State\n  const [accessibilitySettings, setAccessibilitySettings] = useState({\n    fontSize: 'text-base', // Tailwind classes: text-sm, text-base, text-lg, text-xl, text-2xl\n    highContrast: false,\n    darkMode: false,\n    talkbackEnabled: false, // For simulated TalkBack feature\n  });\n\n  // Load settings from localStorage\n  useEffect(() => {\n    const savedSettings = localStorage.getItem('medicAssistAccessibilitySettings');\n    if (savedSettings) {\n      setAccessibilitySettings(JSON.parse(savedSettings));\n    }\n  }, []);\n\n  // Save settings to localStorage and apply dark mode\n  useEffect(() => {\n    localStorage.setItem('medicAssistAccessibilitySettings', JSON.stringify(accessibilitySettings));\n    if (accessibilitySettings.darkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [accessibilitySettings]);\n\n  const updateAccessibilitySetting = (key, value) => {\n    setAccessibilitySettings(prev => ({ ...prev, [key]: value }));\n  };\n\n  const showNotification = useCallback((message, type = 'info', duration = 3000) => {\n    setNotification({ message, type });\n    setTimeout(() => setNotification({ message: '', type: '' }), duration);\n  }, []);\n\n  useEffect(() => {\n    if (!auth) {\n      console.warn(\"Firebase Auth is not initialized.\");\n      setIsAuthReady(true); return;\n    }\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      if (user) {\n        setCurrentUser(user);\n        setUserName(user.displayName || `User-${user.uid.substring(0,5)}`);\n      } else {\n        setCurrentUser(null); setUserName('');\n        try {\n          if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {\n            await signInWithCustomToken(auth, __initial_auth_token);\n          } else {\n            await signInAnonymously(auth);\n          }\n        } catch (error) {\n          console.error(\"Error during auto sign-in:\", error);\n          showNotification(\"Authentication issue. Some features might be limited.\", \"error\");\n        }\n      }\n      setIsAuthReady(true);\n    });\n    return () => unsubscribe();\n  }, [showNotification]);\n\n  const handleSignOut = async () => {\n    if (!auth) { showNotification(\"Auth service not available.\", \"error\"); return; }\n    try {\n      await signOut(auth);\n      setCurrentPage('home');\n      showNotification(\"Signed out successfully.\", \"success\");\n    } catch (error) {\n      console.error(\"Error signing out:\", error);\n      showNotification(\"Error signing out.\", \"error\");\n    }\n  };\n\n  const renderPage = () => {\n    if (!isAuthReady) {\n      return <div className={`flex justify-center items-center h-screen ${accessibilitySettings.fontSize} ${accessibilitySettings.darkMode ? 'bg-gray-900 text-white' : 'bg-gray-100 text-black'}`}><p>Initializing App...</p></div>;\n    }\n    const userId = currentUser ? currentUser.uid : null;\n    const commonProps = { userId, showNotification, accessibilitySettings };\n\n    switch (currentPage) {\n      case 'home': return <HomeScreen setCurrentPage={setCurrentPage} userName={userName} {...commonProps} />;\n      case 'makeAppointment': // Fallthrough to myAppointments for now\n      case 'myAppointments': return <AppointmentsScreen {...commonProps} />;\n      case 'chat': return <ChatScreen {...commonProps} />;\n      case 'prescriptions': return <PrescriptionsScreen {...commonProps} />;\n      default: return <HomeScreen setCurrentPage={setCurrentPage} userName={userName} {...commonProps} />;\n    }\n  };\n\n  const NavItem = ({ page, label, icon: IconComponent }) => (\n    <button\n    onClick={() => setCurrentPage(page)}\n    className={`flex flex-col items-center justify-center p-2 w-full transition-colors duration-200 ease-in-out\n      ${accessibilitySettings.fontSize}\n      ${currentPage === page\n        ? (accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'text-yellow-300' : 'text-blue-400') : (accessibilitySettings.highContrast ? 'text-blue-700 font-bold' : 'text-blue-500'))\n        : (accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'text-gray-400 hover:text-yellow-200' : 'text-gray-400 hover:text-blue-300') : (accessibilitySettings.highContrast ? 'text-gray-600 hover:text-blue-600' : 'text-gray-500 hover:text-blue-400'))\n      }\n      `}\n      >\n      <IconComponent size={24} strokeWidth={currentPage === page ? 2.5 : 2} />\n      <span className=\"text-xs mt-1\">{label}</span>\n      </button>\n  );\n\n  // Apply base font size and high contrast classes to the main container\n  // Dark mode is applied to documentElement\n  let appClasses = `font-sans antialiased flex flex-col min-h-screen transition-colors duration-300 ${accessibilitySettings.fontSize}`;\n  if (accessibilitySettings.darkMode) {\n    appClasses += accessibilitySettings.highContrast ? ' bg-black text-yellow-300' : ' bg-gray-900 text-gray-200';\n  } else {\n    appClasses += accessibilitySettings.highContrast ? ' bg-white text-black border-2 border-blue-900' : ' bg-gray-100 text-gray-800';\n  }\n\n\n  return (\n    <div className={appClasses}>\n    <Notification message={notification.message} type={notification.type} onDismiss={() => setNotification({message: '', type: ''})} darkMode={accessibilitySettings.darkMode} />\n\n    <header className={`p-4 shadow-md flex justify-between items-center sticky top-0 z-40\n      ${accessibilitySettings.darkMode\n        ? (accessibilitySettings.highContrast ? 'bg-black text-yellow-300 border-b-2 border-yellow-400' : 'bg-gray-800 text-white')\n        : (accessibilitySettings.highContrast ? 'bg-white text-blue-700 border-b-2 border-blue-700' : 'bg-blue-600 text-white')}\n        `}>\n        <h1 className=\"text-xl font-semibold\">Medic Assist</h1>\n        <div className=\"flex items-center space-x-2\">\n        {currentUser && (\n          <button onClick={handleSignOut} className={`text-sm flex items-center p-2 rounded-md\n            ${accessibilitySettings.darkMode\n              ? (accessibilitySettings.highContrast ? 'hover:bg-yellow-700 text-yellow-300 border border-yellow-300' : 'hover:bg-gray-700 text-gray-300')\n              : (accessibilitySettings.highContrast ? 'hover:bg-blue-200 text-blue-700 border border-blue-700' : 'hover:bg-blue-700 text-blue-100')}\n              `}>\n              <LogOut size={18} className=\"mr-1\" /> Sign Out\n              </button>\n        )}\n        <button\n        onClick={() => setIsSettingsModalOpen(true)}\n        aria-label=\"Open accessibility settings\"\n        className={`p-2 rounded-md\n          ${accessibilitySettings.darkMode\n            ? (accessibilitySettings.highContrast ? 'hover:bg-yellow-700 text-yellow-300' : 'hover:bg-gray-700 text-gray-300')\n            : (accessibilitySettings.highContrast ? 'hover:bg-blue-200 text-blue-700' : 'hover:bg-blue-700 text-blue-100')}\n            `}\n            >\n            <Settings size={22} />\n            </button>\n            </div>\n            </header>\n\n            <main className=\"flex-grow overflow-y-auto\">\n            {renderPage()}\n            </main>\n\n            <nav className={`fixed bottom-0 left-0 right-0 border-t shadow-t-md flex justify-around items-center h-16 z-40\n              ${accessibilitySettings.darkMode\n                ? (accessibilitySettings.highContrast ? 'bg-black border-t-yellow-400' : 'bg-gray-800 border-gray-700')\n                : (accessibilitySettings.highContrast ? 'bg-white border-t-blue-700' : 'bg-white border-gray-200')}\n                `}>\n                <NavItem page=\"home\" label=\"Home\" icon={Home} />\n                <NavItem page=\"myAppointments\" label=\"Appointments\" icon={CalendarPlus} />\n                <NavItem page=\"chat\" label=\"Chat\" icon={MessageSquare} />\n                <NavItem page=\"prescriptions\" label=\"Prescriptions\" icon={ListChecks} />\n                </nav>\n                <div className=\"h-16\"></div> {/* Spacer for bottom nav */}\n\n                <AccessibilitySettingsModal\n                isOpen={isSettingsModalOpen}\n                onClose={() => setIsSettingsModalOpen(false)}\n                settings={accessibilitySettings}\n                updateSettings={updateAccessibilitySetting}\n                darkMode={accessibilitySettings.darkMode}\n                highContrast={accessibilitySettings.highContrast}\n                fontSizeClass={accessibilitySettings.fontSize}\n                />\n                </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}