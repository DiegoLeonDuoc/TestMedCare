{"ast":null,"code":"import _objectSpread from\"/home/diego/ExpoApp/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback,useRef}from'react';import{initializeApp}from'firebase/app';import{getAuth,signInAnonymously,signInWithCustomToken,onAuthStateChanged,signOut}from'firebase/auth';import{getFirestore,collection,addDoc,getDocs,doc,updateDoc,deleteDoc,onSnapshot,query,where,setDoc}from'firebase/firestore';import{Home,CalendarPlus,MessageSquare,ListChecks,UserCircle,XCircle,Send,PlusCircle,Trash2,LogOut,CheckCircle,AlertTriangle,Info,Settings,Volume2,Eye,Moon,Sun,ZoomIn,ZoomOut,FileText,Activity,BookOpen,Search,MapPin,Menu,ChevronRight,ShieldCheck,FileBarChart2,Stethoscope,School}from'lucide-react';import'./App.css';// --- Firebase Configuration ---\n// const firebaseConfig = {\n//   apiKey: \"YOUR_API_KEY\",\n//   authDomain: \"YOUR_AUTH_DOMAIN\",\n//   projectId: \"YOUR_PROJECT_ID\",\n//   storageBucket: \"YOUR_STORAGE_BUCKET\",\n//   messagingSenderId: \"YOUR_MESSAGING_SENDER_ID\",\n//   appId: \"YOUR_APP_ID\"\n// };\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const firebaseConfig={apiKey:\"AIzaSyC9yqipXCN_ALWZFrFUaBbMG4LznCgt4MM\",authDomain:\"medcare-app-9678b.firebaseapp.com\",projectId:\"medcare-app-9678b\",storageBucket:\"medcare-app-9678b.firebasestorage.app\",messagingSenderId:\"805339182842\",appId:\"1:805339182842:web:c4bab764c2c8b40527bb43\",measurementId:\"G-L8444GNX38\"};// --- Global Firebase Variables (to be provided by the environment) ---\n//const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\nconst appId='medcare-app-9678b';// const finalFirebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : firebaseConfig;\n//const finalFirebaseConfig ='false';\n// --- Initialize Firebase ---\nlet app;let auth;let db;try{//   app = initializeApp(finalFirebaseConfig);\napp=initializeApp(firebaseConfig);auth=getAuth(app);db=getFirestore(app);// import { setLogLevel } from \"firebase/firestore\"; // For debugging\n// setLogLevel('debug');\n}catch(e){console.error(\"Error initializing Firebase:\",e);if(!db){console.warn(\"Firestore (db) is not initialized. App will run with mock data and no persistence.\");}}// Service worker\nif('serviceWorker'in navigator){// Register a service worker hosted at the root of the\n// site using the default scope.\nnavigator.serviceWorker.register('./service-worker.js').then(registration=>{console.log('Service worker registration succeeded:',registration);},/*catch*/error=>{console.error(\"Service worker registration failed: \".concat(error));});}else{console.error('Service workers are not supported.');}// --- Mock Data ---\nconst MOCK_PRESCRIPTIONS=[{id:'p1',name:'Amoxicillin 250mg',dosage:'1 tablet every 8 hours for 7 days',date:'2024-05-20',doctor:'Dr. Smith',notes:'Complete full course.'},{id:'p2',name:'Ibuprofen 400mg',dosage:'1 tablet as needed for pain',date:'2024-05-15',doctor:'Dr. Jones',notes:'Max 3 tablets per day.'}];const MOCK_DOCTORS=[{id:'doc1',name:'Dr. Emily Carter (Cardiologist)'},{id:'doc2',name:'Dr. John Smith (General Practitioner)'},{id:'doc3',name:'Dr. Sarah Lee (Pediatrician)'}];const MOCK_LAB_RESULTS=[{id:'lr1',testName:'Complete Blood Count (CBC)',date:'2024-05-18',status:'View Results',summary:'All values within normal range.',doctor:'Dr. Smith'},{id:'lr2',testName:'Lipid Panel',date:'2024-05-10',status:'View Results',summary:'Slightly elevated LDL cholesterol.',doctor:'Dr. Carter'},{id:'lr3',testName:'Thyroid Stimulating Hormone (TSH)',date:'2024-04-20',status:'Pending',summary:'Results not yet available.',doctor:'Dr. endocrinologist'}];const MOCK_MEDICAL_HISTORY={diagnoses:[{id:'d1',condition:'Hypertension',date:'2022-01-15',notes:'Managed with medication.'},{id:'d2',condition:'Seasonal Allergies',date:'Ongoing',notes:'Pollen, dust mites.'}],allergies:[{id:'a1',substance:'Penicillin',reaction:'Rash',severity:'Mild'},{id:'a2',substance:'Peanuts',reaction:'Anaphylaxis',severity:'Severe'}],immunizations:[{id:'i1',vaccine:'Influenza',date:'2023-10-01'},{id:'i2',vaccine:'Tetanus, Diphtheria, Pertussis (Tdap)',date:'2020-07-20'}]};const MOCK_EDUCATIONAL_RESOURCES=[{id:'er1',title:'Understanding Your Blood Pressure',type:'Article',category:'Heart Health',summary:'Learn about blood pressure readings and management.'},{id:'er2',title:'Managing Type 2 Diabetes',type:'Video',category:'Diabetes Care',summary:'Tips for diet, exercise, and medication.'},{id:'er3',title:'Common Cold: Symptoms & Treatment',type:'FAQ',category:'General Wellness',summary:'Frequently asked questions about the common cold.'}];const MOCK_CLINICS=[{id:'c1',name:'City General Hospital',address:'123 Main St, Anytown',type:'Hospital',specialties:['Cardiology','Oncology','Pediatrics'],insurance:['BlueCross','Aetna'],rating:4.5},{id:'c2',name:'Downtown Urgent Care',address:'456 Oak Ave, Anytown',type:'Urgent Care',specialties:['General Medicine'],insurance:['Cigna','UnitedHealthcare'],rating:4.2},{id:'c3',name:'Wellness Clinic',address:'789 Pine Ln, Anytown',type:'Clinic',specialties:['Family Medicine','Pediatrics'],insurance:['BlueCross','Kaiser'],rating:4.8}];// --- Helper Components (Modal, Notification, SpeakButton, AccessibilitySettingsModal - unchanged, assuming they are robust) ---\n// For brevity, these components are not repeated here but are assumed to be the same as in the previous version.\n// Modal Component\nconst Modal=_ref=>{let{isOpen,onClose,title,children,darkMode,highContrast,fontSizeClass}=_ref;if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-lg shadow-xl p-6 w-full max-w-md \".concat(fontSizeClass,\" \").concat(darkMode?'bg-gray-800 text-white':'bg-white text-gray-800',\" \").concat(highContrast?darkMode?'border-2 border-yellow-400':'border-2 border-blue-600':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold \".concat(highContrast&&darkMode?'text-yellow-300':highContrast?'text-blue-700':darkMode?'text-white':'text-gray-800'),children:title}),/*#__PURE__*/_jsxs(\"button\",{onClick:onClose,className:\"\".concat(darkMode?'text-gray-300 hover:text-white':'text-gray-500 hover:text-gray-700'),children:[\" \",/*#__PURE__*/_jsx(XCircle,{size:24}),\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{children:children})]})});};const Notification=_ref2=>{let{message,type,onDismiss,darkMode}=_ref2;if(!message)return null;let bgColor;if(darkMode){bgColor=type==='success'?'bg-green-700':type==='error'?'bg-red-700':'bg-blue-700';}else{bgColor=type==='success'?'bg-green-500':type==='error'?'bg-red-500':'bg-blue-500';}const Icon=type==='success'?CheckCircle:type==='error'?AlertTriangle:Info;return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed top-4 right-4 \".concat(bgColor,\" text-white p-4 rounded-lg shadow-md flex items-center z-[100]\"),children:[\" \",/*#__PURE__*/_jsx(Icon,{size:24,className:\"mr-3\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:message}),\" \",onDismiss&&/*#__PURE__*/_jsxs(\"button\",{onClick:onDismiss,className:\"ml-4 text-white hover:text-gray-200\",children:[\" \",/*#__PURE__*/_jsx(XCircle,{size:20}),\" \"]}),\" \"]});};const SpeakButton=_ref3=>{let{textToSpeak,darkMode,highContrast}=_ref3;const handleSpeak=e=>{e.stopPropagation();if('speechSynthesis'in window&&textToSpeak){const utterance=new SpeechSynthesisUtterance(textToSpeak);window.speechSynthesis.cancel();window.speechSynthesis.speak(utterance);}else{console.warn(\"Speech synthesis not supported or no text to speak.\");}};return/*#__PURE__*/_jsxs(\"button\",{onClick:handleSpeak,\"aria-label\":\"Speak: \".concat(textToSpeak.substring(0,30),\"...\"),title:\"Read aloud\",className:\"ml-2 p-1 rounded \".concat(darkMode?highContrast?'bg-yellow-500 text-black':'bg-gray-600 hover:bg-gray-500':highContrast?'bg-blue-500 text-white':'bg-gray-200 hover:bg-gray-300'),children:[\" \",/*#__PURE__*/_jsx(Volume2,{size:16}),\" \"]});};const AccessibilitySettingsModal=_ref4=>{let{isOpen,onClose,settings,updateSettings,darkMode,highContrast,fontSizeClass}=_ref4;const{fontSize,highContrast:hc,darkMode:dm,talkbackEnabled}=settings;const fontSizes=[{label:'Normal',value:'text-base'},{label:'Large',value:'text-lg'},{label:'Extra Large',value:'text-xl'}];return/*#__PURE__*/_jsxs(Modal,{isOpen:isOpen,onClose:onClose,title:\"Accessibility Settings\",darkMode:darkMode,highContrast:highContrast,fontSizeClass:fontSizeClass,children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[\" \",/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2 \".concat(darkMode?'text-gray-200':'text-gray-700'),children:\"Font Size\"}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[\" \",fontSizes.map(fs=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>updateSettings('fontSize',fs.value),className:\"px-3 py-1.5 rounded-md text-sm font-medium transition-colors \".concat(fontSize===fs.value?darkMode?'bg-blue-500 text-white':'bg-blue-600 text-white':darkMode?'bg-gray-700 hover:bg-gray-600 text-gray-300':'bg-gray-200 hover:bg-gray-300 text-gray-700',\" \").concat(highContrast&&fontSize===fs.value?darkMode?'border-2 border-yellow-400':'border-2 border-blue-800':'',\" \").concat(highContrast&&fontSize!==fs.value?darkMode?'border border-gray-500':'border border-gray-400':'',\" \"),children:[\" \",fs.label,\" \"]},fs.value)),\" \"]}),\" \"]}),\" \",/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2 \".concat(darkMode?'text-gray-200':'text-gray-700'),children:\"Theme\"}),\" \",/*#__PURE__*/_jsxs(\"button\",{onClick:()=>updateSettings('darkMode',!dm),className:\"w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors \".concat(dm?highContrast?'bg-gray-900 text-yellow-300 border-2 border-yellow-400':'bg-gray-700 text-white':highContrast?'bg-white text-blue-700 border-2 border-blue-700':'bg-gray-200 text-black',\" hover:\").concat(dm?highContrast?'bg-gray-800':'bg-gray-600':highContrast?'bg-gray-100':'bg-gray-300',\" \"),children:[\" \",dm?/*#__PURE__*/_jsx(Sun,{size:18,className:\"mr-2\"}):/*#__PURE__*/_jsx(Moon,{size:18,className:\"mr-2\"}),\" \",dm?'Switch to Light Mode':'Switch to Dark Mode',\" \"]}),\" \"]}),\" \",/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2 \".concat(darkMode?'text-gray-200':'text-gray-700'),children:\"Contrast\"}),\" \",/*#__PURE__*/_jsxs(\"button\",{onClick:()=>updateSettings('highContrast',!hc),className:\"w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors \".concat(hc?darkMode?'bg-yellow-400 text-black':'bg-blue-600 text-white':darkMode?'bg-gray-700 hover:bg-gray-600 text-gray-300':'bg-gray-200 hover:bg-gray-300 text-gray-700',\" \").concat(highContrast&&hc?darkMode?'border-2 border-white':'border-2 border-black':'',\" \"),children:[\" \",/*#__PURE__*/_jsx(Eye,{size:18,className:\"mr-2\"}),\" \",hc?'Disable High Contrast':'Enable High Contrast',\" \"]}),\" \"]}),\" \",/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2 \".concat(darkMode?'text-gray-200':'text-gray-700'),children:\"Read Aloud (TalkBack Simulation)\"}),\" \",/*#__PURE__*/_jsxs(\"button\",{onClick:()=>updateSettings('talkbackEnabled',!talkbackEnabled),className:\"w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors \".concat(talkbackEnabled?darkMode?'bg-green-600 text-white':'bg-green-500 text-white':darkMode?'bg-gray-700 hover:bg-gray-600 text-gray-300':'bg-gray-200 hover:bg-gray-300 text-gray-700',\" \").concat(highContrast&&talkbackEnabled?darkMode?'border-2 border-white':'border-2 border-black':'',\" \"),children:[\" \",/*#__PURE__*/_jsx(Volume2,{size:18,className:\"mr-2\"}),\" \",talkbackEnabled?'Disable Read Aloud Feature':'Enable Read Aloud Feature',\" \"]}),\" \",talkbackEnabled&&/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-xs \".concat(darkMode?'text-gray-400':'text-gray-600'),children:[\"When enabled, look for \",/*#__PURE__*/_jsx(Volume2,{size:12,className:\"inline\"}),\" icons to have text read aloud.\"]}),\" \"]}),\" \"]}),\" \"]});};// --- Screen Components (Adapted for Accessibility & New Features) ---\n// HomeScreen, AppointmentsScreen, ChatScreen, PrescriptionsScreen are assumed to be adapted from previous version.\n// For brevity, only showing new screens and modifications to existing ones if significant.\nconst HomeScreen=_ref5=>{let{setCurrentPage,userName,userId,accessibilitySettings}=_ref5;const{darkMode,highContrast,talkbackEnabled}=accessibilitySettings;const commonButtonClass=\"p-4 rounded-lg shadow-md transition-all flex flex-col items-center justify-center aspect-square\\n  \".concat(darkMode?highContrast?'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900':'bg-gray-700 text-indigo-300 hover:bg-gray-600':highContrast?'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50':'bg-white text-blue-600 hover:bg-blue-50',\"\\n    \");const quickLinks=[{page:'myAppointments',label:'My Appointments',icon:CalendarPlus,speak:\"Manage your appointments.\"},{page:'chat',label:'Chat with Doctor',icon:MessageSquare,speak:\"Start a chat with a doctor.\"},{page:'prescriptions',label:'My Prescriptions',icon:FileText,speak:\"View your prescriptions.\"},{page:'labResults',label:'Lab Results',icon:FileBarChart2,speak:\"Access your lab test results.\"},{page:'medicalHistory',label:'Medical History',icon:Activity,speak:\"View your medical history.\"},{page:'educationalResources',label:'Health Library',icon:School,speak:\"Find health information.\"},{page:'doctorFinder',label:'Find a Doctor',icon:Stethoscope,speak:\"Search for doctors and clinics.\"}];return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 min-h-[calc(100vh-4rem)] flex flex-col items-center transition-colors duration-300\\n        \".concat(darkMode?'bg-gradient-to-br from-gray-800 to-gray-900 text-white':'bg-gradient-to-br from-blue-500 to-indigo-600 text-white',\"\\n        \").concat(highContrast&&darkMode?'border-2 border-yellow-400':'',\"\\n        \").concat(highContrast&&!darkMode?'bg-white text-black border-2 border-blue-700':'',\"\\n        \"),children:[/*#__PURE__*/_jsx(UserCircle,{size:60,className:\"mb-3 \".concat(darkMode?highContrast?'text-yellow-300':'text-indigo-300':highContrast?'text-blue-700':'text-indigo-200')}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold mb-1 \".concat(highContrast&&!darkMode?'text-black':''),children:[\"Welcome, \",userName||'User',\"!\"]}),talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Welcome, \".concat(userName||'User',\"!\"),darkMode:darkMode,highContrast:highContrast}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1 text-xs \".concat(darkMode?highContrast?'text-yellow-200':'text-indigo-100':highContrast?'text-gray-700':'text-indigo-100'),children:[\"User ID: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono px-1 rounded text-xs \".concat(accessibilitySettings.darkMode?accessibilitySettings.highContrast?'bg-yellow-600 text-black':'bg-gray-700':accessibilitySettings.highContrast?'bg-blue-200 text-black':'bg-indigo-700'),children:userId||'N/A'})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-5 text-center text-sm \".concat(darkMode?highContrast?'text-yellow-200':'text-indigo-100':highContrast?'text-gray-700':'text-indigo-100'),children:\"How can we help you today?\"}),talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"How can we help you today?\",darkMode:darkMode,highContrast:highContrast}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 gap-3 w-full max-w-lg\",children:quickLinks.map(item=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage(item.page),className:commonButtonClass,\"aria-label\":item.label,children:[/*#__PURE__*/_jsx(item.icon,{size:28,className:\"mb-1.5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-center text-sm\",children:item.label}),talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:item.speak||item.label,darkMode:darkMode,highContrast:highContrast})]},item.page))})]});};const AppointmentsScreen=_ref6=>{var _MOCK_DOCTORS$;let{userId,showNotification,accessibilitySettings}=_ref6;const[appointments,setAppointments]=useState([]);const[isLoading,setIsLoading]=useState(true);const[isModalOpen,setIsModalOpen]=useState(false);const[confirmCancelModal,setConfirmCancelModal]=useState({isOpen:false,appointmentId:null});const[doctor,setDoctor]=useState(((_MOCK_DOCTORS$=MOCK_DOCTORS[0])===null||_MOCK_DOCTORS$===void 0?void 0:_MOCK_DOCTORS$.id)||'');const[date,setDate]=useState('');const[time,setTime]=useState('');const[reason,setReason]=useState('');const appointmentsCollectionPath=\"artifacts/\".concat(appId,\"/users/\").concat(userId,\"/appointments\");useEffect(()=>{if(!db||!userId){setAppointments([{id:'apt1',doctor:'Dr. Emily Carter',date:'2024-06-10',time:'10:00 AM',reason:'Check-up',status:'Scheduled'},{id:'apt2',doctor:'Dr. John Smith',date:'2024-06-15',time:'02:30 PM',reason:'Follow-up',status:'Scheduled'}]);setIsLoading(false);return;}setIsLoading(true);const q=query(collection(db,appointmentsCollectionPath));const unsubscribe=onSnapshot(q,querySnapshot=>{const userAppointments=[];querySnapshot.forEach(doc=>{userAppointments.push(_objectSpread({id:doc.id},doc.data()));});userAppointments.sort((a,b)=>new Date(\"\".concat(a.date,\" \").concat(a.time))-new Date(\"\".concat(b.date,\" \").concat(b.time)));setAppointments(userAppointments);setIsLoading(false);},error=>{console.error(\"Error fetching appointments: \",error);showNotification(\"Error fetching appointments.\",\"error\");setIsLoading(false);});return()=>unsubscribe();},[userId,showNotification,appointmentsCollectionPath]);const handleMakeAppointment=async e=>{var _MOCK_DOCTORS$find;e.preventDefault();if(!db||!userId){showNotification(\"Database not available.\",\"error\");return;}if(!doctor||!date||!time||!reason){showNotification(\"Please fill all fields.\",\"error\");return;}const newAppointment={doctor:((_MOCK_DOCTORS$find=MOCK_DOCTORS.find(d=>d.id===doctor))===null||_MOCK_DOCTORS$find===void 0?void 0:_MOCK_DOCTORS$find.name)||doctor,date,time,reason,status:'Scheduled',createdAt:new Date().toISOString()};try{var _MOCK_DOCTORS$2;await addDoc(collection(db,appointmentsCollectionPath),newAppointment);showNotification(\"Appointment booked successfully!\",\"success\");setDoctor(((_MOCK_DOCTORS$2=MOCK_DOCTORS[0])===null||_MOCK_DOCTORS$2===void 0?void 0:_MOCK_DOCTORS$2.id)||'');setDate('');setTime('');setReason('');setIsModalOpen(false);}catch(error){console.error(\"Error adding appointment: \",error);showNotification(\"Failed to book appointment.\",\"error\");}};const confirmCancel=appointmentId=>setConfirmCancelModal({isOpen:true,appointmentId});const executeCancelAppointment=async()=>{const appointmentId=confirmCancelModal.appointmentId;if(!db||!userId||!appointmentId){showNotification(\"Database not available or invalid request.\",\"error\");setConfirmCancelModal({isOpen:false,appointmentId:null});return;}try{const appointmentRef=doc(db,appointmentsCollectionPath,appointmentId);await updateDoc(appointmentRef,{status:'Cancelled'});showNotification(\"Appointment cancelled successfully.\",\"success\");}catch(error){console.error(\"Error cancelling appointment: \",error);showNotification(\"Failed to cancel appointment.\",\"error\");}setConfirmCancelModal({isOpen:false,appointmentId:null});};const{darkMode,highContrast,talkbackEnabled}=accessibilitySettings;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 min-h-[calc(100vh-4rem)] \".concat(darkMode?'bg-gray-800 text-gray-200':'bg-gray-100 text-gray-800',\" \").concat(highContrast&&darkMode?'border border-yellow-400':'',\" \").concat(highContrast&&!darkMode?'border border-blue-600':''),children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[\" \",/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold \".concat(highContrast&&darkMode?'text-yellow-300':highContrast?'text-blue-700':''),children:\"My Appointments\"}),\" \",talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"My Appointments page.\",darkMode:darkMode,highContrast:highContrast}),\" \",/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsModalOpen(true),className:\"font-semibold py-2 px-4 rounded-lg shadow-md flex items-center \".concat(darkMode?highContrast?'bg-yellow-500 text-black hover:bg-yellow-600':'bg-blue-600 hover:bg-blue-700 text-white':highContrast?'bg-blue-700 text-white hover:bg-blue-800':'bg-blue-500 hover:bg-blue-600 text-white',\" \"),children:[\" \",/*#__PURE__*/_jsx(PlusCircle,{size:20,className:\"mr-2\"}),\" New Appointment \"]}),\" \"]}),\" \",isLoading?/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(darkMode?'text-gray-400':'text-gray-600'),children:\"Loading appointments...\"}):appointments.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(darkMode?'text-gray-400':'text-gray-600',\" text-center py-8\"),children:\"You have no upcoming appointments.\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[\" \",appointments.map(apt=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg shadow-md \".concat(apt.status==='Cancelled'?darkMode?'bg-gray-700 opacity-70':'bg-gray-200 opacity-70':darkMode?'bg-gray-700':'bg-white',\" \").concat(highContrast&&darkMode?'border border-yellow-300':'',\" \").concat(highContrast&&!darkMode&&apt.status!=='Cancelled'?'border border-blue-500':'',\" \").concat(highContrast&&!darkMode&&apt.status==='Cancelled'?'border border-gray-400':'',\" \"),children:[\" \",/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold \".concat(darkMode?highContrast?'text-yellow-300':'text-blue-400':highContrast?'text-blue-700':'text-blue-600'),children:apt.doctor}),\" \",talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Appointment with \".concat(apt.doctor),darkMode:darkMode,highContrast:highContrast}),\" \",/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",apt.date,\" \",talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Date \".concat(apt.date),darkMode:darkMode,highContrast:highContrast})]}),\" \",/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Time:\"}),\" \",apt.time,\" \",talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Time \".concat(apt.time),darkMode:darkMode,highContrast:highContrast})]}),\" \",/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Reason:\"}),\" \",apt.reason,\" \",talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Reason \".concat(apt.reason),darkMode:darkMode,highContrast:highContrast})]}),\" \",/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(apt.status==='Cancelled'?darkMode?'text-red-400':'text-red-500':darkMode?'text-green-400':'text-green-500'),children:apt.status}),\" \",talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Status \".concat(apt.status),darkMode:darkMode,highContrast:highContrast})]}),\" \",apt.status!=='Cancelled'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>confirmCancel(apt.id),className:\"mt-3 font-semibold py-1 px-3 rounded-md text-sm flex items-center \".concat(darkMode?highContrast?'bg-red-500 text-black hover:bg-red-600':'bg-red-600 hover:bg-red-700 text-white':highContrast?'bg-red-700 text-white hover:bg-red-800':'bg-red-500 hover:bg-red-600 text-white',\" \"),children:[\" \",/*#__PURE__*/_jsx(Trash2,{size:16,className:\"mr-1\"}),\" Cancel \"]}),\" \"]},apt.id)),\" \"]}),\" \",/*#__PURE__*/_jsxs(Modal,{isOpen:isModalOpen,onClose:()=>setIsModalOpen(false),title:\"Book a New Appointment\",darkMode:darkMode,highContrast:highContrast,fontSizeClass:accessibilitySettings.fontSize,children:[\" \",/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleMakeAppointment,className:\"space-y-4\",children:[\" \",['doctor','date','time','reason'].map(field=>/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsxs(\"label\",{htmlFor:field,className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" \").concat(highContrast&&darkMode?'text-yellow-200':''),children:[\" \",field.charAt(0).toUpperCase()+field.slice(1).replace('rV','r V'),\" \"]}),\" \",field==='doctor'?/*#__PURE__*/_jsxs(\"select\",{id:\"doctor\",value:doctor,onChange:e=>setDoctor(e.target.value),className:\"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm \".concat(darkMode?'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500':'border-gray-300 focus:ring-blue-500 focus:border-blue-500',\" \").concat(highContrast?darkMode?'border-yellow-400':'border-blue-600':''),children:[\" \",MOCK_DOCTORS.map(doc=>/*#__PURE__*/_jsx(\"option\",{value:doc.id,children:doc.name},doc.id)),\" \"]}):field==='reason'?/*#__PURE__*/_jsx(\"textarea\",{id:\"reason\",rows:\"3\",value:reason,onChange:e=>setReason(e.target.value),placeholder:\"e.g., Annual check-up\",className:\"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm \".concat(darkMode?'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500':'border-gray-300 focus:ring-blue-500 focus:border-blue-500',\" \").concat(highContrast?darkMode?'border-yellow-400':'border-blue-600':'')}):/*#__PURE__*/_jsx(\"input\",{type:field==='date'?'date':'time',id:field,value:field==='date'?date:time,onChange:e=>field==='date'?setDate(e.target.value):setTime(e.target.value),min:field==='date'?new Date().toISOString().split('T')[0]:undefined,className:\"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm \".concat(darkMode?'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500':'border-gray-300 focus:ring-blue-500 focus:border-blue-500',\" \").concat(highContrast?darkMode?'border-yellow-400':'border-blue-600':'')}),\" \"]},field)),\" \",/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full font-semibold py-2 px-4 rounded-lg shadow-md flex items-center justify-center \".concat(darkMode?highContrast?'bg-yellow-500 text-black hover:bg-yellow-600':'bg-blue-600 hover:bg-blue-700 text-white':highContrast?'bg-blue-700 text-white hover:bg-blue-800':'bg-blue-500 hover:bg-blue-600 text-white'),children:\" Confirm Appointment \"}),\" \"]}),\" \"]}),\" \",/*#__PURE__*/_jsxs(Modal,{isOpen:confirmCancelModal.isOpen,onClose:()=>setConfirmCancelModal({isOpen:false,appointmentId:null}),title:\"Confirm Cancellation\",darkMode:darkMode,highContrast:highContrast,fontSizeClass:accessibilitySettings.fontSize,children:[\" \",/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-4\"),children:\"Are you sure you want to cancel this appointment?\"}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>setConfirmCancelModal({isOpen:false,appointmentId:null}),className:\"px-4 py-2 rounded-md text-sm font-medium \".concat(darkMode?'bg-gray-600 hover:bg-gray-500 text-white':'bg-gray-300 hover:bg-gray-400 text-black'),children:\"No, Keep It\"}),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:executeCancelAppointment,className:\"px-4 py-2 rounded-md text-sm font-medium \".concat(darkMode?highContrast?'bg-red-500 text-black hover:bg-red-600':'bg-red-600 hover:bg-red-700 text-white':highContrast?'bg-red-700 text-white hover:bg-red-800':'bg-red-500 hover:bg-red-600 text-white'),children:\"Yes, Cancel\"}),\" \"]}),\" \"]}),\" \"]});};const ChatScreen=_ref7=>{var _MOCK_DOCTORS$3;let{userId,showNotification,accessibilitySettings}=_ref7;const[messages,setMessages]=useState([{id:'m1',text:'Hello! How can I help you today?',sender:'doctor',time:'10:00 AM'},{id:'m2',text:'I have a slight fever and a headache.',sender:'user',time:'10:01 AM'}]);const[newMessage,setNewMessage]=useState('');const[selectedDoctor,setSelectedDoctor]=useState(((_MOCK_DOCTORS$3=MOCK_DOCTORS[0])===null||_MOCK_DOCTORS$3===void 0?void 0:_MOCK_DOCTORS$3.id)||'');const messagesEndRef=useRef(null);const{darkMode,highContrast,talkbackEnabled}=accessibilitySettings;useEffect(()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});},[messages]);const handleSendMessage=async e=>{e.preventDefault();if(!newMessage.trim())return;const messageData={text:newMessage,sender:'user',time:new Date().toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'}),createdAt:new Date().toISOString(),userId:userId,doctorId:selectedDoctor};setMessages(prevMessages=>[...prevMessages,_objectSpread(_objectSpread({},messageData),{},{id:\"m\".concat(prevMessages.length+1)})]);setNewMessage('');setTimeout(()=>{setMessages(prev=>[...prev,{id:\"m\".concat(prev.length+1),text:\"Okay, I understand. Can you tell me more about your symptoms?\",sender:'doctor',time:new Date().toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})}]);},1500);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-[calc(100vh-4rem)] transition-colors duration-300 \".concat(darkMode?'bg-gray-900':'bg-gray-50',\" \").concat(highContrast&&darkMode?'border border-yellow-400':'',\" \").concat(highContrast&&!darkMode?'border border-blue-600':''),children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b shadow-sm \".concat(darkMode?'bg-gray-800 border-gray-700':'bg-white border-gray-200',\" \").concat(highContrast&&darkMode?'border-b-yellow-400':'',\" \").concat(highContrast&&!darkMode?'border-b-blue-600':''),children:[\" \",/*#__PURE__*/_jsx(\"label\",{htmlFor:\"doctorSelect\",className:\"text-sm font-medium mr-2 \".concat(darkMode?'text-gray-300':'text-gray-700',\" \").concat(highContrast&&darkMode?'text-yellow-200':''),children:\"Chat with:\"}),\" \",/*#__PURE__*/_jsxs(\"select\",{id:\"doctorSelect\",value:selectedDoctor,onChange:e=>setSelectedDoctor(e.target.value),className:\"p-2 border rounded-md focus:outline-none \".concat(darkMode?'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500':'border-gray-300 focus:ring-blue-500 focus:border-blue-500',\" \").concat(highContrast?darkMode?'border-yellow-400':'border-blue-600':''),children:[\" \",MOCK_DOCTORS.map(doc=>/*#__PURE__*/_jsx(\"option\",{value:doc.id,children:doc.name},doc.id)),\" \"]}),\" \"]}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow p-4 space-y-4 overflow-y-auto\",children:[\" \",messages.map(msg=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex \".concat(msg.sender==='user'?'justify-end':'justify-start'),children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-xs lg:max-w-md px-4 py-2 rounded-xl shadow \".concat(msg.sender==='user'?darkMode?highContrast?'bg-blue-700 text-white rounded-br-none border border-white':'bg-blue-600 text-white rounded-br-none':highContrast?'bg-blue-600 text-white rounded-br-none border border-black':'bg-blue-500 text-white rounded-br-none':darkMode?highContrast?'bg-black text-yellow-300 rounded-bl-none border border-yellow-400':'bg-gray-700 text-gray-200 rounded-bl-none':highContrast?'bg-gray-300 text-black rounded-bl-none border border-black':'bg-gray-200 text-gray-800 rounded-bl-none',\" \"),children:[\" \",/*#__PURE__*/_jsxs(\"p\",{children:[msg.text,\" \",talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:msg.text,darkMode:darkMode,highContrast:highContrast})]}),\" \",/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs mt-1 \".concat(msg.sender==='user'?darkMode?'text-blue-200 text-right':'text-blue-100 text-right':darkMode?'text-gray-400 text-left':'text-gray-500 text-left'),children:[\" \",msg.time,\" \"]}),\" \"]}),\" \"]},msg.id)),\" \",/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef}),\" \"]}),\" \",/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSendMessage,className:\"p-4 border-t flex items-center \".concat(darkMode?'bg-gray-800 border-gray-700':'bg-white border-gray-200',\" \").concat(highContrast&&darkMode?'border-t-yellow-400':'',\" \").concat(highContrast&&!darkMode?'border-t-blue-600':''),children:[\" \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newMessage,onChange:e=>setNewMessage(e.target.value),placeholder:\"Type your message...\",className:\"flex-grow p-3 border rounded-l-lg focus:outline-none focus:ring-2 \".concat(darkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500':'border-gray-300 placeholder-gray-500 focus:ring-blue-400',\" \").concat(highContrast?darkMode?'border-yellow-400 focus:ring-yellow-300':'border-blue-600 focus:ring-blue-500':'')}),\" \",/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"p-3 rounded-r-lg focus:outline-none focus:ring-2 \".concat(darkMode?highContrast?'bg-yellow-500 text-black hover:bg-yellow-600 focus:ring-yellow-300':'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500':highContrast?'bg-blue-700 text-white hover:bg-blue-800 focus:ring-blue-600':'bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-400',\" \"),children:[\" \",/*#__PURE__*/_jsx(Send,{size:24}),\" \"]}),\" \"]}),\" \"]});};const PrescriptionsScreen=_ref8=>{let{userId,showNotification,accessibilitySettings}=_ref8;const[prescriptions,setPrescriptions]=useState([]);const[isLoading,setIsLoading]=useState(true);const{darkMode,highContrast,talkbackEnabled}=accessibilitySettings;useEffect(()=>{setIsLoading(true);setPrescriptions(MOCK_PRESCRIPTIONS);setIsLoading(false);},[userId]);if(isLoading){return/*#__PURE__*/_jsx(\"p\",{className:\"p-6 \".concat(darkMode?'text-gray-400':'text-gray-600'),children:\"Loading prescriptions...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 min-h-[calc(100vh-4rem)] \".concat(darkMode?'bg-gray-800 text-gray-200':'bg-gray-100 text-gray-800',\" \").concat(highContrast&&darkMode?'border border-yellow-400':'',\" \").concat(highContrast&&!darkMode?'border border-blue-600':''),children:[\" \",/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-6 \".concat(highContrast&&darkMode?'text-yellow-300':highContrast?'text-blue-700':''),children:\"My Prescriptions\"}),\" \",talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"My Prescriptions page.\",darkMode:darkMode,highContrast:highContrast}),\" \",prescriptions.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(darkMode?'text-gray-400':'text-gray-600',\" text-center py-8\"),children:\"You have no prescriptions on file.\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[\" \",prescriptions.map(rx=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg shadow-md \".concat(darkMode?'bg-gray-700 border-l-4 border-green-500':'bg-white border-l-4 border-green-500',\" \").concat(highContrast&&darkMode?'border-yellow-300 border-l-yellow-400':'',\" \").concat(highContrast&&!darkMode?'border-blue-500 border-l-blue-700':'',\" \"),children:[\" \",/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold \".concat(darkMode?highContrast?'text-yellow-300':'text-green-400':highContrast?'text-blue-700':'text-green-700'),children:rx.name}),\" \",talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Prescription: \".concat(rx.name),darkMode:darkMode,highContrast:highContrast}),\" \",/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Dosage:\"}),\" \",rx.dosage,\" \",talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Dosage \".concat(rx.dosage),darkMode:darkMode,highContrast:highContrast})]}),\" \",/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-600'),children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Prescribed on:\"}),\" \",rx.date,\" \",talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Prescribed on \".concat(rx.date),darkMode:darkMode,highContrast:highContrast})]}),\" \",/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-600'),children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Prescribed by:\"}),\" \",rx.doctor,\" \",talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Prescribed by \".concat(rx.doctor),darkMode:darkMode,highContrast:highContrast})]}),\" \",/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-300':'text-gray-500'),children:/*#__PURE__*/_jsxs(\"i\",{children:[\"Notes: \",rx.notes]})}),\" \"]},rx.id)),\" \"]}),\" \"]});};// --- NEW SCREENS ---\nconst LabResultsScreen=_ref9=>{let{accessibilitySettings}=_ref9;const{darkMode,highContrast,talkbackEnabled}=accessibilitySettings;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 min-h-[calc(100vh-4rem)] \".concat(darkMode?'bg-gray-800 text-gray-200':'bg-gray-100 text-gray-800',\" \").concat(highContrast&&darkMode?'border border-yellow-400':'',\" \").concat(highContrast&&!darkMode?'border border-blue-600':''),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-6 \".concat(highContrast&&darkMode?'text-yellow-300':highContrast?'text-blue-700':''),children:\"Lab/Test Results\"}),talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Lab and Test Results page.\",darkMode:darkMode,highContrast:highContrast}),MOCK_LAB_RESULTS.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(darkMode?'text-gray-400':'text-gray-600',\" text-center py-8\"),children:\"No lab results found.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:MOCK_LAB_RESULTS.map(result=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg shadow-md \".concat(darkMode?'bg-gray-700':'bg-white',\" \").concat(highContrast&&darkMode?'border border-yellow-300':'',\" \").concat(highContrast&&!darkMode?'border border-blue-500':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold \".concat(darkMode?highContrast?'text-yellow-300':'text-blue-400':highContrast?'text-blue-700':'text-blue-600'),children:result.testName}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-0.5 rounded-full \".concat(result.status==='Pending'?darkMode?'bg-yellow-600 text-black':'bg-yellow-200 text-yellow-800':darkMode?'bg-green-600 text-white':'bg-green-200 text-green-800'),children:result.status})]}),talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Test: \".concat(result.testName,\", Status: \").concat(result.status),darkMode:darkMode,highContrast:highContrast}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-600'),children:[\"Date: \",result.date]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-600'),children:[\"Doctor: \",result.doctor]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 \".concat(darkMode?'text-gray-300':'text-gray-700'),children:result.summary}),result.status!=='Pending'&&/*#__PURE__*/_jsx(\"button\",{className:\"mt-3 text-sm font-medium py-1 px-3 rounded \".concat(darkMode?highContrast?'bg-yellow-400 text-black':'bg-blue-500 hover:bg-blue-600 text-white':highContrast?'bg-blue-600 text-white':'bg-blue-500 hover:bg-blue-600 text-white'),children:\"View Full Report (PDF)\"})]},result.id))})]});};const MedicalHistoryScreen=_ref0=>{let{accessibilitySettings}=_ref0;const{darkMode,highContrast,talkbackEnabled}=accessibilitySettings;const{diagnoses,allergies,immunizations}=MOCK_MEDICAL_HISTORY;const Section=_ref1=>{let{title,items,renderItem,speakTitle}=_ref1;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-3 \".concat(darkMode?highContrast?'text-yellow-300':'text-gray-100':highContrast?'text-blue-700':'text-gray-800'),children:title}),talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:speakTitle||title,darkMode:darkMode,highContrast:highContrast}),items.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:items.map(item=>renderItem(item))}):/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-600'),children:[\"No \",title.toLowerCase(),\" recorded.\"]})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 min-h-[calc(100vh-4rem)] \".concat(darkMode?'bg-gray-800 text-gray-200':'bg-gray-100 text-gray-800',\" \").concat(highContrast&&darkMode?'border border-yellow-400':'',\" \").concat(highContrast&&!darkMode?'border border-blue-600':''),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-6 \".concat(highContrast&&darkMode?'text-yellow-300':highContrast?'text-blue-700':''),children:\"Medical History\"}),talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Medical History page.\",darkMode:darkMode,highContrast:highContrast}),/*#__PURE__*/_jsx(Section,{title:\"Diagnoses\",items:diagnoses,speakTitle:\"Diagnosed Conditions\",renderItem:item=>/*#__PURE__*/_jsxs(\"li\",{className:\"p-3 rounded-md \".concat(darkMode?'bg-gray-700':'bg-white shadow-sm',\" \").concat(highContrast&&darkMode?'border border-yellow-300':'',\" \").concat(highContrast&&!darkMode?'border border-blue-500':''),children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[item.condition,\" \",talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Condition: \".concat(item.condition),darkMode:darkMode,highContrast:highContrast})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"Date: \",item.date]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"Notes: \",item.notes]})]},item.id)}),/*#__PURE__*/_jsx(Section,{title:\"Allergies\",items:allergies,speakTitle:\"Known Allergies\",renderItem:item=>/*#__PURE__*/_jsxs(\"li\",{className:\"p-3 rounded-md \".concat(darkMode?'bg-gray-700':'bg-white shadow-sm',\" \").concat(highContrast&&darkMode?'border border-yellow-300':'',\" \").concat(highContrast&&!darkMode?'border border-blue-500':''),children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[item.substance,\" (\",item.severity,\") \",talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Allergy: \".concat(item.substance,\", Severity: \").concat(item.severity),darkMode:darkMode,highContrast:highContrast})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"Reaction: \",item.reaction]})]},item.id)}),/*#__PURE__*/_jsx(Section,{title:\"Immunizations\",items:immunizations,speakTitle:\"Immunization Records\",renderItem:item=>/*#__PURE__*/_jsxs(\"li\",{className:\"p-3 rounded-md \".concat(darkMode?'bg-gray-700':'bg-white shadow-sm',\" \").concat(highContrast&&darkMode?'border border-yellow-300':'',\" \").concat(highContrast&&!darkMode?'border border-blue-500':''),children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[item.vaccine,\" \",talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Vaccine: \".concat(item.vaccine),darkMode:darkMode,highContrast:highContrast})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"Date: \",item.date]})]},item.id)})]});};const EducationalResourcesScreen=_ref10=>{let{accessibilitySettings}=_ref10;const{darkMode,highContrast,talkbackEnabled}=accessibilitySettings;const[searchTerm,setSearchTerm]=useState('');const filteredResources=MOCK_EDUCATIONAL_RESOURCES.filter(res=>res.title.toLowerCase().includes(searchTerm.toLowerCase())||res.category.toLowerCase().includes(searchTerm.toLowerCase())||res.summary.toLowerCase().includes(searchTerm.toLowerCase()));return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 min-h-[calc(100vh-4rem)] \".concat(darkMode?'bg-gray-800 text-gray-200':'bg-gray-100 text-gray-800',\" \").concat(highContrast&&darkMode?'border border-yellow-400':'',\" \").concat(highContrast&&!darkMode?'border border-blue-600':''),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4 \".concat(highContrast&&darkMode?'text-yellow-300':highContrast?'text-blue-700':''),children:\"Health Library\"}),talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Health Library page.\",darkMode:darkMode,highContrast:highContrast}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search articles, videos, FAQs...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 \".concat(darkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500':'border-gray-300 placeholder-gray-500 focus:ring-blue-400',\" \").concat(highContrast?darkMode?'border-yellow-400 focus:ring-yellow-300':'border-blue-600 focus:ring-blue-500':'')})}),filteredResources.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(darkMode?'text-gray-400':'text-gray-600',\" text-center py-8\"),children:\"No resources found matching your search.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:filteredResources.map(resource=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg shadow-md \".concat(darkMode?'bg-gray-700':'bg-white',\" \").concat(highContrast&&darkMode?'border border-yellow-300':'',\" \").concat(highContrast&&!darkMode?'border border-blue-500':''),children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-0.5 rounded-full mb-1 inline-block \".concat(darkMode?'bg-indigo-600 text-indigo-100':'bg-indigo-100 text-indigo-700'),children:resource.type}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold \".concat(darkMode?highContrast?'text-yellow-300':'text-blue-400':highContrast?'text-blue-700':'text-blue-600'),children:resource.title}),talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"\".concat(resource.type,\": \").concat(resource.title),darkMode:darkMode,highContrast:highContrast}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-600'),children:[\"Category: \",resource.category]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm \".concat(darkMode?'text-gray-300':'text-gray-700'),children:resource.summary}),/*#__PURE__*/_jsx(\"button\",{className:\"mt-3 text-sm font-medium py-1 px-3 rounded \".concat(darkMode?highContrast?'bg-yellow-400 text-black':'bg-blue-500 hover:bg-blue-600 text-white':highContrast?'bg-blue-600 text-white':'bg-blue-500 hover:bg-blue-600 text-white'),children:\"Read More / Watch\"})]},resource.id))})]});};const DoctorFinderScreen=_ref11=>{let{accessibilitySettings}=_ref11;const{darkMode,highContrast,talkbackEnabled}=accessibilitySettings;const[searchTerm,setSearchTerm]=useState('');const[filters,setFilters]=useState({specialty:'',insurance:''});const filteredClinics=MOCK_CLINICS.filter(clinic=>(clinic.name.toLowerCase().includes(searchTerm.toLowerCase())||clinic.address.toLowerCase().includes(searchTerm.toLowerCase()))&&(filters.specialty?clinic.specialties.includes(filters.specialty):true)&&(filters.insurance?clinic.insurance.includes(filters.insurance):true));// Get unique specialties and insurances for filter dropdowns\nconst allSpecialties=[...new Set(MOCK_CLINICS.flatMap(c=>c.specialties))];const allInsurances=[...new Set(MOCK_CLINICS.flatMap(c=>c.insurance))];return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 min-h-[calc(100vh-4rem)] \".concat(darkMode?'bg-gray-800 text-gray-200':'bg-gray-100 text-gray-800',\" \").concat(highContrast&&darkMode?'border border-yellow-400':'',\" \").concat(highContrast&&!darkMode?'border border-blue-600':''),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4 \".concat(highContrast&&darkMode?'text-yellow-300':highContrast?'text-blue-700':''),children:\"Find a Doctor/Clinic\"}),talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Find a Doctor or Clinic page.\",darkMode:darkMode,highContrast:highContrast}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by name or address...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 \".concat(darkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500':'border-gray-300 placeholder-gray-500 focus:ring-blue-400',\" \").concat(highContrast?darkMode?'border-yellow-400 focus:ring-yellow-300':'border-blue-600 focus:ring-blue-500':'')}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsxs(\"select\",{value:filters.specialty,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{specialty:e.target.value})),className:\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" \").concat(highContrast?darkMode?'border-yellow-400':'border-blue-600':''),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Specialties\"}),allSpecialties.map(s=>/*#__PURE__*/_jsx(\"option\",{value:s,children:s},s))]}),/*#__PURE__*/_jsxs(\"select\",{value:filters.insurance,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{insurance:e.target.value})),className:\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" \").concat(highContrast?darkMode?'border-yellow-400':'border-blue-600':''),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Insurances\"}),allInsurances.map(i=>/*#__PURE__*/_jsx(\"option\",{value:i,children:i},i))]})]})]}),filteredClinics.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(darkMode?'text-gray-400':'text-gray-600',\" text-center py-8\"),children:\"No doctors or clinics found matching your criteria.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:filteredClinics.map(clinic=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg shadow-md \".concat(darkMode?'bg-gray-700':'bg-white',\" \").concat(highContrast&&darkMode?'border border-yellow-300':'',\" \").concat(highContrast&&!darkMode?'border border-blue-500':''),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold \".concat(darkMode?highContrast?'text-yellow-300':'text-blue-400':highContrast?'text-blue-700':'text-blue-600'),children:clinic.name}),talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:clinic.name,darkMode:darkMode,highContrast:highContrast}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-600'),children:[/*#__PURE__*/_jsx(MapPin,{size:14,className:\"inline mr-1\"}),clinic.address]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-600'),children:[\"Type: \",clinic.type]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-600'),children:[\"Rating: \",clinic.rating,\" / 5\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-xs font-semibold \".concat(darkMode?'text-gray-300':'text-gray-500'),children:\"Specialties:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1 mt-1\",children:clinic.specialties.map(s=>/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-1.5 py-0.5 rounded \".concat(darkMode?'bg-indigo-600 text-indigo-100':'bg-indigo-100 text-indigo-700'),children:s},s))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"mt-3 text-sm font-medium py-1 px-3 rounded \".concat(darkMode?highContrast?'bg-yellow-400 text-black':'bg-blue-500 hover:bg-blue-600 text-white':highContrast?'bg-blue-600 text-white':'bg-blue-500 hover:bg-blue-600 text-white'),children:\"View Details\"})]},clinic.id))})]});};const MoreScreen=_ref12=>{let{setCurrentPage,accessibilitySettings,handleSignOut,openSettingsModal}=_ref12;const{darkMode,highContrast,talkbackEnabled}=accessibilitySettings;const menuItems=[{label:'My Prescriptions',page:'prescriptions',icon:FileText,speak:\"View your prescriptions\"},{label:'Lab/Test Results',page:'labResults',icon:FileBarChart2,speak:\"Access your lab test results\"},{label:'Medical History',page:'medicalHistory',icon:Activity,speak:\"View your medical history\"},{label:'Health Library',page:'educationalResources',icon:School,speak:\"Find health information\"},{label:'Find a Doctor/Clinic',page:'doctorFinder',icon:Stethoscope,speak:\"Search for doctors and clinics\"},{label:'Accessibility Settings',action:openSettingsModal,icon:Settings,speak:\"Open accessibility settings\"}];return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 min-h-[calc(100vh-4rem)] \".concat(darkMode?'bg-gray-800 text-gray-200':'bg-gray-100 text-gray-800',\" \").concat(highContrast&&darkMode?'border border-yellow-400':'',\" \").concat(highContrast&&!darkMode?'border border-blue-600':''),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-6 \".concat(highContrast&&darkMode?'text-yellow-300':highContrast?'text-blue-700':''),children:\"More Options\"}),talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"More options page.\",darkMode:darkMode,highContrast:highContrast}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[menuItems.map(item=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>item.page?setCurrentPage(item.page):item.action(),className:\"w-full flex items-center p-4 rounded-lg shadow transition-colors\\n        \".concat(darkMode?highContrast?'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900':'bg-gray-700 hover:bg-gray-600 text-white':highContrast?'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50':'bg-white hover:bg-gray-50 text-gray-700',\"\\n        \"),\"aria-label\":item.label,children:[/*#__PURE__*/_jsx(item.icon,{size:22,className:\"mr-4 \".concat(darkMode?highContrast?'text-yellow-300':'text-blue-400':highContrast?'text-blue-600':'text-blue-500')}),/*#__PURE__*/_jsx(\"span\",{className:\"flex-grow text-left font-medium\",children:item.label}),/*#__PURE__*/_jsx(ChevronRight,{size:20,className:\"\".concat(darkMode?'text-gray-400':'text-gray-500')}),talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:item.speak||item.label,darkMode:darkMode,highContrast:highContrast})]},item.label)),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSignOut,className:\"w-full flex items-center p-4 rounded-lg shadow transition-colors mt-6\\n      \".concat(darkMode?highContrast?'bg-red-700 text-black border border-red-400 hover:bg-red-600':'bg-red-600 hover:bg-red-500 text-white':highContrast?'bg-red-100 text-red-700 border border-red-700 hover:bg-red-200':'bg-red-500 hover:bg-red-600 text-white',\"\\n      \"),\"aria-label\":\"Sign Out\",children:[/*#__PURE__*/_jsx(LogOut,{size:22,className:\"mr-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"flex-grow text-left font-medium\",children:\"Sign Out\"}),talkbackEnabled&&/*#__PURE__*/_jsx(SpeakButton,{textToSpeak:\"Sign Out\",darkMode:darkMode,highContrast:highContrast})]})]})]});};// --- Main App Component ---\nconst App=()=>{const[currentPage,setCurrentPage]=useState('home');const[currentUser,setCurrentUser]=useState(null);const[isAuthReady,setIsAuthReady]=useState(false);const[userName,setUserName]=useState('');const[notification,setNotification]=useState({message:'',type:''});const[isSettingsModalOpen,setIsSettingsModalOpen]=useState(false);const[accessibilitySettings,setAccessibilitySettings]=useState({fontSize:'text-base',highContrast:false,darkMode:false,talkbackEnabled:false});useEffect(()=>{const savedSettings=localStorage.getItem('medicAssistAccessibilitySettings');if(savedSettings){setAccessibilitySettings(JSON.parse(savedSettings));}},[]);useEffect(()=>{localStorage.setItem('medicAssistAccessibilitySettings',JSON.stringify(accessibilitySettings));if(accessibilitySettings.darkMode){document.documentElement.classList.add('dark');}else{document.documentElement.classList.remove('dark');}},[accessibilitySettings]);const updateAccessibilitySetting=(key,value)=>{setAccessibilitySettings(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:value}));};const showNotification=useCallback(function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';let duration=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3000;setNotification({message,type});setTimeout(()=>setNotification({message:'',type:''}),duration);},[]);useEffect(()=>{localStorage.setItem('medicAssistAccessibilitySettings',JSON.stringify(accessibilitySettings));if(accessibilitySettings.darkMode){document.documentElement.classList.add('dark');}else{document.documentElement.classList.remove('dark');}},[accessibilitySettings]);//   const updateAccessibilitySetting = (key, value) => {\n//     setAccessibilitySettings(prev => ({ ...prev, [key]: value }));\n//   };\n//   const showNotification = useCallback((message, type = 'info', duration = 3000) => {\n//     setNotification({ message, type });\n//     setTimeout(() => setNotification({ message: '', type: '' }), duration);\n//   }, []);\nuseEffect(()=>{if(!auth){console.warn(\"Firebase Auth is not initialized.\");setIsAuthReady(true);return;}const unsubscribe=onAuthStateChanged(auth,async user=>{if(user){// This runs if a user is found (already signed in)\nsetCurrentUser(user);setUserName(user.displayName||\"User-\".concat(user.uid.substring(0,5)));}else{// This runs if NO user is found (signed out)\nsetCurrentUser(null);setUserName('');try{// --- Corrected Code Here ---\n// Directly call signInAnonymously if no user is found\nawait signInAnonymously(auth);console.log(\"Signed in anonymously.\");// Add a log to confirm\n// --- End of Corrected Code ---\n}catch(error){console.error(\"Error during auto sign-in (anonymous):\",error);// Updated log\n// Check if the error is because anonymous sign-in isn't enabled\nif(error.code==='auth/operation-not-allowed'){console.warn(\"Anonymous authentication is not enabled in your Firebase project settings.\");showNotification(\"Anonymous sign-in is disabled. Please enable it in Firebase console Auth settings.\",\"error\");}else{showNotification(\"Authentication issue. Some features might be limited.\",\"error\");}}}setIsAuthReady(true);});return()=>unsubscribe();},[showNotification]);const handleSignOut=async()=>{if(!auth){showNotification(\"Auth service not available.\",\"error\");return;}try{await signOut(auth);setCurrentPage('home');showNotification(\"Signed out successfully.\",\"success\");}catch(error){console.error(\"Error signing out:\",error);showNotification(\"Error signing out.\",\"error\");}};const renderPage=()=>{if(!isAuthReady){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen \".concat(accessibilitySettings.fontSize,\" \").concat(accessibilitySettings.darkMode?'bg-gray-900 text-white':'bg-gray-100 text-black'),children:/*#__PURE__*/_jsx(\"p\",{children:\"Initializing App...\"})});}const userId=currentUser?currentUser.uid:null;const commonProps={userId,showNotification,accessibilitySettings,setCurrentPage};switch(currentPage){case'home':return/*#__PURE__*/_jsx(HomeScreen,_objectSpread({userName:userName},commonProps));case'myAppointments':return/*#__PURE__*/_jsx(AppointmentsScreen,_objectSpread({},commonProps));case'chat':return/*#__PURE__*/_jsx(ChatScreen,_objectSpread({},commonProps));case'prescriptions':return/*#__PURE__*/_jsx(PrescriptionsScreen,_objectSpread({},commonProps));case'labResults':return/*#__PURE__*/_jsx(LabResultsScreen,_objectSpread({},commonProps));case'medicalHistory':return/*#__PURE__*/_jsx(MedicalHistoryScreen,_objectSpread({},commonProps));case'educationalResources':return/*#__PURE__*/_jsx(EducationalResourcesScreen,_objectSpread({},commonProps));case'doctorFinder':return/*#__PURE__*/_jsx(DoctorFinderScreen,_objectSpread({},commonProps));case'more':return/*#__PURE__*/_jsx(MoreScreen,_objectSpread({handleSignOut:handleSignOut,openSettingsModal:()=>setIsSettingsModalOpen(true)},commonProps));default:return/*#__PURE__*/_jsx(HomeScreen,_objectSpread({userName:userName},commonProps));}};const NavItem=_ref13=>{let{page,label,icon:IconComponent}=_ref13;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage(page),className:\"flex flex-col items-center justify-center p-2 w-full transition-colors duration-200 ease-in-out \".concat(accessibilitySettings.fontSize,\" \").concat(currentPage===page?accessibilitySettings.darkMode?accessibilitySettings.highContrast?'text-yellow-300':'text-blue-400':accessibilitySettings.highContrast?'text-blue-700 font-bold':'text-blue-500':accessibilitySettings.darkMode?accessibilitySettings.highContrast?'text-gray-400 hover:text-yellow-200':'text-gray-400 hover:text-blue-300':accessibilitySettings.highContrast?'text-gray-600 hover:text-blue-600':'text-gray-500 hover:text-blue-400',\" \"),children:[/*#__PURE__*/_jsx(IconComponent,{size:24,strokeWidth:currentPage===page?2.5:2}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-xs mt-1\",children:label})]});};let appClasses=\"font-sans antialiased flex flex-col min-h-screen transition-colors duration-300 \".concat(accessibilitySettings.fontSize);if(accessibilitySettings.darkMode){appClasses+=accessibilitySettings.highContrast?' bg-black text-yellow-300':' bg-gray-900 text-gray-200';}else{appClasses+=accessibilitySettings.highContrast?' bg-white text-black border-2 border-blue-900':' bg-gray-100 text-gray-800';}return/*#__PURE__*/_jsxs(\"div\",{className:appClasses,children:[/*#__PURE__*/_jsx(Notification,{message:notification.message,type:notification.type,onDismiss:()=>setNotification({message:'',type:''}),darkMode:accessibilitySettings.darkMode}),/*#__PURE__*/_jsxs(\"header\",{className:\"p-4 shadow-md flex justify-between items-center sticky top-0 z-40 \".concat(accessibilitySettings.darkMode?accessibilitySettings.highContrast?'bg-black text-yellow-300 border-b-2 border-yellow-400':'bg-gray-800 text-white':accessibilitySettings.highContrast?'bg-white text-blue-700 border-b-2 border-blue-700':'bg-blue-600 text-white',\" \"),children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold\",children:\"Medic Assist\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsSettingsModalOpen(true),\"aria-label\":\"Open accessibility settings\",className:\"p-2 rounded-md \".concat(accessibilitySettings.darkMode?accessibilitySettings.highContrast?'hover:bg-yellow-700 text-yellow-300':'hover:bg-gray-700 text-gray-300':accessibilitySettings.highContrast?'hover:bg-blue-200 text-blue-700':'hover:bg-blue-700 text-blue-100',\" \"),children:/*#__PURE__*/_jsx(Settings,{size:22})})})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"flex-grow overflow-y-auto\",children:[\" \",renderPage(),\" \"]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"fixed bottom-0 left-0 right-0 border-t shadow-t-md flex justify-around items-center h-16 z-40 \".concat(accessibilitySettings.darkMode?accessibilitySettings.highContrast?'bg-black border-t-yellow-400':'bg-gray-800 border-gray-700':accessibilitySettings.highContrast?'bg-white border-t-blue-700':'bg-white border-gray-200',\" \"),children:[/*#__PURE__*/_jsx(NavItem,{page:\"home\",label:\"Home\",icon:Home}),/*#__PURE__*/_jsx(NavItem,{page:\"myAppointments\",label:\"Appointments\",icon:CalendarPlus}),/*#__PURE__*/_jsx(NavItem,{page:\"chat\",label:\"Chat\",icon:MessageSquare}),/*#__PURE__*/_jsx(NavItem,{page:\"more\",label:\"More\",icon:Menu}),\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-16\"}),/*#__PURE__*/_jsx(AccessibilitySettingsModal,{isOpen:isSettingsModalOpen,onClose:()=>setIsSettingsModalOpen(false),settings:accessibilitySettings,updateSettings:updateAccessibilitySetting,darkMode:accessibilitySettings.darkMode,highContrast:accessibilitySettings.highContrast,fontSizeClass:accessibilitySettings.fontSize})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","initializeApp","getAuth","signInAnonymously","signInWithCustomToken","onAuthStateChanged","signOut","getFirestore","collection","addDoc","getDocs","doc","updateDoc","deleteDoc","onSnapshot","query","where","setDoc","Home","CalendarPlus","MessageSquare","ListChecks","UserCircle","XCircle","Send","PlusCircle","Trash2","LogOut","CheckCircle","AlertTriangle","Info","Settings","Volume2","Eye","Moon","Sun","ZoomIn","ZoomOut","FileText","Activity","BookOpen","Search","MapPin","Menu","ChevronRight","ShieldCheck","FileBarChart2","Stethoscope","School","jsx","_jsx","jsxs","_jsxs","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","auth","db","e","console","error","warn","navigator","serviceWorker","register","then","registration","log","concat","MOCK_PRESCRIPTIONS","id","name","dosage","date","doctor","notes","MOCK_DOCTORS","MOCK_LAB_RESULTS","testName","status","summary","MOCK_MEDICAL_HISTORY","diagnoses","condition","allergies","substance","reaction","severity","immunizations","vaccine","MOCK_EDUCATIONAL_RESOURCES","title","type","category","MOCK_CLINICS","address","specialties","insurance","rating","Modal","_ref","isOpen","onClose","children","darkMode","highContrast","fontSizeClass","className","onClick","size","Notification","_ref2","message","onDismiss","bgColor","Icon","SpeakButton","_ref3","textToSpeak","handleSpeak","stopPropagation","window","utterance","SpeechSynthesisUtterance","speechSynthesis","cancel","speak","substring","AccessibilitySettingsModal","_ref4","settings","updateSettings","fontSize","hc","dm","talkbackEnabled","fontSizes","label","value","map","fs","HomeScreen","_ref5","setCurrentPage","userName","userId","accessibilitySettings","commonButtonClass","quickLinks","page","icon","item","AppointmentsScreen","_ref6","_MOCK_DOCTORS$","showNotification","appointments","setAppointments","isLoading","setIsLoading","isModalOpen","setIsModalOpen","confirmCancelModal","setConfirmCancelModal","appointmentId","setDoctor","setDate","time","setTime","reason","setReason","appointmentsCollectionPath","q","unsubscribe","querySnapshot","userAppointments","forEach","push","_objectSpread","data","sort","a","b","Date","handleMakeAppointment","_MOCK_DOCTORS$find","preventDefault","newAppointment","find","d","createdAt","toISOString","_MOCK_DOCTORS$2","confirmCancel","executeCancelAppointment","appointmentRef","length","apt","onSubmit","field","htmlFor","charAt","toUpperCase","slice","replace","onChange","target","rows","placeholder","min","split","undefined","ChatScreen","_ref7","_MOCK_DOCTORS$3","messages","setMessages","text","sender","newMessage","setNewMessage","selectedDoctor","setSelectedDoctor","messagesEndRef","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","messageData","toLocaleTimeString","hour","minute","doctorId","prevMessages","setTimeout","prev","msg","ref","PrescriptionsScreen","_ref8","prescriptions","setPrescriptions","rx","LabResultsScreen","_ref9","result","MedicalHistoryScreen","_ref0","Section","_ref1","items","renderItem","speakTitle","toLowerCase","EducationalResourcesScreen","_ref10","searchTerm","setSearchTerm","filteredResources","filter","res","includes","resource","DoctorFinderScreen","_ref11","filters","setFilters","specialty","filteredClinics","clinic","allSpecialties","Set","flatMap","c","allInsurances","s","i","MoreScreen","_ref12","handleSignOut","openSettingsModal","menuItems","action","App","currentPage","currentUser","setCurrentUser","isAuthReady","setIsAuthReady","setUserName","notification","setNotification","isSettingsModalOpen","setIsSettingsModalOpen","setAccessibilitySettings","savedSettings","localStorage","getItem","JSON","parse","setItem","stringify","document","documentElement","classList","add","remove","updateAccessibilitySetting","key","arguments","duration","user","displayName","uid","code","renderPage","commonProps","NavItem","_ref13","IconComponent","strokeWidth","appClasses"],"sources":["/home/diego/ExpoApp/my-app/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged, signOut } from 'firebase/auth';\nimport { getFirestore, collection, addDoc, getDocs, doc, updateDoc, deleteDoc, onSnapshot, query, where, setDoc } from 'firebase/firestore';\nimport { Home, CalendarPlus, MessageSquare, ListChecks, UserCircle, XCircle, Send, PlusCircle, Trash2, LogOut, CheckCircle, AlertTriangle, Info, Settings, Volume2, Eye, Moon, Sun, ZoomIn, ZoomOut, FileText, Activity, BookOpen, Search, MapPin, Menu, ChevronRight, ShieldCheck, FileBarChart2, Stethoscope, School } from 'lucide-react';\nimport './App.css';\n\n// --- Firebase Configuration ---\n// const firebaseConfig = {\n//   apiKey: \"YOUR_API_KEY\",\n//   authDomain: \"YOUR_AUTH_DOMAIN\",\n//   projectId: \"YOUR_PROJECT_ID\",\n//   storageBucket: \"YOUR_STORAGE_BUCKET\",\n//   messagingSenderId: \"YOUR_MESSAGING_SENDER_ID\",\n//   appId: \"YOUR_APP_ID\"\n// };\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC9yqipXCN_ALWZFrFUaBbMG4LznCgt4MM\",\n  authDomain: \"medcare-app-9678b.firebaseapp.com\",\n  projectId: \"medcare-app-9678b\",\n  storageBucket: \"medcare-app-9678b.firebasestorage.app\",\n  messagingSenderId: \"805339182842\",\n  appId: \"1:805339182842:web:c4bab764c2c8b40527bb43\",\n  measurementId: \"G-L8444GNX38\"\n};\n\n\n// --- Global Firebase Variables (to be provided by the environment) ---\n//const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\nconst appId = 'medcare-app-9678b';\n// const finalFirebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : firebaseConfig;\n//const finalFirebaseConfig ='false';\n\n// --- Initialize Firebase ---\nlet app;\nlet auth;\nlet db;\n\ntry {\n  //   app = initializeApp(finalFirebaseConfig);\n  app = initializeApp(firebaseConfig);\n  auth = getAuth(app);\n  db = getFirestore(app);\n  // import { setLogLevel } from \"firebase/firestore\"; // For debugging\n  // setLogLevel('debug');\n} catch (e) {\n  console.error(\"Error initializing Firebase:\", e);\n  if (!db) {\n    console.warn(\"Firestore (db) is not initialized. App will run with mock data and no persistence.\");\n  }\n}\n\n// Service worker\n\nif ('serviceWorker' in navigator) {\n  // Register a service worker hosted at the root of the\n  // site using the default scope.\n  navigator.serviceWorker.register('./service-worker.js').then(\n    registration => {\n      console.log('Service worker registration succeeded:', registration);\n    },\n    /*catch*/ error => {\n      console.error(`Service worker registration failed: ${error}`);\n    }\n  );\n} else {\n  console.error('Service workers are not supported.');\n}\n\n// --- Mock Data ---\nconst MOCK_PRESCRIPTIONS = [\n  { id: 'p1', name: 'Amoxicillin 250mg', dosage: '1 tablet every 8 hours for 7 days', date: '2024-05-20', doctor: 'Dr. Smith', notes: 'Complete full course.' },\n{ id: 'p2', name: 'Ibuprofen 400mg', dosage: '1 tablet as needed for pain', date: '2024-05-15', doctor: 'Dr. Jones', notes: 'Max 3 tablets per day.' },\n];\n\nconst MOCK_DOCTORS = [\n  { id: 'doc1', name: 'Dr. Emily Carter (Cardiologist)' },\n  { id: 'doc2', name: 'Dr. John Smith (General Practitioner)' },\n  { id: 'doc3', name: 'Dr. Sarah Lee (Pediatrician)' },\n];\n\nconst MOCK_LAB_RESULTS = [\n  { id: 'lr1', testName: 'Complete Blood Count (CBC)', date: '2024-05-18', status: 'View Results', summary: 'All values within normal range.', doctor: 'Dr. Smith' },\n  { id: 'lr2', testName: 'Lipid Panel', date: '2024-05-10', status: 'View Results', summary: 'Slightly elevated LDL cholesterol.', doctor: 'Dr. Carter' },\n{ id: 'lr3', testName: 'Thyroid Stimulating Hormone (TSH)', date: '2024-04-20', status: 'Pending', summary: 'Results not yet available.', doctor: 'Dr. endocrinologist' },\n];\n\nconst MOCK_MEDICAL_HISTORY = {\n  diagnoses: [\n    { id: 'd1', condition: 'Hypertension', date: '2022-01-15', notes: 'Managed with medication.' },\n    { id: 'd2', condition: 'Seasonal Allergies', date: 'Ongoing', notes: 'Pollen, dust mites.' },\n  ],\n  allergies: [\n    { id: 'a1', substance: 'Penicillin', reaction: 'Rash', severity: 'Mild' },\n    { id: 'a2', substance: 'Peanuts', reaction: 'Anaphylaxis', severity: 'Severe' },\n  ],\n  immunizations: [\n    { id: 'i1', vaccine: 'Influenza', date: '2023-10-01' },\n    { id: 'i2', vaccine: 'Tetanus, Diphtheria, Pertussis (Tdap)', date: '2020-07-20' },\n  ]\n};\n\nconst MOCK_EDUCATIONAL_RESOURCES = [\n  { id: 'er1', title: 'Understanding Your Blood Pressure', type: 'Article', category: 'Heart Health', summary: 'Learn about blood pressure readings and management.' },\n{ id: 'er2', title: 'Managing Type 2 Diabetes', type: 'Video', category: 'Diabetes Care', summary: 'Tips for diet, exercise, and medication.' },\n{ id: 'er3', title: 'Common Cold: Symptoms & Treatment', type: 'FAQ', category: 'General Wellness', summary: 'Frequently asked questions about the common cold.' },\n];\n\nconst MOCK_CLINICS = [\n  { id: 'c1', name: 'City General Hospital', address: '123 Main St, Anytown', type: 'Hospital', specialties: ['Cardiology', 'Oncology', 'Pediatrics'], insurance: ['BlueCross', 'Aetna'], rating: 4.5 },\n{ id: 'c2', name: 'Downtown Urgent Care', address: '456 Oak Ave, Anytown', type: 'Urgent Care', specialties: ['General Medicine'], insurance: ['Cigna', 'UnitedHealthcare'], rating: 4.2 },\n{ id: 'c3', name: 'Wellness Clinic', address: '789 Pine Ln, Anytown', type: 'Clinic', specialties: ['Family Medicine', 'Pediatrics'], insurance: ['BlueCross', 'Kaiser'], rating: 4.8 },\n];\n\n\n// --- Helper Components (Modal, Notification, SpeakButton, AccessibilitySettingsModal - unchanged, assuming they are robust) ---\n// For brevity, these components are not repeated here but are assumed to be the same as in the previous version.\n// Modal Component\nconst Modal = ({ isOpen, onClose, title, children, darkMode, highContrast, fontSizeClass }) => {\n  if (!isOpen) return null;\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n    <div className={`rounded-lg shadow-xl p-6 w-full max-w-md ${fontSizeClass} ${darkMode ? 'bg-gray-800 text-white' : 'bg-white text-gray-800'} ${highContrast ? (darkMode ? 'border-2 border-yellow-400' : 'border-2 border-blue-600') : ''}`}>\n    <div className=\"flex justify-between items-center mb-4\">\n    <h3 className={`text-xl font-semibold ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : (darkMode ? 'text-white' : 'text-gray-800')}`}>{title}</h3>\n    <button onClick={onClose} className={`${darkMode ? 'text-gray-300 hover:text-white' : 'text-gray-500 hover:text-gray-700'}`}> <XCircle size={24} /> </button>\n    </div>\n    <div>{children}</div>\n    </div>\n    </div>\n  );\n};\nconst Notification = ({ message, type, onDismiss, darkMode }) => {\n  if (!message) return null;\n  let bgColor; if (darkMode) { bgColor = type === 'success' ? 'bg-green-700' : type === 'error' ? 'bg-red-700' : 'bg-blue-700'; } else { bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500'; }\n  const Icon = type === 'success' ? CheckCircle : type === 'error' ? AlertTriangle : Info;\n  return ( <div className={`fixed top-4 right-4 ${bgColor} text-white p-4 rounded-lg shadow-md flex items-center z-[100]`}> <Icon size={24} className=\"mr-3\" /> <span>{message}</span> {onDismiss && ( <button onClick={onDismiss} className=\"ml-4 text-white hover:text-gray-200\"> <XCircle size={20} /> </button> )} </div> );\n};\nconst SpeakButton = ({ textToSpeak, darkMode, highContrast }) => {\n  const handleSpeak = (e) => { e.stopPropagation(); if ('speechSynthesis' in window && textToSpeak) { const utterance = new SpeechSynthesisUtterance(textToSpeak); window.speechSynthesis.cancel(); window.speechSynthesis.speak(utterance); } else { console.warn(\"Speech synthesis not supported or no text to speak.\"); } };\n  return ( <button onClick={handleSpeak} aria-label={`Speak: ${textToSpeak.substring(0,30)}...`} title=\"Read aloud\" className={`ml-2 p-1 rounded ${darkMode ? (highContrast ? 'bg-yellow-500 text-black' : 'bg-gray-600 hover:bg-gray-500') : (highContrast ? 'bg-blue-500 text-white' : 'bg-gray-200 hover:bg-gray-300') }`}> <Volume2 size={16} /> </button> );\n};\nconst AccessibilitySettingsModal = ({ isOpen, onClose, settings, updateSettings, darkMode, highContrast, fontSizeClass }) => {\n  const { fontSize, highContrast: hc, darkMode: dm, talkbackEnabled } = settings;\n  const fontSizes = [ { label: 'Normal', value: 'text-base' }, { label: 'Large', value: 'text-lg' }, { label: 'Extra Large', value: 'text-xl' }, ];\n  return ( <Modal isOpen={isOpen} onClose={onClose} title=\"Accessibility Settings\" darkMode={darkMode} highContrast={highContrast} fontSizeClass={fontSizeClass}> <div className=\"space-y-6\"> <div> <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Font Size</h4> <div className=\"flex space-x-2\"> {fontSizes.map(fs => ( <button key={fs.value} onClick={() => updateSettings('fontSize', fs.value)} className={`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${fontSize === fs.value ? (darkMode ? 'bg-blue-500 text-white' : 'bg-blue-600 text-white') : (darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700')} ${highContrast && fontSize === fs.value ? (darkMode ? 'border-2 border-yellow-400' : 'border-2 border-blue-800') : ''} ${highContrast && fontSize !== fs.value ? (darkMode ? 'border border-gray-500' : 'border border-gray-400') : ''} `}> {fs.label} </button> ))} </div> </div> <div> <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Theme</h4> <button onClick={() => updateSettings('darkMode', !dm)} className={`w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${dm ? (highContrast ? 'bg-gray-900 text-yellow-300 border-2 border-yellow-400' : 'bg-gray-700 text-white') : (highContrast ? 'bg-white text-blue-700 border-2 border-blue-700' : 'bg-gray-200 text-black')} hover:${dm ? (highContrast ? 'bg-gray-800' : 'bg-gray-600') : (highContrast ? 'bg-gray-100' : 'bg-gray-300')} `}> {dm ? <Sun size={18} className=\"mr-2\" /> : <Moon size={18} className=\"mr-2\" />} {dm ? 'Switch to Light Mode' : 'Switch to Dark Mode'} </button> </div> <div> <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Contrast</h4> <button onClick={() => updateSettings('highContrast', !hc)} className={`w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${hc ? (darkMode ? 'bg-yellow-400 text-black' : 'bg-blue-600 text-white') : (darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700')} ${highContrast && hc ? (darkMode ? 'border-2 border-white': 'border-2 border-black') : ''} `}> <Eye size={18} className=\"mr-2\" /> {hc ? 'Disable High Contrast' : 'Enable High Contrast'} </button> </div> <div> <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Read Aloud (TalkBack Simulation)</h4> <button onClick={() => updateSettings('talkbackEnabled', !talkbackEnabled)} className={`w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${talkbackEnabled ? (darkMode ? 'bg-green-600 text-white' : 'bg-green-500 text-white') : (darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700')} ${highContrast && talkbackEnabled ? (darkMode ? 'border-2 border-white': 'border-2 border-black') : ''} `}> <Volume2 size={18} className=\"mr-2\" /> {talkbackEnabled ? 'Disable Read Aloud Feature' : 'Enable Read Aloud Feature'} </button> {talkbackEnabled && <p className={`mt-2 text-xs ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>When enabled, look for <Volume2 size={12} className=\"inline\" /> icons to have text read aloud.</p>} </div> </div> </Modal> );\n};\n\n\n// --- Screen Components (Adapted for Accessibility & New Features) ---\n// HomeScreen, AppointmentsScreen, ChatScreen, PrescriptionsScreen are assumed to be adapted from previous version.\n// For brevity, only showing new screens and modifications to existing ones if significant.\n\nconst HomeScreen = ({ setCurrentPage, userName, userId, accessibilitySettings }) => {\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  const commonButtonClass = `p-4 rounded-lg shadow-md transition-all flex flex-col items-center justify-center aspect-square\n  ${darkMode\n    ? (highContrast ? 'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900' : 'bg-gray-700 text-indigo-300 hover:bg-gray-600')\n    : (highContrast ? 'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50' : 'bg-white text-blue-600 hover:bg-blue-50')}\n    `;\n\n    const quickLinks = [\n      { page: 'myAppointments', label: 'My Appointments', icon: CalendarPlus, speak: \"Manage your appointments.\" },\n      { page: 'chat', label: 'Chat with Doctor', icon: MessageSquare, speak: \"Start a chat with a doctor.\" },\n      { page: 'prescriptions', label: 'My Prescriptions', icon: FileText, speak: \"View your prescriptions.\" },\n      { page: 'labResults', label: 'Lab Results', icon: FileBarChart2, speak: \"Access your lab test results.\" },\n      { page: 'medicalHistory', label: 'Medical History', icon: Activity, speak: \"View your medical history.\" },\n      { page: 'educationalResources', label: 'Health Library', icon: School, speak: \"Find health information.\" },\n      { page: 'doctorFinder', label: 'Find a Doctor', icon: Stethoscope, speak: \"Search for doctors and clinics.\" },\n    ];\n\n    return (\n      <div className={`p-6 min-h-[calc(100vh-4rem)] flex flex-col items-center transition-colors duration-300\n        ${darkMode ? 'bg-gradient-to-br from-gray-800 to-gray-900 text-white' : 'bg-gradient-to-br from-blue-500 to-indigo-600 text-white'}\n        ${highContrast && darkMode ? 'border-2 border-yellow-400' : ''}\n        ${highContrast && !darkMode ? 'bg-white text-black border-2 border-blue-700' : ''}\n        `}>\n        <UserCircle size={60} className={`mb-3 ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-indigo-300') : (highContrast ? 'text-blue-700' : 'text-indigo-200')}`} />\n        <h1 className={`text-2xl font-bold mb-1 ${highContrast && !darkMode ? 'text-black' : ''}`}>Welcome, {userName || 'User'}!</h1>\n        {talkbackEnabled && <SpeakButton textToSpeak={`Welcome, ${userName || 'User'}!`} darkMode={darkMode} highContrast={highContrast} />}\n\n        <p className={`mb-1 text-xs ${darkMode ? (highContrast ? 'text-yellow-200' : 'text-indigo-100') : (highContrast ? 'text-gray-700' : 'text-indigo-100')}`}>\n        User ID: <span className={`font-mono px-1 rounded text-xs ${accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'bg-yellow-600 text-black' : 'bg-gray-700') : (accessibilitySettings.highContrast ? 'bg-blue-200 text-black' : 'bg-indigo-700')}`}>{userId || 'N/A'}</span>\n        </p>\n        <p className={`mb-5 text-center text-sm ${darkMode ? (highContrast ? 'text-yellow-200' : 'text-indigo-100') : (highContrast ? 'text-gray-700' : 'text-indigo-100')}`}>How can we help you today?</p>\n        {talkbackEnabled && <SpeakButton textToSpeak=\"How can we help you today?\" darkMode={darkMode} highContrast={highContrast} />}\n\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3 w-full max-w-lg\">\n        {quickLinks.map(item => (\n          <button\n          key={item.page}\n          onClick={() => setCurrentPage(item.page)}\n          className={commonButtonClass}\n          aria-label={item.label}\n          >\n          <item.icon size={28} className=\"mb-1.5\" />\n          <span className=\"font-semibold text-center text-sm\">{item.label}</span>\n          {talkbackEnabled && <SpeakButton textToSpeak={item.speak || item.label} darkMode={darkMode} highContrast={highContrast} />}\n          </button>\n        ))}\n        </div>\n        </div>\n    );\n};\n\nconst AppointmentsScreen = ({ userId, showNotification, accessibilitySettings }) => {\n  const [appointments, setAppointments] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [confirmCancelModal, setConfirmCancelModal] = useState({ isOpen: false, appointmentId: null });\n  const [doctor, setDoctor] = useState(MOCK_DOCTORS[0]?.id || '');\n  const [date, setDate] = useState('');\n  const [time, setTime] = useState('');\n  const [reason, setReason] = useState('');\n  const appointmentsCollectionPath = `artifacts/${appId}/users/${userId}/appointments`;\n\n  useEffect(() => {\n    if (!db || !userId) {\n      setAppointments([ { id: 'apt1', doctor: 'Dr. Emily Carter', date: '2024-06-10', time: '10:00 AM', reason: 'Check-up', status: 'Scheduled' }, { id: 'apt2', doctor: 'Dr. John Smith', date: '2024-06-15', time: '02:30 PM', reason: 'Follow-up', status: 'Scheduled' }, ]);\n      setIsLoading(false); return;\n    }\n    setIsLoading(true);\n    const q = query(collection(db, appointmentsCollectionPath));\n    const unsubscribe = onSnapshot(q, (querySnapshot) => {\n      const userAppointments = []; querySnapshot.forEach((doc) => { userAppointments.push({ id: doc.id, ...doc.data() }); });\n      userAppointments.sort((a, b) => new Date(`${a.date} ${a.time}`) - new Date(`${b.date} ${b.time}`));\n      setAppointments(userAppointments); setIsLoading(false);\n    }, (error) => { console.error(\"Error fetching appointments: \", error); showNotification(\"Error fetching appointments.\", \"error\"); setIsLoading(false); });\n    return () => unsubscribe();\n  }, [userId, showNotification, appointmentsCollectionPath]);\n\n  const handleMakeAppointment = async (e) => {\n    e.preventDefault(); if (!db || !userId) { showNotification(\"Database not available.\", \"error\"); return; }\n    if (!doctor || !date || !time || !reason) { showNotification(\"Please fill all fields.\", \"error\"); return; }\n    const newAppointment = { doctor: MOCK_DOCTORS.find(d => d.id === doctor)?.name || doctor, date, time, reason, status: 'Scheduled', createdAt: new Date().toISOString() };\n    try { await addDoc(collection(db, appointmentsCollectionPath), newAppointment); showNotification(\"Appointment booked successfully!\", \"success\"); setDoctor(MOCK_DOCTORS[0]?.id || ''); setDate(''); setTime(''); setReason(''); setIsModalOpen(false); } catch (error) { console.error(\"Error adding appointment: \", error); showNotification(\"Failed to book appointment.\", \"error\"); }\n  };\n  const confirmCancel = (appointmentId) => setConfirmCancelModal({ isOpen: true, appointmentId });\n  const executeCancelAppointment = async () => {\n    const appointmentId = confirmCancelModal.appointmentId; if (!db || !userId || !appointmentId) { showNotification(\"Database not available or invalid request.\", \"error\"); setConfirmCancelModal({ isOpen: false, appointmentId: null }); return; }\n    try { const appointmentRef = doc(db, appointmentsCollectionPath, appointmentId); await updateDoc(appointmentRef, { status: 'Cancelled' }); showNotification(\"Appointment cancelled successfully.\", \"success\"); } catch (error) { console.error(\"Error cancelling appointment: \", error); showNotification(\"Failed to cancel appointment.\", \"error\"); }\n    setConfirmCancelModal({ isOpen: false, appointmentId: null });\n  };\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  return ( <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}> <div className=\"flex justify-between items-center mb-6\"> <h2 className={`text-2xl font-semibold ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>My Appointments</h2> {talkbackEnabled && <SpeakButton textToSpeak=\"My Appointments page.\" darkMode={darkMode} highContrast={highContrast}/>} <button onClick={() => setIsModalOpen(true)} className={`font-semibold py-2 px-4 rounded-lg shadow-md flex items-center ${darkMode ? (highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600' : 'bg-blue-600 hover:bg-blue-700 text-white') : (highContrast ? 'bg-blue-700 text-white hover:bg-blue-800' : 'bg-blue-500 hover:bg-blue-600 text-white')} `}> <PlusCircle size={20} className=\"mr-2\" /> New Appointment </button> </div> {isLoading ? ( <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Loading appointments...</p> ) : appointments.length === 0 ? ( <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`}>You have no upcoming appointments.</p> ) : ( <div className=\"space-y-4\"> {appointments.map(apt => ( <div key={apt.id} className={`p-4 rounded-lg shadow-md ${apt.status === 'Cancelled' ? (darkMode ? 'bg-gray-700 opacity-70' : 'bg-gray-200 opacity-70') : (darkMode ? 'bg-gray-700' : 'bg-white')} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode && apt.status !== 'Cancelled' ? 'border border-blue-500' : ''} ${highContrast && !darkMode && apt.status === 'Cancelled' ? 'border border-gray-400' : ''} `}> <h3 className={`text-lg font-semibold ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-blue-400') : (highContrast ? 'text-blue-700' : 'text-blue-600')}`}>{apt.doctor}</h3> {talkbackEnabled && <SpeakButton textToSpeak={`Appointment with ${apt.doctor}`} darkMode={darkMode} highContrast={highContrast}/>} <p><strong>Date:</strong> {apt.date} {talkbackEnabled && <SpeakButton textToSpeak={`Date ${apt.date}`} darkMode={darkMode} highContrast={highContrast}/>}</p> <p><strong>Time:</strong> {apt.time} {talkbackEnabled && <SpeakButton textToSpeak={`Time ${apt.time}`} darkMode={darkMode} highContrast={highContrast}/>}</p> <p><strong>Reason:</strong> {apt.reason} {talkbackEnabled && <SpeakButton textToSpeak={`Reason ${apt.reason}`} darkMode={darkMode} highContrast={highContrast}/>}</p> <p><strong>Status:</strong> <span className={`${apt.status === 'Cancelled' ? (darkMode ? 'text-red-400' : 'text-red-500') : (darkMode ? 'text-green-400' : 'text-green-500')}`}>{apt.status}</span> {talkbackEnabled && <SpeakButton textToSpeak={`Status ${apt.status}`} darkMode={darkMode} highContrast={highContrast}/>}</p> {apt.status !== 'Cancelled' && ( <button onClick={() => confirmCancel(apt.id)} className={`mt-3 font-semibold py-1 px-3 rounded-md text-sm flex items-center ${darkMode ? (highContrast ? 'bg-red-500 text-black hover:bg-red-600' : 'bg-red-600 hover:bg-red-700 text-white') : (highContrast ? 'bg-red-700 text-white hover:bg-red-800' : 'bg-red-500 hover:bg-red-600 text-white')} `}> <Trash2 size={16} className=\"mr-1\" /> Cancel </button> )} </div> ))} </div> )} <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} title=\"Book a New Appointment\" darkMode={darkMode} highContrast={highContrast} fontSizeClass={accessibilitySettings.fontSize}> <form onSubmit={handleMakeAppointment} className=\"space-y-4\"> {['doctor', 'date', 'time', 'reason'].map(field => ( <div key={field}> <label htmlFor={field} className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200':''}`}> {field.charAt(0).toUpperCase() + field.slice(1).replace('rV', 'r V')} </label> {field === 'doctor' ? ( <select id=\"doctor\" value={doctor} onChange={(e) => setDoctor(e.target.value)} className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`}> {MOCK_DOCTORS.map(doc => <option key={doc.id} value={doc.id}>{doc.name}</option>)} </select> ) : field === 'reason' ? ( <textarea id=\"reason\" rows=\"3\" value={reason} onChange={(e) => setReason(e.target.value)} placeholder=\"e.g., Annual check-up\" className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`}></textarea> ) : ( <input type={field === 'date' ? 'date' : 'time'} id={field} value={field === 'date' ? date : time} onChange={(e) => field === 'date' ? setDate(e.target.value) : setTime(e.target.value)} min={field === 'date' ? new Date().toISOString().split('T')[0] : undefined} className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`} /> )} </div> ))} <button type=\"submit\" className={`w-full font-semibold py-2 px-4 rounded-lg shadow-md flex items-center justify-center ${darkMode ? (highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600' : 'bg-blue-600 hover:bg-blue-700 text-white') : (highContrast ? 'bg-blue-700 text-white hover:bg-blue-800' : 'bg-blue-500 hover:bg-blue-600 text-white')}`}> Confirm Appointment </button> </form> </Modal> <Modal isOpen={confirmCancelModal.isOpen} onClose={() => setConfirmCancelModal({ isOpen: false, appointmentId: null })} title=\"Confirm Cancellation\" darkMode={darkMode} highContrast={highContrast} fontSizeClass={accessibilitySettings.fontSize}> <p className={`${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-4`}>Are you sure you want to cancel this appointment?</p> <div className=\"flex justify-end space-x-3\"> <button onClick={() => setConfirmCancelModal({ isOpen: false, appointmentId: null })} className={`px-4 py-2 rounded-md text-sm font-medium ${darkMode ? 'bg-gray-600 hover:bg-gray-500 text-white' : 'bg-gray-300 hover:bg-gray-400 text-black'}`}>No, Keep It</button> <button onClick={executeCancelAppointment} className={`px-4 py-2 rounded-md text-sm font-medium ${darkMode ? (highContrast ? 'bg-red-500 text-black hover:bg-red-600' : 'bg-red-600 hover:bg-red-700 text-white') : (highContrast ? 'bg-red-700 text-white hover:bg-red-800' : 'bg-red-500 hover:bg-red-600 text-white')}`}>Yes, Cancel</button> </div> </Modal> </div> );\n};\nconst ChatScreen = ({ userId, showNotification, accessibilitySettings }) => {\n  const [messages, setMessages] = useState([ { id: 'm1', text: 'Hello! How can I help you today?', sender: 'doctor', time: '10:00 AM' }, { id: 'm2', text: 'I have a slight fever and a headache.', sender: 'user', time: '10:01 AM' }, ]);\n  const [newMessage, setNewMessage] = useState(''); const [selectedDoctor, setSelectedDoctor] = useState(MOCK_DOCTORS[0]?.id || ''); const messagesEndRef = useRef(null);\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  useEffect(() => { messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" }); }, [messages]);\n  const handleSendMessage = async (e) => {\n    e.preventDefault(); if (!newMessage.trim()) return;\n    const messageData = { text: newMessage, sender: 'user', time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }), createdAt: new Date().toISOString(), userId: userId, doctorId: selectedDoctor };\n    setMessages(prevMessages => [...prevMessages, { ...messageData, id: `m${prevMessages.length + 1}` }]); setNewMessage('');\n    setTimeout(() => { setMessages(prev => [...prev, { id: `m${prev.length + 1}`, text: \"Okay, I understand. Can you tell me more about your symptoms?\", sender: 'doctor', time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) }]); }, 1500);\n  };\n  return ( <div className={`flex flex-col h-[calc(100vh-4rem)] transition-colors duration-300 ${darkMode ? 'bg-gray-900' : 'bg-gray-50'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}> <div className={`p-4 border-b shadow-sm ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} ${highContrast && darkMode ? 'border-b-yellow-400':''} ${highContrast && !darkMode ? 'border-b-blue-600':''}`}> <label htmlFor=\"doctorSelect\" className={`text-sm font-medium mr-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200':''}`}>Chat with:</label> <select id=\"doctorSelect\" value={selectedDoctor} onChange={(e) => setSelectedDoctor(e.target.value)} className={`p-2 border rounded-md focus:outline-none ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`} > {MOCK_DOCTORS.map(doc => <option key={doc.id} value={doc.id}>{doc.name}</option>)} </select> </div> <div className=\"flex-grow p-4 space-y-4 overflow-y-auto\"> {messages.map(msg => ( <div key={msg.id} className={`flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`}> <div className={`max-w-xs lg:max-w-md px-4 py-2 rounded-xl shadow ${msg.sender === 'user' ? (darkMode ? (highContrast ? 'bg-blue-700 text-white rounded-br-none border border-white' : 'bg-blue-600 text-white rounded-br-none') : (highContrast ? 'bg-blue-600 text-white rounded-br-none border border-black' : 'bg-blue-500 text-white rounded-br-none')) : (darkMode ? (highContrast ? 'bg-black text-yellow-300 rounded-bl-none border border-yellow-400' : 'bg-gray-700 text-gray-200 rounded-bl-none') : (highContrast ? 'bg-gray-300 text-black rounded-bl-none border border-black' : 'bg-gray-200 text-gray-800 rounded-bl-none')) } `}> <p>{msg.text} {talkbackEnabled && <SpeakButton textToSpeak={msg.text} darkMode={darkMode} highContrast={highContrast}/>}</p> <p className={`text-xs mt-1 ${msg.sender === 'user' ? (darkMode ? 'text-blue-200 text-right' : 'text-blue-100 text-right') : (darkMode ? 'text-gray-400 text-left' : 'text-gray-500 text-left')}`}> {msg.time} </p> </div> </div> ))} <div ref={messagesEndRef} /> </div> <form onSubmit={handleSendMessage} className={`p-4 border-t flex items-center ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} ${highContrast && darkMode ? 'border-t-yellow-400':''} ${highContrast && !darkMode ? 'border-t-blue-600':''}`}> <input type=\"text\" value={newMessage} onChange={(e) => setNewMessage(e.target.value)} placeholder=\"Type your message...\" className={`flex-grow p-3 border rounded-l-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500' : 'border-gray-300 placeholder-gray-500 focus:ring-blue-400'} ${highContrast ? (darkMode ? 'border-yellow-400 focus:ring-yellow-300' : 'border-blue-600 focus:ring-blue-500') : ''}`} /> <button type=\"submit\" className={`p-3 rounded-r-lg focus:outline-none focus:ring-2 ${darkMode ? (highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600 focus:ring-yellow-300' : 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500') : (highContrast ? 'bg-blue-700 text-white hover:bg-blue-800 focus:ring-blue-600' : 'bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-400')} `}> <Send size={24} /> </button> </form> </div> );\n};\nconst PrescriptionsScreen = ({ userId, showNotification, accessibilitySettings }) => {\n  const [prescriptions, setPrescriptions] = useState([]); const [isLoading, setIsLoading] = useState(true);\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  useEffect(() => { setIsLoading(true); setPrescriptions(MOCK_PRESCRIPTIONS); setIsLoading(false); }, [userId]);\n  if (isLoading) { return <p className={`p-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Loading prescriptions...</p>; }\n  return ( <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}> <h2 className={`text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>My Prescriptions</h2> {talkbackEnabled && <SpeakButton textToSpeak=\"My Prescriptions page.\" darkMode={darkMode} highContrast={highContrast}/>} {prescriptions.length === 0 ? ( <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`}>You have no prescriptions on file.</p> ) : ( <div className=\"space-y-4\"> {prescriptions.map(rx => ( <div key={rx.id} className={`p-4 rounded-lg shadow-md ${darkMode ? 'bg-gray-700 border-l-4 border-green-500' : 'bg-white border-l-4 border-green-500'} ${highContrast && darkMode ? 'border-yellow-300 border-l-yellow-400' : ''} ${highContrast && !darkMode ? 'border-blue-500 border-l-blue-700' : ''} `}> <h3 className={`text-lg font-semibold ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-green-400') : (highContrast ? 'text-blue-700' : 'text-green-700')}`}>{rx.name}</h3> {talkbackEnabled && <SpeakButton textToSpeak={`Prescription: ${rx.name}`} darkMode={darkMode} highContrast={highContrast}/>} <p><strong>Dosage:</strong> {rx.dosage} {talkbackEnabled && <SpeakButton textToSpeak={`Dosage ${rx.dosage}`} darkMode={darkMode} highContrast={highContrast}/>}</p> <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}><strong>Prescribed on:</strong> {rx.date} {talkbackEnabled && <SpeakButton textToSpeak={`Prescribed on ${rx.date}`} darkMode={darkMode} highContrast={highContrast}/>}</p> <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}><strong>Prescribed by:</strong> {rx.doctor} {talkbackEnabled && <SpeakButton textToSpeak={`Prescribed by ${rx.doctor}`} darkMode={darkMode} highContrast={highContrast}/>}</p> <p className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-500'}`}><i>Notes: {rx.notes}</i></p> </div> ))} </div> )} </div> );\n};\n\n// --- NEW SCREENS ---\nconst LabResultsScreen = ({ accessibilitySettings }) => {\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  return (\n    <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <h2 className={`text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>Lab/Test Results</h2>\n    {talkbackEnabled && <SpeakButton textToSpeak=\"Lab and Test Results page.\" darkMode={darkMode} highContrast={highContrast}/>}\n    {MOCK_LAB_RESULTS.length === 0 ? (\n      <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`}>No lab results found.</p>\n    ) : (\n      <div className=\"space-y-4\">\n      {MOCK_LAB_RESULTS.map(result => (\n        <div key={result.id} className={`p-4 rounded-lg shadow-md ${darkMode ? 'bg-gray-700' : 'bg-white'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`}>\n        <div className=\"flex justify-between items-start\">\n        <h3 className={`text-lg font-semibold ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-blue-400') : (highContrast ? 'text-blue-700' : 'text-blue-600')}`}>{result.testName}</h3>\n        <span className={`text-xs px-2 py-0.5 rounded-full ${result.status === 'Pending' ? (darkMode ? 'bg-yellow-600 text-black' : 'bg-yellow-200 text-yellow-800') : (darkMode ? 'bg-green-600 text-white' : 'bg-green-200 text-green-800')}`}>{result.status}</span>\n        </div>\n        {talkbackEnabled && <SpeakButton textToSpeak={`Test: ${result.testName}, Status: ${result.status}`} darkMode={darkMode} highContrast={highContrast}/>}\n        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Date: {result.date}</p>\n        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Doctor: {result.doctor}</p>\n        <p className={`mt-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>{result.summary}</p>\n        {result.status !== 'Pending' && (\n          <button className={`mt-3 text-sm font-medium py-1 px-3 rounded ${darkMode ? (highContrast ? 'bg-yellow-400 text-black' : 'bg-blue-500 hover:bg-blue-600 text-white') : (highContrast ? 'bg-blue-600 text-white' : 'bg-blue-500 hover:bg-blue-600 text-white')}`}>\n          View Full Report (PDF)\n          </button>\n        )}\n        </div>\n      ))}\n      </div>\n    )}\n    </div>\n  );\n};\n\nconst MedicalHistoryScreen = ({ accessibilitySettings }) => {\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  const { diagnoses, allergies, immunizations } = MOCK_MEDICAL_HISTORY;\n\n  const Section = ({ title, items, renderItem, speakTitle }) => (\n    <div className=\"mb-6\">\n    <h3 className={`text-xl font-semibold mb-3 ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-gray-100') : (highContrast ? 'text-blue-700' : 'text-gray-800')}`}>{title}</h3>\n    {talkbackEnabled && <SpeakButton textToSpeak={speakTitle || title} darkMode={darkMode} highContrast={highContrast}/>}\n    {items.length > 0 ? (\n      <ul className=\"space-y-2\">\n      {items.map(item => renderItem(item))}\n      </ul>\n    ) : <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>No {title.toLowerCase()} recorded.</p>}\n    </div>\n  );\n\n  return (\n    <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <h2 className={`text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>Medical History</h2>\n    {talkbackEnabled && <SpeakButton textToSpeak=\"Medical History page.\" darkMode={darkMode} highContrast={highContrast}/>}\n\n    <Section title=\"Diagnoses\" items={diagnoses} speakTitle=\"Diagnosed Conditions\" renderItem={item => (\n      <li key={item.id} className={`p-3 rounded-md ${darkMode ? 'bg-gray-700' : 'bg-white shadow-sm'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`}>\n      <p className=\"font-medium\">{item.condition} {talkbackEnabled && <SpeakButton textToSpeak={`Condition: ${item.condition}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n      <p className=\"text-sm\">Date: {item.date}</p>\n      <p className=\"text-sm\">Notes: {item.notes}</p>\n      </li>\n    )}/>\n    <Section title=\"Allergies\" items={allergies} speakTitle=\"Known Allergies\" renderItem={item => (\n      <li key={item.id} className={`p-3 rounded-md ${darkMode ? 'bg-gray-700' : 'bg-white shadow-sm'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`}>\n      <p className=\"font-medium\">{item.substance} ({item.severity}) {talkbackEnabled && <SpeakButton textToSpeak={`Allergy: ${item.substance}, Severity: ${item.severity}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n      <p className=\"text-sm\">Reaction: {item.reaction}</p>\n      </li>\n    )}/>\n    <Section title=\"Immunizations\" items={immunizations} speakTitle=\"Immunization Records\" renderItem={item => (\n      <li key={item.id} className={`p-3 rounded-md ${darkMode ? 'bg-gray-700' : 'bg-white shadow-sm'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`}>\n      <p className=\"font-medium\">{item.vaccine} {talkbackEnabled && <SpeakButton textToSpeak={`Vaccine: ${item.vaccine}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n      <p className=\"text-sm\">Date: {item.date}</p>\n      </li>\n    )}/>\n    </div>\n  );\n};\n\nconst EducationalResourcesScreen = ({ accessibilitySettings }) => {\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  const [searchTerm, setSearchTerm] = useState('');\n  const filteredResources = MOCK_EDUCATIONAL_RESOURCES.filter(res =>\n  res.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n  res.category.toLowerCase().includes(searchTerm.toLowerCase()) ||\n  res.summary.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  return (\n    <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <h2 className={`text-2xl font-semibold mb-4 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>Health Library</h2>\n    {talkbackEnabled && <SpeakButton textToSpeak=\"Health Library page.\" darkMode={darkMode} highContrast={highContrast}/>}\n\n    <div className=\"mb-6\">\n    <input\n    type=\"text\"\n    placeholder=\"Search articles, videos, FAQs...\"\n    value={searchTerm}\n    onChange={(e) => setSearchTerm(e.target.value)}\n    className={`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500' : 'border-gray-300 placeholder-gray-500 focus:ring-blue-400'} ${highContrast ? (darkMode ? 'border-yellow-400 focus:ring-yellow-300' : 'border-blue-600 focus:ring-blue-500') : ''}`}\n    />\n    </div>\n\n    {filteredResources.length === 0 ? (\n      <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`}>No resources found matching your search.</p>\n    ) : (\n      <div className=\"space-y-4\">\n      {filteredResources.map(resource => (\n        <div key={resource.id} className={`p-4 rounded-lg shadow-md ${darkMode ? 'bg-gray-700' : 'bg-white'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`}>\n        <span className={`text-xs px-2 py-0.5 rounded-full mb-1 inline-block ${darkMode ? 'bg-indigo-600 text-indigo-100' : 'bg-indigo-100 text-indigo-700'}`}>{resource.type}</span>\n        <h3 className={`text-lg font-semibold ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-blue-400') : (highContrast ? 'text-blue-700' : 'text-blue-600')}`}>{resource.title}</h3>\n        {talkbackEnabled && <SpeakButton textToSpeak={`${resource.type}: ${resource.title}`} darkMode={darkMode} highContrast={highContrast}/>}\n        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Category: {resource.category}</p>\n        <p className={`mt-1 text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>{resource.summary}</p>\n        <button className={`mt-3 text-sm font-medium py-1 px-3 rounded ${darkMode ? (highContrast ? 'bg-yellow-400 text-black' : 'bg-blue-500 hover:bg-blue-600 text-white') : (highContrast ? 'bg-blue-600 text-white' : 'bg-blue-500 hover:bg-blue-600 text-white')}`}>\n        Read More / Watch\n        </button>\n        </div>\n      ))}\n      </div>\n    )}\n    </div>\n  );\n};\n\nconst DoctorFinderScreen = ({ accessibilitySettings }) => {\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filters, setFilters] = useState({ specialty: '', insurance: '' });\n\n  const filteredClinics = MOCK_CLINICS.filter(clinic =>\n  (clinic.name.toLowerCase().includes(searchTerm.toLowerCase()) || clinic.address.toLowerCase().includes(searchTerm.toLowerCase())) &&\n  (filters.specialty ? clinic.specialties.includes(filters.specialty) : true) &&\n  (filters.insurance ? clinic.insurance.includes(filters.insurance) : true)\n  );\n\n  // Get unique specialties and insurances for filter dropdowns\n  const allSpecialties = [...new Set(MOCK_CLINICS.flatMap(c => c.specialties))];\n  const allInsurances = [...new Set(MOCK_CLINICS.flatMap(c => c.insurance))];\n\n\n  return (\n    <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <h2 className={`text-2xl font-semibold mb-4 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>Find a Doctor/Clinic</h2>\n    {talkbackEnabled && <SpeakButton textToSpeak=\"Find a Doctor or Clinic page.\" darkMode={darkMode} highContrast={highContrast}/>}\n\n    <div className=\"mb-6 space-y-3\">\n    <input\n    type=\"text\"\n    placeholder=\"Search by name or address...\"\n    value={searchTerm}\n    onChange={(e) => setSearchTerm(e.target.value)}\n    className={`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500' : 'border-gray-300 placeholder-gray-500 focus:ring-blue-400'} ${highContrast ? (darkMode ? 'border-yellow-400 focus:ring-yellow-300' : 'border-blue-600 focus:ring-blue-500') : ''}`}\n    />\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n    <select value={filters.specialty} onChange={e => setFilters({...filters, specialty: e.target.value})} className={`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`}>\n    <option value=\"\">All Specialties</option>\n    {allSpecialties.map(s => <option key={s} value={s}>{s}</option>)}\n    </select>\n    <select value={filters.insurance} onChange={e => setFilters({...filters, insurance: e.target.value})} className={`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`}>\n    <option value=\"\">All Insurances</option>\n    {allInsurances.map(i => <option key={i} value={i}>{i}</option>)}\n    </select>\n    </div>\n    </div>\n\n    {filteredClinics.length === 0 ? (\n      <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`}>No doctors or clinics found matching your criteria.</p>\n    ) : (\n      <div className=\"space-y-4\">\n      {filteredClinics.map(clinic => (\n        <div key={clinic.id} className={`p-4 rounded-lg shadow-md ${darkMode ? 'bg-gray-700' : 'bg-white'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`}>\n        <h3 className={`text-lg font-semibold ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-blue-400') : (highContrast ? 'text-blue-700' : 'text-blue-600')}`}>{clinic.name}</h3>\n        {talkbackEnabled && <SpeakButton textToSpeak={clinic.name} darkMode={darkMode} highContrast={highContrast}/>}\n        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}><MapPin size={14} className=\"inline mr-1\"/>{clinic.address}</p>\n        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Type: {clinic.type}</p>\n        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Rating: {clinic.rating} / 5</p>\n        <div className=\"mt-2\">\n        <h4 className={`text-xs font-semibold ${darkMode ? 'text-gray-300' : 'text-gray-500'}`}>Specialties:</h4>\n        <div className=\"flex flex-wrap gap-1 mt-1\">\n        {clinic.specialties.map(s => <span key={s} className={`text-xs px-1.5 py-0.5 rounded ${darkMode ? 'bg-indigo-600 text-indigo-100' : 'bg-indigo-100 text-indigo-700'}`}>{s}</span>)}\n        </div>\n        </div>\n        <button className={`mt-3 text-sm font-medium py-1 px-3 rounded ${darkMode ? (highContrast ? 'bg-yellow-400 text-black' : 'bg-blue-500 hover:bg-blue-600 text-white') : (highContrast ? 'bg-blue-600 text-white' : 'bg-blue-500 hover:bg-blue-600 text-white')}`}>\n        View Details\n        </button>\n        </div>\n      ))}\n      </div>\n    )}\n    </div>\n  );\n};\n\nconst MoreScreen = ({ setCurrentPage, accessibilitySettings, handleSignOut, openSettingsModal }) => {\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n\n  const menuItems = [\n    { label: 'My Prescriptions', page: 'prescriptions', icon: FileText, speak: \"View your prescriptions\" },\n    { label: 'Lab/Test Results', page: 'labResults', icon: FileBarChart2, speak: \"Access your lab test results\" },\n    { label: 'Medical History', page: 'medicalHistory', icon: Activity, speak: \"View your medical history\" },\n    { label: 'Health Library', page: 'educationalResources', icon: School, speak: \"Find health information\" },\n    { label: 'Find a Doctor/Clinic', page: 'doctorFinder', icon: Stethoscope, speak: \"Search for doctors and clinics\" },\n    { label: 'Accessibility Settings', action: openSettingsModal, icon: Settings, speak: \"Open accessibility settings\" },\n  ];\n\n  return (\n    <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <h2 className={`text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>More Options</h2>\n    {talkbackEnabled && <SpeakButton textToSpeak=\"More options page.\" darkMode={darkMode} highContrast={highContrast}/>}\n\n    <div className=\"space-y-3\">\n    {menuItems.map(item => (\n      <button\n      key={item.label}\n      onClick={() => item.page ? setCurrentPage(item.page) : item.action()}\n      className={`w-full flex items-center p-4 rounded-lg shadow transition-colors\n        ${darkMode ? (highContrast ? 'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900' : 'bg-gray-700 hover:bg-gray-600 text-white') : (highContrast ? 'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50' : 'bg-white hover:bg-gray-50 text-gray-700')}\n        `}\n        aria-label={item.label}\n        >\n        <item.icon size={22} className={`mr-4 ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-blue-400') : (highContrast ? 'text-blue-600' : 'text-blue-500')}`} />\n        <span className=\"flex-grow text-left font-medium\">{item.label}</span>\n        <ChevronRight size={20} className={`${darkMode ? 'text-gray-400' : 'text-gray-500'}`} />\n        {talkbackEnabled && <SpeakButton textToSpeak={item.speak || item.label} darkMode={darkMode} highContrast={highContrast} />}\n        </button>\n    ))}\n    <button\n    onClick={handleSignOut}\n    className={`w-full flex items-center p-4 rounded-lg shadow transition-colors mt-6\n      ${darkMode ? (highContrast ? 'bg-red-700 text-black border border-red-400 hover:bg-red-600' : 'bg-red-600 hover:bg-red-500 text-white') : (highContrast ? 'bg-red-100 text-red-700 border border-red-700 hover:bg-red-200' : 'bg-red-500 hover:bg-red-600 text-white')}\n      `}\n      aria-label=\"Sign Out\"\n      >\n      <LogOut size={22} className=\"mr-4\" />\n      <span className=\"flex-grow text-left font-medium\">Sign Out</span>\n      {talkbackEnabled && <SpeakButton textToSpeak=\"Sign Out\" darkMode={darkMode} highContrast={highContrast} />}\n      </button>\n      </div>\n      </div>\n  );\n};\n\n\n// --- Main App Component ---\nconst App = () => {\n  const [currentPage, setCurrentPage] = useState('home');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [userName, setUserName] = useState('');\n  const [notification, setNotification] = useState({ message: '', type: '' });\n  const [isSettingsModalOpen, setIsSettingsModalOpen] = useState(false);\n\n  const [accessibilitySettings, setAccessibilitySettings] = useState({\n    fontSize: 'text-base', highContrast: false, darkMode: false, talkbackEnabled: false,\n  });\n\n  useEffect(() => { const savedSettings = localStorage.getItem('medicAssistAccessibilitySettings'); if (savedSettings) { setAccessibilitySettings(JSON.parse(savedSettings)); } }, []);\n  useEffect(() => { localStorage.setItem('medicAssistAccessibilitySettings', JSON.stringify(accessibilitySettings)); if (accessibilitySettings.darkMode) { document.documentElement.classList.add('dark'); } else { document.documentElement.classList.remove('dark'); } }, [accessibilitySettings]);\n  const updateAccessibilitySetting = (key, value) => { setAccessibilitySettings(prev => ({ ...prev, [key]: value })); };\n  const showNotification = useCallback((message, type = 'info', duration = 3000) => { setNotification({ message, type }); setTimeout(() => setNotification({ message: '', type: '' }), duration); }, []);\n\n  useEffect(() => {\n    localStorage.setItem('medicAssistAccessibilitySettings', JSON.stringify(accessibilitySettings));\n    if (accessibilitySettings.darkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [accessibilitySettings]);\n\n//   const updateAccessibilitySetting = (key, value) => {\n//     setAccessibilitySettings(prev => ({ ...prev, [key]: value }));\n//   };\n\n//   const showNotification = useCallback((message, type = 'info', duration = 3000) => {\n//     setNotification({ message, type });\n//     setTimeout(() => setNotification({ message: '', type: '' }), duration);\n//   }, []);\n\n  useEffect(() => {\n    if (!auth) {\n      console.warn(\"Firebase Auth is not initialized.\");\n      setIsAuthReady(true); return;\n    }\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      if (user) {\n        // This runs if a user is found (already signed in)\n        setCurrentUser(user);\n        setUserName(user.displayName || `User-${user.uid.substring(0,5)}`);\n      } else {\n        // This runs if NO user is found (signed out)\n        setCurrentUser(null); setUserName('');\n        try {\n          // --- Corrected Code Here ---\n\n          // Directly call signInAnonymously if no user is found\n          await signInAnonymously(auth);\n          console.log(\"Signed in anonymously.\"); // Add a log to confirm\n\n          // --- End of Corrected Code ---\n        } catch (error) {\n          console.error(\"Error during auto sign-in (anonymous):\", error); // Updated log\n          // Check if the error is because anonymous sign-in isn't enabled\n          if (error.code === 'auth/operation-not-allowed') {\n            console.warn(\"Anonymous authentication is not enabled in your Firebase project settings.\");\n            showNotification(\"Anonymous sign-in is disabled. Please enable it in Firebase console Auth settings.\", \"error\");\n          } else {\n            showNotification(\"Authentication issue. Some features might be limited.\", \"error\");\n          }\n        }\n      }\n      setIsAuthReady(true);\n    });\n\n    return () => unsubscribe();\n  }, [showNotification]);\n\n  const handleSignOut = async () => {\n    if (!auth) { showNotification(\"Auth service not available.\", \"error\"); return; }\n    try { await signOut(auth); setCurrentPage('home'); showNotification(\"Signed out successfully.\", \"success\"); }\n    catch (error) { console.error(\"Error signing out:\", error); showNotification(\"Error signing out.\", \"error\"); }\n  };\n\n  const renderPage = () => {\n    if (!isAuthReady) { return <div className={`flex justify-center items-center h-screen ${accessibilitySettings.fontSize} ${accessibilitySettings.darkMode ? 'bg-gray-900 text-white' : 'bg-gray-100 text-black'}`}><p>Initializing App...</p></div>; }\n    const userId = currentUser ? currentUser.uid : null;\n    const commonProps = { userId, showNotification, accessibilitySettings, setCurrentPage };\n\n    switch (currentPage) {\n      case 'home': return <HomeScreen userName={userName} {...commonProps} />;\n      case 'myAppointments': return <AppointmentsScreen {...commonProps} />;\n      case 'chat': return <ChatScreen {...commonProps} />;\n      case 'prescriptions': return <PrescriptionsScreen {...commonProps} />;\n      case 'labResults': return <LabResultsScreen {...commonProps} />;\n      case 'medicalHistory': return <MedicalHistoryScreen {...commonProps} />;\n      case 'educationalResources': return <EducationalResourcesScreen {...commonProps} />;\n      case 'doctorFinder': return <DoctorFinderScreen {...commonProps} />;\n      case 'more': return <MoreScreen handleSignOut={handleSignOut} openSettingsModal={() => setIsSettingsModalOpen(true)} {...commonProps} />;\n      default: return <HomeScreen userName={userName} {...commonProps} />;\n    }\n  };\n\n  const NavItem = ({ page, label, icon: IconComponent }) => (\n    <button onClick={() => setCurrentPage(page)} className={`flex flex-col items-center justify-center p-2 w-full transition-colors duration-200 ease-in-out ${accessibilitySettings.fontSize} ${currentPage === page ? (accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'text-yellow-300' : 'text-blue-400') : (accessibilitySettings.highContrast ? 'text-blue-700 font-bold' : 'text-blue-500')) : (accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'text-gray-400 hover:text-yellow-200' : 'text-gray-400 hover:text-blue-300') : (accessibilitySettings.highContrast ? 'text-gray-600 hover:text-blue-600' : 'text-gray-500 hover:text-blue-400')) } `} >\n    <IconComponent size={24} strokeWidth={currentPage === page ? 2.5 : 2} /> <span className=\"text-xs mt-1\">{label}</span>\n    </button>\n  );\n\n  let appClasses = `font-sans antialiased flex flex-col min-h-screen transition-colors duration-300 ${accessibilitySettings.fontSize}`;\n  if (accessibilitySettings.darkMode) { appClasses += accessibilitySettings.highContrast ? ' bg-black text-yellow-300' : ' bg-gray-900 text-gray-200'; }\n  else { appClasses += accessibilitySettings.highContrast ? ' bg-white text-black border-2 border-blue-900' : ' bg-gray-100 text-gray-800'; }\n\n  return (\n    <div className={appClasses}>\n    <Notification message={notification.message} type={notification.type} onDismiss={() => setNotification({message: '', type: ''})} darkMode={accessibilitySettings.darkMode} />\n    <header className={`p-4 shadow-md flex justify-between items-center sticky top-0 z-40 ${accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'bg-black text-yellow-300 border-b-2 border-yellow-400' : 'bg-gray-800 text-white') : (accessibilitySettings.highContrast ? 'bg-white text-blue-700 border-b-2 border-blue-700' : 'bg-blue-600 text-white')} `}>\n    <h1 className=\"text-xl font-semibold\">Medic Assist</h1>\n    <div className=\"flex items-center space-x-2\">\n    {/* Settings button moved to More screen, but can be kept here if preferred */}\n    <button onClick={() => setIsSettingsModalOpen(true)} aria-label=\"Open accessibility settings\" className={`p-2 rounded-md ${accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'hover:bg-yellow-700 text-yellow-300' : 'hover:bg-gray-700 text-gray-300') : (accessibilitySettings.highContrast ? 'hover:bg-blue-200 text-blue-700' : 'hover:bg-blue-700 text-blue-100')} `}>\n    <Settings size={22} />\n    </button>\n    </div>\n    </header>\n    <main className=\"flex-grow overflow-y-auto\"> {renderPage()} </main>\n    <nav className={`fixed bottom-0 left-0 right-0 border-t shadow-t-md flex justify-around items-center h-16 z-40 ${accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'bg-black border-t-yellow-400' : 'bg-gray-800 border-gray-700') : (accessibilitySettings.highContrast ? 'bg-white border-t-blue-700' : 'bg-white border-gray-200')} `}>\n    <NavItem page=\"home\" label=\"Home\" icon={Home} />\n    <NavItem page=\"myAppointments\" label=\"Appointments\" icon={CalendarPlus} />\n    <NavItem page=\"chat\" label=\"Chat\" icon={MessageSquare} />\n    <NavItem page=\"more\" label=\"More\" icon={Menu} /> {/* Changed Prescriptions to More */}\n    </nav>\n    <div className=\"h-16\"></div>\n    <AccessibilitySettingsModal isOpen={isSettingsModalOpen} onClose={() => setIsSettingsModalOpen(false)} settings={accessibilitySettings} updateSettings={updateAccessibilitySetting} darkMode={accessibilitySettings.darkMode} highContrast={accessibilitySettings.highContrast} fontSizeClass={accessibilitySettings.fontSize} />\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}