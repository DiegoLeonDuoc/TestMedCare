{"ast":null,"code":"var _jsxFileName = \"/home/diego/ExpoApp/my-app/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut, updateProfile // NEW: Import updateProfile\n} from 'firebase/auth';\n// NEW: Import setDoc and getDoc\nimport { collection, addDoc, doc, updateDoc as updateFirestoreDoc, onSnapshot, query, setDoc, getDoc } from 'firebase/firestore';\nimport { Home, CalendarPlus, MessageSquare, ListChecks, UserCircle, XCircle, Send, PlusCircle, Trash2, LogOut, CheckCircle, AlertTriangle, Info, Settings, Volume2, Eye, Moon, Sun, ZoomIn, ZoomOut, FileText, Activity, BookOpen, Search, MapPin, Menu, ChevronRight, ShieldCheck, FileBarChart2, Stethoscope, School, Mail, KeyRound, User, Hash, CalendarDays, MapPinned, Phone } from 'lucide-react';\nimport { auth, db, customAppId } from './firebaseConfig.js';\nimport { MOCK_PRESCRIPTIONS, MOCK_DOCTORS, MOCK_LAB_RESULTS, MOCK_MEDICAL_HISTORY, MOCK_EDUCATIONAL_RESOURCES, MOCK_CLINICS } from './mockData.js';\n\n// --- Helper Components (Modal, Notification, SpeakButton, AccessibilitySettingsModal) ---\n// ... (These components remain unchanged) ...\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  darkMode,\n  highContrast,\n  fontSizeClass\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `rounded-lg shadow-xl p-6 w-full max-w-md ${fontSizeClass} ${darkMode ? 'bg-gray-800 text-white' : 'bg-white text-gray-800'} ${highContrast ? darkMode ? 'border-2 border-yellow-400' : 'border-2 border-blue-600' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `text-xl font-semibold ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : darkMode ? 'text-white' : 'text-gray-800'}`,\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: `${darkMode ? 'text-gray-300 hover:text-white' : 'text-gray-500 hover:text-gray-700'}`,\n          children: [\" \", /*#__PURE__*/_jsxDEV(XCircle, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 131\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n};\n_c = Modal;\nconst Notification = ({\n  message,\n  type,\n  onDismiss,\n  darkMode\n}) => {\n  if (!message) return null;\n  let bgColor;\n  if (darkMode) {\n    bgColor = type === 'success' ? 'bg-green-700' : type === 'error' ? 'bg-red-700' : 'bg-blue-700';\n  } else {\n    bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';\n  }\n  const Icon = type === 'success' ? CheckCircle : type === 'error' ? AlertTriangle : Info;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `fixed top-4 right-4 ${bgColor} text-white p-4 rounded-lg shadow-md flex items-center z-[100]`,\n    children: [\" \", /*#__PURE__*/_jsxDEV(Icon, {\n      size: 24,\n      className: \"mr-3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 125\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 161\n    }, this), \" \", onDismiss && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onDismiss,\n      className: \"ml-4 text-white hover:text-gray-200\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(XCircle, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 277\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 200\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 12\n  }, this);\n};\n_c2 = Notification;\nconst SpeakButton = ({\n  textToSpeak,\n  darkMode,\n  highContrast\n}) => {\n  const handleSpeak = e => {\n    e.stopPropagation();\n    if ('speechSynthesis' in window && textToSpeak) {\n      const utterance = new SpeechSynthesisUtterance(textToSpeak);\n      window.speechSynthesis.cancel();\n      window.speechSynthesis.speak(utterance);\n    } else {\n      console.warn(\"Speech synthesis not supported or no text to speak.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: handleSpeak,\n    \"aria-label\": `Speak: ${textToSpeak.substring(0, 30)}...`,\n    title: \"Read aloud\",\n    className: `ml-2 p-1 rounded ${darkMode ? highContrast ? 'bg-yellow-500 text-black' : 'bg-gray-600 hover:bg-gray-500' : highContrast ? 'bg-blue-500 text-white' : 'bg-gray-200 hover:bg-gray-300'}`,\n    children: [\" \", /*#__PURE__*/_jsxDEV(Volume2, {\n      size: 16\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 320\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 12\n  }, this);\n};\n_c3 = SpeakButton;\nconst AccessibilitySettingsModal = ({\n  isOpen,\n  onClose,\n  settings,\n  updateSettings,\n  darkMode,\n  highContrast,\n  fontSizeClass\n}) => {\n  const {\n    fontSize,\n    highContrast: hc,\n    darkMode: dm,\n    talkbackEnabled\n  } = settings;\n  const fontSizes = [{\n    label: 'Normal',\n    value: 'text-base'\n  }, {\n    label: 'Grande',\n    value: 'text-lg'\n  }, {\n    label: 'Extra Grande',\n    value: 'text-xl'\n  }];\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    title: \"Opciones de accesibilidad\",\n    darkMode: darkMode,\n    highContrast: highContrast,\n    fontSizeClass: fontSizeClass,\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: `font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`,\n          children: \"Tama\\xF1o de letra\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 200\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: [\" \", fontSizes.map(fs => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => updateSettings('fontSize', fs.value),\n            className: `px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${fontSize === fs.value ? darkMode ? 'bg-blue-500 text-white' : 'bg-blue-600 text-white' : darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'} ${highContrast && fontSize === fs.value ? darkMode ? 'border-2 border-yellow-400' : 'border-2 border-blue-800' : ''} ${highContrast && fontSize !== fs.value ? darkMode ? 'border border-gray-500' : 'border border-gray-400' : ''} `,\n            children: [\" \", fs.label, \" \"]\n          }, fs.value, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 362\n          }, this)), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 306\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 194\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: `font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`,\n          children: \"Tema\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 993\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => updateSettings('darkMode', !dm),\n          className: `w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${dm ? highContrast ? 'bg-gray-900 text-yellow-300 border-2 border-yellow-400' : 'bg-gray-700 text-white' : highContrast ? 'bg-white text-blue-700 border-2 border-blue-700' : 'bg-gray-200 text-black'} hover:${dm ? highContrast ? 'bg-gray-800' : 'bg-gray-600' : highContrast ? 'bg-gray-100' : 'bg-gray-300'} `,\n          children: [\" \", dm ? /*#__PURE__*/_jsxDEV(Sun, {\n            size: 18,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 1580\n          }, this) : /*#__PURE__*/_jsxDEV(Moon, {\n            size: 18,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 1617\n          }, this), \" \", dm ? 'Cambiar a Modo Claro' : 'Cambiar a Modo Oscuro', \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 1088\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 987\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: `font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`,\n          children: \"Contraste\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 1733\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => updateSettings('highContrast', !hc),\n          className: `w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${hc ? darkMode ? 'bg-yellow-400 text-black' : 'bg-blue-600 text-white' : darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'} ${highContrast && hc ? darkMode ? 'border-2 border-white' : 'border-2 border-black' : ''} `,\n          children: [\" \", /*#__PURE__*/_jsxDEV(Eye, {\n            size: 18,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 2283\n          }, this), \" \", hc ? 'Deshabilitar Alto Contraste' : 'Habilitar Alto Contraste', \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 1833\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 1727\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: `font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`,\n          children: \"Leer en voz alta (Simulaci\\xF3n de TalkBack)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 2407\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => updateSettings('talkbackEnabled', !talkbackEnabled),\n          className: `w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${talkbackEnabled ? darkMode ? 'bg-green-600 text-white' : 'bg-green-500 text-white' : darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'} ${highContrast && talkbackEnabled ? darkMode ? 'border-2 border-white' : 'border-2 border-black' : ''} `,\n          children: [\" \", /*#__PURE__*/_jsxDEV(Volume2, {\n            size: 18,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 3031\n          }, this), \" \", talkbackEnabled ? 'Deshabilitar Leer en Voz Alta' : 'Habilitar Leer en Voz Alta', \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 2539\n        }, this), \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `mt-2 text-xs ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [\"When enabled, look for \", /*#__PURE__*/_jsxDEV(Volume2, {\n            size: 12,\n            className: \"inline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 3284\n          }, this), \" icons to have text read aloud.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 3183\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 2401\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 166\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 12\n  }, this);\n};\n\n// --- Screen Components (HomeScreen, AppointmentsScreen, etc.) ---\n// ... ( Largely unchanged, HomeScreen will display the updated userName ) ...\n_c4 = AccessibilitySettingsModal;\nconst HomeScreen = ({\n  setCurrentPage,\n  userName,\n  userId,\n  accessibilitySettings\n}) => {\n  const {\n    darkMode,\n    highContrast,\n    talkbackEnabled\n  } = accessibilitySettings;\n  // MODIFIED: Welcome message to use potentially full name\n  const welcomeMessage = `Bienvenido, ${userName || 'User'}!`;\n  const commonButtonClass = `p-4 rounded-lg shadow-md transition-all flex flex-col items-center justify-center aspect-square\n  ${darkMode ? highContrast ? 'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900' : 'bg-gray-700 text-indigo-300 hover:bg-gray-600' : highContrast ? 'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50' : 'bg-white text-blue-600 hover:bg-blue-50'}\n    `;\n  const quickLinks = [{\n    page: 'myAppointments',\n    label: 'Mis citas',\n    icon: CalendarPlus,\n    speak: \"Mis citas.\"\n  }, {\n    page: 'chat',\n    label: 'Habla con un doctor',\n    icon: MessageSquare,\n    speak: \"Habla con un doctor.\"\n  }, {\n    page: 'prescriptions',\n    label: 'Mis recetas',\n    icon: FileText,\n    speak: \"Mis recetas.\"\n  }, {\n    page: 'labResults',\n    label: 'Resultados de laboratorio',\n    icon: FileBarChart2,\n    speak: \"Resultados de laboratorio.\"\n  }, {\n    page: 'medicalHistory',\n    label: 'Historial médico',\n    icon: Activity,\n    speak: \"Historial médico.\"\n  }, {\n    page: 'doctorFinder',\n    label: 'Busca un doctor',\n    icon: Stethoscope,\n    speak: \"Busca un doctor.\"\n  }, {\n    page: 'educationalResources',\n    label: 'Recursos informativos',\n    icon: School,\n    speak: \"Recursos informativos.\"\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `p-6 min-h-[calc(100vh-4rem)] flex flex-col items-center transition-colors duration-300\n        ${darkMode ? 'bg-gradient-to-br from-gray-800 to-gray-900 text-white' : 'bg-gradient-to-br from-blue-500 to-indigo-600 text-white'}\n        ${highContrast && darkMode ? 'border-2 border-yellow-400' : ''}\n        ${highContrast && !darkMode ? 'bg-white text-black border-2 border-blue-700' : ''}\n        `,\n    children: [/*#__PURE__*/_jsxDEV(UserCircle, {\n      size: 60,\n      className: `mb-3 ${darkMode ? highContrast ? 'text-yellow-300' : 'text-indigo-300' : highContrast ? 'text-blue-700' : 'text-indigo-200'}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: `text-2xl font-bold mb-1 ${highContrast && !darkMode ? 'text-black' : ''}`,\n      children: welcomeMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n      textToSpeak: welcomeMessage,\n      darkMode: darkMode,\n      highContrast: highContrast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `mb-5 text-center text-sm ${darkMode ? highContrast ? 'text-yellow-200' : 'text-indigo-100' : highContrast ? 'text-gray-700' : 'text-indigo-100'}`,\n      children: \"\\xBFC\\xF3mo podemos ayudarte hoy?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n      textToSpeak: \"\\xBFC\\xF3mo podemos ayudarte hoy?\",\n      darkMode: darkMode,\n      highContrast: highContrast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 sm:grid-cols-3 gap-3 w-full max-w-lg\",\n      children: quickLinks.map(item => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentPage(item.page),\n        className: commonButtonClass,\n        \"aria-label\": item.label,\n        children: [/*#__PURE__*/_jsxDEV(item.icon, {\n          size: 28,\n          className: \"mb-1.5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-center text-sm\",\n          children: item.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n          textToSpeak: item.speak || item.label,\n          darkMode: darkMode,\n          highContrast: highContrast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 31\n        }, this)]\n      }, item.page, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 7\n  }, this);\n};\n_c5 = HomeScreen;\nconst AppointmentsScreen = ({\n  userId,\n  showNotification,\n  accessibilitySettings\n}) => {\n  _s();\n  var _MOCK_DOCTORS$;\n  const [appointments, setAppointments] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [confirmCancelModal, setConfirmCancelModal] = useState({\n    isOpen: false,\n    appointmentId: null\n  });\n  const [doctor, setDoctor] = useState(((_MOCK_DOCTORS$ = MOCK_DOCTORS[0]) === null || _MOCK_DOCTORS$ === void 0 ? void 0 : _MOCK_DOCTORS$.id) || '');\n  const [date, setDate] = useState('');\n  const [time, setTime] = useState('');\n  const [reason, setReason] = useState('');\n  const appointmentsCollectionPath = `artifacts/${customAppId}/users/${userId}/appointments`;\n  useEffect(() => {\n    if (!db || !userId) {\n      setAppointments([]); // No mock data if not logged in/db not available for this screen\n      setIsLoading(false);\n      return;\n    }\n    setIsLoading(true);\n    const q = query(collection(db, appointmentsCollectionPath));\n    const unsubscribe = onSnapshot(q, querySnapshot => {\n      const userAppointments = [];\n      querySnapshot.forEach(doc => {\n        userAppointments.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      userAppointments.sort((a, b) => new Date(`${a.date} ${a.time}`) - new Date(`${b.date} ${b.time}`));\n      setAppointments(userAppointments);\n      setIsLoading(false);\n    }, error => {\n      console.error(\"Error fetching appointments: \", error);\n      showNotification(\"Error cargando citas.\", \"error\");\n      setIsLoading(false);\n    });\n    return () => unsubscribe();\n  }, [userId, showNotification, appointmentsCollectionPath]);\n  const handleMakeAppointment = async e => {\n    var _MOCK_DOCTORS$find;\n    e.preventDefault();\n    if (!db || !userId) {\n      showNotification(\"Database not available. Please login.\", \"error\");\n      return;\n    }\n    if (!doctor || !date || !time || !reason) {\n      showNotification(\"Please fill all fields.\", \"error\");\n      return;\n    }\n    const newAppointment = {\n      doctor: ((_MOCK_DOCTORS$find = MOCK_DOCTORS.find(d => d.id === doctor)) === null || _MOCK_DOCTORS$find === void 0 ? void 0 : _MOCK_DOCTORS$find.name) || doctor,\n      date,\n      time,\n      reason,\n      status: 'Scheduled',\n      createdAt: new Date().toISOString()\n    };\n    try {\n      var _MOCK_DOCTORS$2;\n      await addDoc(collection(db, appointmentsCollectionPath), newAppointment);\n      showNotification(\"Appointment booked successfully!\", \"success\");\n      setDoctor(((_MOCK_DOCTORS$2 = MOCK_DOCTORS[0]) === null || _MOCK_DOCTORS$2 === void 0 ? void 0 : _MOCK_DOCTORS$2.id) || '');\n      setDate('');\n      setTime('');\n      setReason('');\n      setIsModalOpen(false);\n    } catch (error) {\n      console.error(\"Error adding appointment: \", error);\n      showNotification(\"Failed to book appointment.\", \"error\");\n    }\n  };\n  const confirmCancel = appointmentId => setConfirmCancelModal({\n    isOpen: true,\n    appointmentId\n  });\n  const executeCancelAppointment = async () => {\n    const appointmentId = confirmCancelModal.appointmentId;\n    if (!db || !userId || !appointmentId) {\n      showNotification(\"Database not available or invalid request.\", \"error\");\n      setConfirmCancelModal({\n        isOpen: false,\n        appointmentId: null\n      });\n      return;\n    }\n    try {\n      const appointmentRef = doc(db, appointmentsCollectionPath, appointmentId);\n      await updateFirestoreDoc(appointmentRef, {\n        status: 'Cancelled'\n      });\n      showNotification(\"Appointment cancelled successfully.\", \"success\");\n    } catch (error) {\n      console.error(\"Error cancelling appointment: \", error);\n      showNotification(\"Failed to cancel appointment.\", \"error\");\n    }\n    setConfirmCancelModal({\n      isOpen: false,\n      appointmentId: null\n    });\n  };\n  const {\n    darkMode,\n    highContrast,\n    talkbackEnabled\n  } = accessibilitySettings;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`,\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: `text-2xl font-semibold ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`,\n        children: \"Mis citas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 313\n      }, this), \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n        textToSpeak: \"Mis citas page.\",\n        darkMode: darkMode,\n        highContrast: highContrast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 475\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsModalOpen(true),\n        className: `font-semibold py-2 px-4 rounded-lg shadow-md flex items-center ${darkMode ? highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600' : 'bg-blue-600 hover:bg-blue-700 text-white' : highContrast ? 'bg-blue-700 text-white hover:bg-blue-800' : 'bg-blue-500 hover:bg-blue-600 text-white'} `,\n        children: [\" \", /*#__PURE__*/_jsxDEV(PlusCircle, {\n          size: 20,\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 923\n        }, this), \" A\\xF1adir cita \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 569\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 256\n    }, this), \" \", isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n      children: \"Cargando citas...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 1009\n    }, this) : appointments.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`,\n      children: \"No tienes citas pendientes.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 1130\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [\" \", appointments.map(apt => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg shadow-md ${apt.status === 'Cancelled' ? darkMode ? 'bg-gray-700 opacity-70' : 'bg-gray-200 opacity-70' : darkMode ? 'bg-gray-700' : 'bg-white'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode && apt.status !== 'Cancelled' ? 'border border-blue-500' : ''} ${highContrast && !darkMode && apt.status === 'Cancelled' ? 'border border-gray-400' : ''} `,\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `text-lg font-semibold ${darkMode ? highContrast ? 'text-yellow-300' : 'text-blue-400' : highContrast ? 'text-blue-700' : 'text-blue-600'}`,\n          children: apt.doctor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 1747\n        }, this), \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n          textToSpeak: `Appointment with ${apt.doctor}`,\n          darkMode: darkMode,\n          highContrast: highContrast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 1945\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 2059\n          }, this), \" \", apt.date, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Date ${apt.date}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 2113\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 2056\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Time:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 2217\n          }, this), \" \", apt.time, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Time ${apt.time}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 2271\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 2214\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Reason:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 2375\n          }, this), \" \", apt.reason, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Reason ${apt.reason}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 2433\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 2372\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 2541\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `${apt.status === 'Cancelled' ? darkMode ? 'text-red-400' : 'text-red-500' : darkMode ? 'text-green-400' : 'text-green-500'}`,\n            children: apt.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 2566\n          }, this), \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Status ${apt.status}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 2754\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 2538\n        }, this), \" \", apt.status !== 'Cancelled' && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => confirmCancel(apt.id),\n          className: `mt-3 font-semibold py-1 px-3 rounded-md text-sm flex items-center ${darkMode ? highContrast ? 'bg-red-500 text-black hover:bg-red-600' : 'bg-red-600 hover:bg-red-700 text-white' : highContrast ? 'bg-red-700 text-white hover:bg-red-800' : 'bg-red-500 hover:bg-red-600 text-white'} `,\n          children: [\" \", /*#__PURE__*/_jsxDEV(Trash2, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 3238\n          }, this), \" Cancel \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 2892\n        }, this), \" \"]\n      }, apt.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 1305\n      }, this)), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 1250\n    }, this), \" \", /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: () => setIsModalOpen(false),\n      title: \"Book a New Appointment\",\n      darkMode: darkMode,\n      highContrast: highContrast,\n      fontSizeClass: accessibilitySettings.fontSize,\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleMakeAppointment,\n        className: \"space-y-4\",\n        children: [\" \", ['doctor', 'date', 'time', 'reason'].map(field => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: field,\n            className: `block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200' : ''}`,\n            children: [\" \", field.charAt(0).toUpperCase() + field.slice(1).replace('rV', 'r V'), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 3643\n          }, this), \" \", field === 'doctor' ? /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"doctor\",\n            value: doctor,\n            onChange: e => setDoctor(e.target.value),\n            className: `mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? darkMode ? 'border-yellow-400' : 'border-blue-600' : ''}`,\n            children: [\" \", MOCK_DOCTORS.map(doc => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: doc.id,\n              children: doc.name\n            }, doc.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 4349\n            }, this)), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 3909\n          }, this) : field === 'reason' ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"reason\",\n            rows: \"3\",\n            value: reason,\n            onChange: e => setReason(e.target.value),\n            placeholder: \"e.g., Annual check-up\",\n            className: `mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? darkMode ? 'border-yellow-400' : 'border-blue-600' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 4444\n          }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n            type: field === 'date' ? 'date' : 'time',\n            id: field,\n            value: field === 'date' ? date : time,\n            onChange: e => field === 'date' ? setDate(e.target.value) : setTime(e.target.value),\n            min: field === 'date' ? new Date().toISOString().split('T')[0] : undefined,\n            className: `mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? darkMode ? 'border-yellow-400' : 'border-blue-600' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 4923\n          }, this), \" \"]\n        }, field, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 3625\n        }, this)), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: `w-full font-semibold py-2 px-4 rounded-lg shadow-md flex items-center justify-center ${darkMode ? highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600' : 'bg-blue-600 hover:bg-blue-700 text-white' : highContrast ? 'bg-blue-700 text-white hover:bg-blue-800' : 'bg-blue-500 hover:bg-blue-600 text-white'}`,\n          children: \" Confirm Appointment \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 5537\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 3510\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 3317\n    }, this), \" \", /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: confirmCancelModal.isOpen,\n      onClose: () => setConfirmCancelModal({\n        isOpen: false,\n        appointmentId: null\n      }),\n      title: \"Confirm Cancellation\",\n      darkMode: darkMode,\n      highContrast: highContrast,\n      fontSizeClass: accessibilitySettings.fontSize,\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-4`,\n        children: \"Are you sure you want to cancel this appointment?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 6181\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-3\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setConfirmCancelModal({\n            isOpen: false,\n            appointmentId: null\n          }),\n          className: `px-4 py-2 rounded-md text-sm font-medium ${darkMode ? 'bg-gray-600 hover:bg-gray-500 text-white' : 'bg-gray-300 hover:bg-gray-400 text-black'}`,\n          children: \"No, Keep It\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 6350\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: executeCancelAppointment,\n          className: `px-4 py-2 rounded-md text-sm font-medium ${darkMode ? highContrast ? 'bg-red-500 text-black hover:bg-red-600' : 'bg-red-600 hover:bg-red-700 text-white' : highContrast ? 'bg-red-700 text-white hover:bg-red-800' : 'bg-red-500 hover:bg-red-600 text-white'}`,\n          children: \"Yes, Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 6614\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 6305\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 5936\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 12\n  }, this);\n};\n\n// ... other screen components (ChatScreen, PrescriptionsScreen, etc. remain similar) ...\n_s(AppointmentsScreen, \"W55kFCBcyCggQStZzQ2j83Con5w=\");\n_c6 = AppointmentsScreen;\nconst ChatScreen = ({\n  userId,\n  showNotification,\n  accessibilitySettings\n}) => {\n  _s2();\n  var _MOCK_DOCTORS$3;\n  const [messages, setMessages] = useState([{\n    id: 'm1',\n    text: '¡Hola! ¿Cómo puedo ayudarte hoy?',\n    sender: 'doctor',\n    time: new Date().toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    })\n  }, {\n    id: 'm2',\n    text: 'Tengo fiebre y dolor de cabeza.',\n    sender: 'user',\n    time: new Date().toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    })\n  }]);\n  const [newMessage, setNewMessage] = useState('');\n  const [selectedDoctor, setSelectedDoctor] = useState(((_MOCK_DOCTORS$3 = MOCK_DOCTORS[0]) === null || _MOCK_DOCTORS$3 === void 0 ? void 0 : _MOCK_DOCTORS$3.id) || '');\n  const messagesEndRef = useRef(null);\n  const {\n    darkMode,\n    highContrast,\n    talkbackEnabled\n  } = accessibilitySettings;\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!newMessage.trim()) return;\n    // Mock sending message if no userId (not logged in)\n    if (!userId) {\n      showNotification(\"Por favor ingrese para recibir mensajes.\", \"error\");\n      setMessages(prev => [...prev, {\n        id: `m${prev.length + 1}`,\n        text: newMessage,\n        sender: 'user',\n        time: new Date().toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }]);\n      setNewMessage('');\n      return;\n    }\n    const messageData = {\n      text: newMessage,\n      sender: 'user',\n      time: new Date().toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      }),\n      createdAt: new Date().toISOString(),\n      userId: userId,\n      doctorId: selectedDoctor\n    };\n    setMessages(prevMessages => [...prevMessages, {\n      ...messageData,\n      id: `m${prevMessages.length + 1}`\n    }]);\n    setNewMessage('');\n    setTimeout(() => {\n      setMessages(prev => [...prev, {\n        id: `m${prev.length + 1}`,\n        text: \"Entiendo. ¿Puede decirme los síntomas?\",\n        sender: 'doctor',\n        time: new Date().toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }]);\n    }, 1500);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex flex-col h-[calc(100vh-4rem)] transition-colors duration-300 ${darkMode ? 'bg-gray-900' : 'bg-gray-50'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`,\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `p-4 border-b shadow-sm ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} ${highContrast && darkMode ? 'border-b-yellow-400' : ''} ${highContrast && !darkMode ? 'border-b-blue-600' : ''}`,\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"doctorSelect\",\n        className: `text-sm font-medium mr-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200' : ''}`,\n        children: \"Chat with:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 489\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"doctorSelect\",\n        value: selectedDoctor,\n        onChange: e => setSelectedDoctor(e.target.value),\n        className: `p-2 border rounded-md focus:outline-none ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? darkMode ? 'border-yellow-400' : 'border-blue-600' : ''}`,\n        children: [\" \", MOCK_DOCTORS.map(doc => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: doc.id,\n          children: doc.name\n        }, doc.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 1094\n        }, this)), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 676\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 264\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-grow p-4 space-y-4 overflow-y-auto\",\n      children: [\" \", messages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`,\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `max-w-xs lg:max-w-md px-4 py-2 rounded-xl shadow ${msg.sender === 'user' ? darkMode ? highContrast ? 'bg-blue-700 text-white rounded-br-none border border-white' : 'bg-blue-600 text-white rounded-br-none' : highContrast ? 'bg-blue-600 text-white rounded-br-none border border-black' : 'bg-blue-500 text-white rounded-br-none' : darkMode ? highContrast ? 'bg-black text-yellow-300 rounded-bl-none border border-yellow-400' : 'bg-gray-700 text-gray-200 rounded-bl-none' : highContrast ? 'bg-gray-300 text-black rounded-bl-none border border-black' : 'bg-gray-200 text-gray-800 rounded-bl-none'} `,\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [msg.text, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n              textToSpeak: msg.text,\n              darkMode: darkMode,\n              highContrast: highContrast\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 2008\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 1974\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-xs mt-1 ${msg.sender === 'user' ? darkMode ? 'text-blue-200 text-right' : 'text-blue-100 text-right' : darkMode ? 'text-gray-400 text-left' : 'text-gray-500 text-left'}`,\n            children: [\" \", msg.time, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 2099\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 1347\n        }, this), \" \"]\n      }, msg.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 1250\n      }, this)), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 2329\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 1169\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSendMessage,\n      className: `p-4 border-t flex items-center ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} ${highContrast && darkMode ? 'border-t-yellow-400' : ''} ${highContrast && !darkMode ? 'border-t-blue-600' : ''}`,\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newMessage,\n        onChange: e => setNewMessage(e.target.value),\n        placeholder: \"Type your message...\",\n        className: `flex-grow p-3 border rounded-l-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500' : 'border-gray-300 placeholder-gray-500 focus:ring-blue-400'} ${highContrast ? darkMode ? 'border-yellow-400 focus:ring-yellow-300' : 'border-blue-600 focus:ring-blue-500' : ''}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 2628\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: `p-3 rounded-r-lg focus:outline-none focus:ring-2 ${darkMode ? highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600 focus:ring-yellow-300' : 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500' : highContrast ? 'bg-blue-700 text-white hover:bg-blue-800 focus:ring-blue-600' : 'bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-400'} `,\n        children: [\" \", /*#__PURE__*/_jsxDEV(Send, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 3506\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 3107\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 2365\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 12\n  }, this);\n};\n_s2(ChatScreen, \"q0D1eWTl2HxqYXde+mj2EpB32OA=\");\n_c7 = ChatScreen;\nconst PrescriptionsScreen = ({\n  userId,\n  showNotification,\n  accessibilitySettings\n}) => {\n  _s3();\n  const [prescriptions, setPrescriptions] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const {\n    darkMode,\n    highContrast,\n    talkbackEnabled\n  } = accessibilitySettings;\n  useEffect(() => {\n    setIsLoading(true);\n    if (userId) setPrescriptions(MOCK_PRESCRIPTIONS);else setPrescriptions([]);\n    setIsLoading(false);\n  }, [userId]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `p-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n      children: \"Loading prescriptions...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 27\n    }, this);\n  }\n  if (!userId) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `p-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center`,\n      children: \"Please log in to view prescriptions.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 25\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`,\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: `text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`,\n      children: \"Mis recetas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 256\n    }, this), \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n      textToSpeak: \"Mis recetas page.\",\n      darkMode: darkMode,\n      highContrast: highContrast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 425\n    }, this), \" \", prescriptions.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`,\n      children: \"No tienes recetas prescritas.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 553\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [\" \", prescriptions.map(rx => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg shadow-md ${darkMode ? 'bg-gray-700 border-l-4 border-green-500' : 'bg-white border-l-4 border-green-500'} ${highContrast && darkMode ? 'border-yellow-300 border-l-yellow-400' : ''} ${highContrast && !darkMode ? 'border-blue-500 border-l-blue-700' : ''} `,\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `text-lg font-semibold ${darkMode ? highContrast ? 'text-yellow-300' : 'text-green-400' : highContrast ? 'text-blue-700' : 'text-green-700'}`,\n          children: rx.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 1032\n        }, this), \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n          textToSpeak: `Prescription: ${rx.name}`,\n          darkMode: darkMode,\n          highContrast: highContrast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 1229\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Dosage:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 1337\n          }, this), \" \", rx.dosage, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Dosage ${rx.dosage}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 1394\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 1334\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Prescribed on:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 1571\n          }, this), \" \", rx.date, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Prescribed on ${rx.date}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 1633\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 1498\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Prescribed by:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 1815\n          }, this), \" \", rx.doctor, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Prescribed by ${rx.doctor}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 1879\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 1742\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm ${darkMode ? 'text-gray-300' : 'text-gray-500'}`,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            children: [\"Notes: \", rx.notes]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 2063\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 1990\n        }, this), \" \"]\n      }, rx.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 730\n      }, this)), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 675\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 12\n  }, this);\n};\n_s3(PrescriptionsScreen, \"4TTPA92ftk9of4sfJ+/uzSY85gE=\");\n_c8 = PrescriptionsScreen;\nconst LabResultsScreen = ({\n  accessibilitySettings,\n  userId\n}) => {\n  // Added userId\n  const {\n    darkMode,\n    highContrast,\n    talkbackEnabled\n  } = accessibilitySettings;\n  if (!userId) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `p-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center`,\n      children: \"Please log in to view Resultados de laboratorio.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 25\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: `text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`,\n      children: \"Lab/Test Results\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 5\n    }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n      textToSpeak: \"Lab and Test Results page.\",\n      darkMode: darkMode,\n      highContrast: highContrast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 25\n    }, this), MOCK_LAB_RESULTS.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`,\n      children: \"No Resultados de laboratorio found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: MOCK_LAB_RESULTS.map(result => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg shadow-md ${darkMode ? 'bg-gray-700' : 'bg-white'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: `text-lg font-semibold ${darkMode ? highContrast ? 'text-yellow-300' : 'text-blue-400' : highContrast ? 'text-blue-700' : 'text-blue-600'}`,\n            children: result.testName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `text-xs px-2 py-0.5 rounded-full ${result.status === 'Pending' ? darkMode ? 'bg-yellow-600 text-black' : 'bg-yellow-200 text-yellow-800' : darkMode ? 'bg-green-600 text-white' : 'bg-green-200 text-green-800'}`,\n            children: result.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 9\n        }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n          textToSpeak: `Test: ${result.testName}, Status: ${result.status}`,\n          darkMode: darkMode,\n          highContrast: highContrast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [\"Date: \", result.date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [\"Doctor: \", result.doctor]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `mt-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`,\n          children: result.summary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 9\n        }, this), result.status !== 'Pending' && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `mt-3 text-sm font-medium py-1 px-3 rounded ${darkMode ? highContrast ? 'bg-yellow-400 text-black' : 'bg-blue-500 hover:bg-blue-600 text-white' : highContrast ? 'bg-blue-600 text-white' : 'bg-blue-500 hover:bg-blue-600 text-white'}`,\n          children: \"View Full Report (PDF)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, result.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n};\n_c9 = LabResultsScreen;\nconst MedicalHistoryScreen = ({\n  accessibilitySettings,\n  userId\n}) => {\n  // Added userId\n  const {\n    darkMode,\n    highContrast,\n    talkbackEnabled\n  } = accessibilitySettings;\n  const {\n    diagnoses,\n    allergies,\n    immunizations\n  } = MOCK_MEDICAL_HISTORY;\n  if (!userId) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `p-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center`,\n      children: \"Please log in to view Historial m\\xE9dico.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 25\n    }, this);\n  }\n  const Section = ({\n    title,\n    items,\n    renderItem,\n    speakTitle\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: `text-xl font-semibold mb-3 ${darkMode ? highContrast ? 'text-yellow-300' : 'text-gray-100' : highContrast ? 'text-blue-700' : 'text-gray-800'}`,\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 5\n    }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n      textToSpeak: speakTitle || title,\n      darkMode: darkMode,\n      highContrast: highContrast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 25\n    }, this), items.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"space-y-2\",\n      children: items.map(item => renderItem(item))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n      children: [\"No \", title.toLowerCase(), \" recorded.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: `text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`,\n      children: \"Historial m\\xE9dico\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 5\n    }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n      textToSpeak: \"Historial m\\xE9dico page.\",\n      darkMode: darkMode,\n      highContrast: highContrast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(Section, {\n      title: \"Diagnoses\",\n      items: diagnoses,\n      speakTitle: \"Diagnosed Conditions\",\n      renderItem: item => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: `p-3 rounded-md ${darkMode ? 'bg-gray-700' : 'bg-white shadow-sm'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium\",\n          children: [item.condition, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Condition: ${item.condition}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 71\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          children: [\"Date: \", item.date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          children: [\"Notes: \", item.notes]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 7\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Section, {\n      title: \"Allergies\",\n      items: allergies,\n      speakTitle: \"Known Allergies\",\n      renderItem: item => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: `p-3 rounded-md ${darkMode ? 'bg-gray-700' : 'bg-white shadow-sm'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium\",\n          children: [item.substance, \" (\", item.severity, \") \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Allergy: ${item.substance}, Severity: ${item.severity}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 89\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          children: [\"Reaction: \", item.reaction]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 7\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Section, {\n      title: \"Immunizations\",\n      items: immunizations,\n      speakTitle: \"Immunization Records\",\n      renderItem: item => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: `p-3 rounded-md ${darkMode ? 'bg-gray-700' : 'bg-white shadow-sm'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium\",\n          children: [item.vaccine, \" \", talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n            textToSpeak: `Vaccine: ${item.vaccine}`,\n            darkMode: darkMode,\n            highContrast: highContrast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 69\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          children: [\"Date: \", item.date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 7\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 5\n  }, this);\n};\n_c0 = MedicalHistoryScreen;\nconst EducationalResourcesScreen = ({\n  accessibilitySettings\n}) => {\n  _s4();\n  const {\n    darkMode,\n    highContrast,\n    talkbackEnabled\n  } = accessibilitySettings;\n  const [searchTerm, setSearchTerm] = useState('');\n  const filteredResources = MOCK_EDUCATIONAL_RESOURCES.filter(res => res.title.toLowerCase().includes(searchTerm.toLowerCase()) || res.category.toLowerCase().includes(searchTerm.toLowerCase()) || res.summary.toLowerCase().includes(searchTerm.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: `text-2xl font-semibold mb-4 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`,\n      children: \"Recursos informativos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 5\n    }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n      textToSpeak: \"Recursos informativos page.\",\n      darkMode: darkMode,\n      highContrast: highContrast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search articles, videos, FAQs...\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value),\n        className: `w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500' : 'border-gray-300 placeholder-gray-500 focus:ring-blue-400'} ${highContrast ? darkMode ? 'border-yellow-400 focus:ring-yellow-300' : 'border-blue-600 focus:ring-blue-500' : ''}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 5\n    }, this), filteredResources.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`,\n      children: \"No resources found matching your search.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: filteredResources.map(resource => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg shadow-md ${darkMode ? 'bg-gray-700' : 'bg-white'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: `text-xs px-2 py-0.5 rounded-full mb-1 inline-block ${darkMode ? 'bg-indigo-600 text-indigo-100' : 'bg-indigo-100 text-indigo-700'}`,\n          children: resource.type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `text-lg font-semibold ${darkMode ? highContrast ? 'text-yellow-300' : 'text-blue-400' : highContrast ? 'text-blue-700' : 'text-blue-600'}`,\n          children: resource.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 9\n        }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n          textToSpeak: `${resource.type}: ${resource.title}`,\n          darkMode: darkMode,\n          highContrast: highContrast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [\"Category: \", resource.category]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `mt-1 text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`,\n          children: resource.summary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `mt-3 text-sm font-medium py-1 px-3 rounded ${darkMode ? highContrast ? 'bg-yellow-400 text-black' : 'bg-blue-500 hover:bg-blue-600 text-white' : highContrast ? 'bg-blue-600 text-white' : 'bg-blue-500 hover:bg-blue-600 text-white'}`,\n          children: \"Read More / Watch\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 9\n        }, this)]\n      }, resource.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 269,\n    columnNumber: 5\n  }, this);\n};\n_s4(EducationalResourcesScreen, \"a1cMJ8t0eYFnsCEdGcHtaGJdbCM=\");\n_c1 = EducationalResourcesScreen;\nconst DoctorFinderScreen = ({\n  accessibilitySettings\n}) => {\n  _s5();\n  const {\n    darkMode,\n    highContrast,\n    talkbackEnabled\n  } = accessibilitySettings;\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filters, setFilters] = useState({\n    specialty: '',\n    insurance: ''\n  });\n  const filteredClinics = MOCK_CLINICS.filter(clinic => (clinic.name.toLowerCase().includes(searchTerm.toLowerCase()) || clinic.address.toLowerCase().includes(searchTerm.toLowerCase())) && (filters.specialty ? clinic.specialties.includes(filters.specialty) : true) && (filters.insurance ? clinic.insurance.includes(filters.insurance) : true));\n  const allSpecialties = [...new Set(MOCK_CLINICS.flatMap(c => c.specialties))];\n  const allInsurances = [...new Set(MOCK_CLINICS.flatMap(c => c.insurance))];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: `text-2xl font-semibold mb-4 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`,\n      children: \"Encuentra un doctor/Clinic\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 5\n    }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n      textToSpeak: \"Encuentra un doctor or Clinic page.\",\n      darkMode: darkMode,\n      highContrast: highContrast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 space-y-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search by name or address...\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value),\n        className: `w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500' : 'border-gray-300 placeholder-gray-500 focus:ring-blue-400'} ${highContrast ? darkMode ? 'border-yellow-400 focus:ring-yellow-300' : 'border-blue-600 focus:ring-blue-500' : ''}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: filters.specialty,\n          onChange: e => setFilters({\n            ...filters,\n            specialty: e.target.value\n          }),\n          className: `w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} ${highContrast ? darkMode ? 'border-yellow-400' : 'border-blue-600' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"All Specialties\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 5\n          }, this), allSpecialties.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: s,\n            children: s\n          }, s, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 30\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filters.insurance,\n          onChange: e => setFilters({\n            ...filters,\n            insurance: e.target.value\n          }),\n          className: `w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} ${highContrast ? darkMode ? 'border-yellow-400' : 'border-blue-600' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"All Insurances\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 5\n          }, this), allInsurances.map(i => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: i,\n            children: i\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 5\n    }, this), filteredClinics.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`,\n      children: \"No doctors or clinics found matching your criteria.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: filteredClinics.map(clinic => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg shadow-md ${darkMode ? 'bg-gray-700' : 'bg-white'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `text-lg font-semibold ${darkMode ? highContrast ? 'text-yellow-300' : 'text-blue-400' : highContrast ? 'text-blue-700' : 'text-blue-600'}`,\n          children: clinic.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 9\n        }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n          textToSpeak: clinic.name,\n          darkMode: darkMode,\n          highContrast: highContrast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            size: 14,\n            className: \"inline mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 82\n          }, this), clinic.address]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [\"Type: \", clinic.type]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [\"Rating: \", clinic.rating, \" / 5\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: `text-xs font-semibold ${darkMode ? 'text-gray-300' : 'text-gray-500'}`,\n            children: \"Specialties:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-1 mt-1\",\n            children: clinic.specialties.map(s => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-xs px-1.5 py-0.5 rounded ${darkMode ? 'bg-indigo-600 text-indigo-100' : 'bg-indigo-100 text-indigo-700'}`,\n              children: s\n            }, s, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 38\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `mt-3 text-sm font-medium py-1 px-3 rounded ${darkMode ? highContrast ? 'bg-yellow-400 text-black' : 'bg-blue-500 hover:bg-blue-600 text-white' : highContrast ? 'bg-blue-600 text-white' : 'bg-blue-500 hover:bg-blue-600 text-white'}`,\n          children: \"View Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 9\n        }, this)]\n      }, clinic.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 321,\n    columnNumber: 5\n  }, this);\n};\n_s5(DoctorFinderScreen, \"ac14mlG0qZcQjpI9XLmXHqJ9J8A=\");\n_c10 = DoctorFinderScreen;\nconst MoreScreen = ({\n  setCurrentPage,\n  accessibilitySettings,\n  handleSignOut,\n  openSettingsModal\n}) => {\n  const {\n    darkMode,\n    highContrast,\n    talkbackEnabled\n  } = accessibilitySettings;\n  const menuItems = [{\n    label: 'Opciones de accesibilidad',\n    action: openSettingsModal,\n    icon: Settings,\n    speak: \"Opciones de accesibilidad\"\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: `text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`,\n      children: \"M\\xE1s opciones\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 5\n    }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n      textToSpeak: \"More options page.\",\n      darkMode: darkMode,\n      highContrast: highContrast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3\",\n      children: [menuItems.map(item => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => item.page ? setCurrentPage(item.page) : item.action(),\n        className: `w-full flex items-center p-4 rounded-lg shadow transition-colors\n        ${darkMode ? highContrast ? 'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900' : 'bg-gray-700 hover:bg-gray-600 text-white' : highContrast ? 'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50' : 'bg-white hover:bg-gray-50 text-gray-700'}\n        `,\n        \"aria-label\": item.label,\n        children: [/*#__PURE__*/_jsxDEV(item.icon, {\n          size: 22,\n          className: `mr-4 ${darkMode ? highContrast ? 'text-yellow-300' : 'text-blue-400' : highContrast ? 'text-blue-600' : 'text-blue-500'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"flex-grow text-left font-medium\",\n          children: item.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ChevronRight, {\n          size: 20,\n          className: `${darkMode ? 'text-gray-400' : 'text-gray-500'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 9\n        }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n          textToSpeak: item.speak || item.label,\n          darkMode: darkMode,\n          highContrast: highContrast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 29\n        }, this)]\n      }, item.label, true, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 7\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSignOut,\n        className: `w-full flex items-center p-4 rounded-lg shadow transition-colors mt-6\n      ${darkMode ? highContrast ? 'bg-red-700 text-black border border-red-400 hover:bg-red-600' : 'bg-red-600 hover:bg-red-500 text-white' : highContrast ? 'bg-red-100 text-red-700 border border-red-700 hover:bg-red-200' : 'bg-red-500 hover:bg-red-600 text-white'}\n      `,\n        \"aria-label\": \"Cerrar Sesi\\xF3n\",\n        children: [/*#__PURE__*/_jsxDEV(LogOut, {\n          size: 22,\n          className: \"mr-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"flex-grow text-left font-medium\",\n          children: \"Cerrar sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 7\n        }, this), talkbackEnabled && /*#__PURE__*/_jsxDEV(SpeakButton, {\n          textToSpeak: \"Sign Out\",\n          darkMode: darkMode,\n          highContrast: highContrast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 381,\n    columnNumber: 5\n  }, this);\n};\n\n// --- MODIFIED: AuthScreen Component ---\n_c11 = MoreScreen;\nconst AuthScreen = ({\n  onLogin,\n  onRegister,\n  showNotification,\n  accessibilitySettings,\n  setAuthView\n}) => {\n  _s6();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  // NEW: State for additional registration fields\n  const [firstName, setFirstName] = useState('');\n  const [middleName, setMiddleName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [secondLastName, setSecondLastName] = useState('');\n  const [rut, setRut] = useState('');\n  const [birthDate, setBirthDate] = useState('');\n  const [address, setAddress] = useState('');\n  const [cellphone, setCellphone] = useState('');\n  const isLoginView = accessibilitySettings.currentAuthView === 'login';\n  const {\n    darkMode,\n    highContrast\n  } = accessibilitySettings;\n  const toggleView = () => {\n    setAuthView(prev => prev === 'login' ? 'register' : 'login');\n  };\n\n  // NEW: Age validation function\n  const isAgeValid = dateString => {\n    if (!dateString) return false;\n    const today = new Date();\n    const dob = new Date(dateString);\n    let age = today.getFullYear() - dob.getFullYear();\n    const monthDiff = today.getMonth() - dob.getMonth();\n    if (monthDiff < 0 || monthDiff === 0 && today.getDate() < dob.getDate()) {\n      age--;\n    }\n    return age >= 13;\n  };\n\n  // Verificación RUT\n  var Fn = {\n    // Valida el rut con su cadena completa \"XXXXXXXX-X\"\n    validaRut: function (rut) {\n      if (!/^[0-9]+[-|‐]{1}[0-9kK]{1}$/.test(rut)) return false;\n      var tmp = rut.split('-');\n      var digv = tmp[1];\n      var rut = tmp[0];\n      if (digv == 'K') digv = 'k';\n      return Fn.dv(rut) == digv;\n    },\n    dv: function (T) {\n      var M = 0,\n        S = 1;\n      for (; T; T = Math.floor(T / 10)) S = (S + T % 10 * (9 - M++ % 6)) % 11;\n      return S ? S - 1 : 'k';\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!email || !password) {\n      showNotification(\"Please enter email and password.\", \"error\");\n      return;\n    }\n    if (isLoginView) {\n      onLogin(email, password);\n    } else {\n      // Registration view\n      // NEW: Validations for registration fields\n      if (!firstName || !lastName || !rut || !birthDate || !address || !cellphone) {\n        showNotification(\"Por favor llene todos los campos solicitados.\", \"error\");\n        return;\n      }\n      if (!isAgeValid(birthDate)) {\n        showNotification(\"Debes tener al menos 13 años para registrarte.\", \"error\");\n        return;\n      }\n      if (!Fn.validaRut(rut)) {\n        showNotification(\"El rut ingresado es incorrecto\", \"error\");\n        return;\n      }\n      if (!/^\\+?[0-9\\s-()]+$/.test(cellphone)) {\n        // Basic phone validation\n        showNotification(\"Por favor ingrese un número de celular válido.\", \"error\");\n        return;\n      }\n      const profileData = {\n        firstName,\n        middleName,\n        lastName,\n        secondLastName,\n        rut,\n        // Store K as uppercase\n        birthDate,\n        address,\n        cellphone,\n        email // also store email in profile\n      };\n      onRegister(email, password, profileData);\n    }\n  };\n  const inputBaseClass = `appearance-none block w-full pl-10 pr-3 py-2.5 border rounded-md placeholder-gray-400 focus:outline-none sm:text-sm`;\n  const inputDarkClass = `bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500`;\n  const inputLightClass = `border-gray-300 focus:ring-blue-500 focus:border-blue-500`;\n  const inputHighContrastDark = `border-yellow-400 focus:ring-yellow-300`;\n  const inputHighContrastLight = `border-blue-600 focus:ring-blue-500`;\n  const getInputClass = () => `${inputBaseClass} ${darkMode ? inputDarkClass : inputLightClass} ${highContrast ? darkMode ? inputHighContrastDark : inputHighContrastLight : ''}`;\n  const renderInputField = (id, type, value, setter, placeholder, IconComponent, label, required = false, pattern = undefined, title = undefined) => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: id,\n      className: `block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200' : ''}`,\n      children: [label, \" \", required && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-red-500\",\n        children: \"*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 520,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-1 relative rounded-md shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n        children: /*#__PURE__*/_jsxDEV(IconComponent, {\n          size: 16,\n          className: darkMode ? \"text-gray-400\" : \"text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: id,\n        name: id,\n        type: type,\n        value: value,\n        onChange: e => setter(e.target.value),\n        placeholder: placeholder,\n        required: required,\n        pattern: pattern,\n        title: title,\n        className: getInputClass()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 519,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen flex flex-col items-center justify-center p-4 ${darkMode ? 'bg-gray-900 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border-2 border-yellow-400' : ''} ${highContrast && !darkMode ? 'border-2 border-blue-700' : ''}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `w-full max-w-md p-8 rounded-xl shadow-2xl ${darkMode ? highContrast ? 'bg-black border border-yellow-400' : 'bg-gray-800' : highContrast ? 'bg-white border-2 border-blue-600' : 'bg-white'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center mb-6\",\n        children: /*#__PURE__*/_jsxDEV(ShieldCheck, {\n          size: 48,\n          className: darkMode ? highContrast ? \"text-yellow-400\" : \"text-blue-500\" : highContrast ? \"text-blue-600\" : \"text-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: `text-2xl font-bold text-center mb-6 ${darkMode ? highContrast ? 'text-yellow-300' : 'text-white' : highContrast ? 'text-blue-700' : 'text-gray-900'}`,\n        children: isLoginView ? \"Ingrese a MedCare Senior\" : \"Formulario de registro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [\" \", renderInputField(\"email\", \"email\", email, setEmail, \"correo@ejemplo.cl\", Mail, \"Correo electrónico\", true), renderInputField(\"password\", \"password\", password, setPassword, \"••••••••\", KeyRound, \"Contraseña\", true), !isLoginView && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [renderInputField(\"firstName\", \"text\", firstName, setFirstName, \"Nombre\", User, \"Nombre\", true), renderInputField(\"middleName\", \"text\", middleName, setMiddleName, \"Opcional\", User, \"Segundo nombre\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [renderInputField(\"lastName\", \"text\", lastName, setLastName, \"Apellido\", User, \"Apellido paterno\", true), renderInputField(\"secondLastName\", \"text\", secondLastName, setSecondLastName, \"Opcional\", User, \"Apellido materno\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: renderInputField(\"rut\", \"text\", rut, setRut, \"RUT\", Hash, \"RUT\", true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 7\n          }, this), renderInputField(\"birthDate\", \"date\", birthDate, setBirthDate, \"\", CalendarDays, \"Fecha de nacimiento\", true), renderInputField(\"address\", \"text\", address, setAddress, \"Dirección\", MapPinned, \"Dirección de residencia\", true), renderInputField(\"cellphone\", \"tel\", cellphone, setCellphone, \"+56912345678\", Phone, \"Teléfono celular\", true)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: `w-full flex justify-center mt-2 py-2.5 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white\n      ${darkMode ? highContrast ? 'bg-yellow-500 hover:bg-yellow-600 text-black focus:ring-yellow-400' : 'bg-blue-600 hover:bg-blue-700 focus:ring-blue-500' : highContrast ? 'bg-blue-700 hover:bg-blue-800 focus:ring-blue-600' : 'bg-blue-600 hover:bg-blue-700 focus:ring-blue-500'}\n      focus:outline-none focus:ring-2 focus:ring-offset-2\n      ${darkMode && highContrast ? 'focus:ring-offset-black' : darkMode ? 'focus:ring-offset-gray-800' : highContrast ? 'focus:ring-offset-white' : 'focus:ring-offset-gray-100'}`,\n            children: isLoginView ? \"Ingresar\" : \"Crear cuenta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleView,\n          className: `text-sm font-medium\n        ${darkMode ? highContrast ? 'text-yellow-300 hover:text-yellow-200' : 'text-blue-400 hover:text-blue-300' : highContrast ? 'text-blue-600 hover:text-blue-500' : 'text-blue-600 hover:text-blue-500'}`,\n          children: isLoginView ? \"¿No se encuentra registrado?\\nRegístrese\" : \"¿Ya tiene una cuenta?\\nIngrese\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 536,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Main App Component ---\n_s6(AuthScreen, \"qJ6NJ4busiSftZod0AcfhOu46Eg=\");\n_c12 = AuthScreen;\nconst App = () => {\n  _s7();\n  const [currentPage, setCurrentPage] = useState('home');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [userName, setUserName] = useState(''); // This will now store the full name\n  const [notification, setNotification] = useState({\n    message: '',\n    type: ''\n  });\n  const [isSettingsModalOpen, setIsSettingsModalOpen] = useState(false);\n  const [authView, setAuthView] = useState('login');\n  const [accessibilitySettings, setAccessibilitySettings] = useState({\n    fontSize: 'text-base',\n    highContrast: false,\n    darkMode: false,\n    talkbackEnabled: false,\n    currentAuthView: 'login'\n  });\n  useEffect(() => {\n    setAccessibilitySettings(prev => ({\n      ...prev,\n      currentAuthView: authView\n    }));\n  }, [authView]);\n  useEffect(() => {\n    const savedSettings = localStorage.getItem('medicAssistAccessibilitySettings');\n    if (savedSettings) {\n      setAccessibilitySettings(prev => ({\n        ...prev,\n        ...JSON.parse(savedSettings)\n      }));\n    }\n  }, []);\n  useEffect(() => {\n    const {\n      currentAuthView,\n      ...settingsToSave\n    } = accessibilitySettings;\n    localStorage.setItem('medicAssistAccessibilitySettings', JSON.stringify(settingsToSave));\n    if (accessibilitySettings.darkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [accessibilitySettings]);\n  const updateAccessibilitySetting = (key, value) => {\n    setAccessibilitySettings(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n  const showNotification = useCallback((message, type = 'info', duration = 3000) => {\n    setNotification({\n      message,\n      type\n    });\n    setTimeout(() => setNotification({\n      message: '',\n      type: ''\n    }), duration);\n  }, []);\n\n  // MODIFIED: onAuthStateChanged listener\n  useEffect(() => {\n    if (!auth) {\n      console.warn(\"Firebase Auth is not initialized.\");\n      setIsAuthReady(true);\n      setAuthView('login');\n      return;\n    }\n    const unsubscribe = onAuthStateChanged(auth, async user => {\n      // Made async\n      if (user) {\n        setCurrentUser(user);\n        // Fetch full user profile from Firestore\n        if (db) {\n          const userDocRef = doc(db, \"users\", user.uid);\n          try {\n            const userDocSnap = await getDoc(userDocRef);\n            if (userDocSnap.exists()) {\n              const userData = userDocSnap.data();\n              // Construct full name\n              const fullName = [userData.firstName, userData.middleName, userData.lastName, userData.secondLastName].filter(Boolean) // Remove empty/null parts\n              .join(\" \");\n              setUserName(fullName || user.email || `User-${user.uid.substring(0, 5)}`);\n            } else {\n              // If no Firestore doc, use displayName from auth (set during registration) or email\n              setUserName(user.displayName || user.email || `User-${user.uid.substring(0, 5)}`);\n            }\n          } catch (error) {\n            console.error(\"Error fetching user data from Firestore:\", error);\n            setUserName(user.displayName || user.email || `User-${user.uid.substring(0, 5)}`); // Fallback\n          }\n        } else {\n          // Fallback if db is not available\n          setUserName(user.displayName || user.email || `User-${user.uid.substring(0, 5)}`);\n        }\n        setAuthView('app');\n        setCurrentPage('home');\n      } else {\n        setCurrentUser(null);\n        setUserName('');\n        setAuthView('login');\n      }\n      setIsAuthReady(true);\n    });\n    return () => unsubscribe();\n  }, [showNotification]); // db is also a dependency if used directly here, but it's from import.\n\n  // MODIFIED: handleRegister to accept profileData\n  const handleRegister = async (email, password, profileData) => {\n    if (!auth) {\n      showNotification(\"Authentication service not available.\", \"error\");\n      return;\n    }\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n      const user = userCredential.user;\n\n      // Construct full name for displayName\n      const displayName = [profileData.firstName, profileData.lastName].filter(Boolean).join(\" \");\n\n      // Update Firebase Auth profile\n      await updateProfile(user, {\n        displayName: displayName\n      });\n\n      // Store additional profile data in Firestore\n      if (db) {\n        await setDoc(doc(db, \"users\", user.uid), {\n          ...profileData,\n          // Includes all fields from form\n          createdAt: new Date().toISOString() // Add a creation timestamp\n        });\n      }\n      showNotification(\"Resgistro exitoso!\", \"success\");\n      // onAuthStateChanged will handle setting the user, full name, and view\n    } catch (error) {\n      console.error(\"Error en el registro:\", error);\n      const errorCode = error.code;\n      let friendlyMessage = \"Registro fallido. Por favor intente nuevamente.\";\n      if (errorCode === 'auth/email-already-in-use') {\n        friendlyMessage = 'Este correo ya se encuentra registrado. Ingrese o intente con otro correo.';\n      } else if (errorCode === 'auth/weak-password') {\n        friendlyMessage = 'La contraseña debe contener al menos 6 caracteres.';\n      } else if (error.message) {\n        friendlyMessage = error.message;\n      }\n      showNotification(friendlyMessage, \"error\");\n    }\n  };\n  const handleLogin = async (email, password) => {\n    if (!auth) {\n      showNotification(\"Servicio de autenticación no disponible.\", \"error\");\n      return;\n    }\n    try {\n      await signInWithEmailAndPassword(auth, email, password);\n      showNotification(\"¡Ingreso exitoso!\", \"success\");\n      // onAuthStateChanged will handle setting the user, full name, and view\n    } catch (error) {\n      console.error(\"Error during login:\", error);\n      const errorCode = error.code;\n      let friendlyMessage = \"Ingreso fallido. Revise sus credenciales.\";\n      if (errorCode === 'auth/user-not-found' || errorCode === 'auth/wrong-password' || errorCode === 'auth/invalid-credential') {\n        friendlyMessage = 'Correo o contraseña incorrectos. Por favor intente nuevamente.';\n      } else if (error.message) {\n        friendlyMessage = error.message;\n      }\n      showNotification(friendlyMessage, \"error\");\n    }\n  };\n  const handleSignOut = async () => {\n    if (!auth) {\n      showNotification(\"Servicio de autenticación no disponible.\", \"error\");\n      return;\n    }\n    try {\n      await signOut(auth);\n      setCurrentPage('home');\n      showNotification(\"Cierre de sesión exitoso.\", \"success\");\n    } catch (error) {\n      console.error(\"Error cerrando sesión:\", error);\n      showNotification(\"Error cerrando sesión.\", \"error\");\n    }\n  };\n  const renderPage = () => {\n    const userId = currentUser ? currentUser.uid : null;\n    if (!userId && authView === 'app') {\n      // Should not happen if logic is correct, but as a safe guard\n      setAuthView('login');\n      return null;\n    }\n    const commonProps = {\n      userId,\n      showNotification,\n      accessibilitySettings,\n      setCurrentPage\n    };\n    switch (currentPage) {\n      case 'home':\n        return /*#__PURE__*/_jsxDEV(HomeScreen, {\n          userName: userName,\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 27\n        }, this);\n      // userName is now the full name\n      case 'myAppointments':\n        return /*#__PURE__*/_jsxDEV(AppointmentsScreen, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 37\n        }, this);\n      case 'chat':\n        return /*#__PURE__*/_jsxDEV(ChatScreen, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 27\n        }, this);\n      case 'prescriptions':\n        return /*#__PURE__*/_jsxDEV(PrescriptionsScreen, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 746,\n          columnNumber: 36\n        }, this);\n      case 'labResults':\n        return /*#__PURE__*/_jsxDEV(LabResultsScreen, {\n          ...commonProps,\n          userId: userId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 33\n        }, this);\n      case 'medicalHistory':\n        return /*#__PURE__*/_jsxDEV(MedicalHistoryScreen, {\n          ...commonProps,\n          userId: userId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 748,\n          columnNumber: 37\n        }, this);\n      case 'educationalResources':\n        return /*#__PURE__*/_jsxDEV(EducationalResourcesScreen, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 749,\n          columnNumber: 43\n        }, this);\n      case 'doctorFinder':\n        return /*#__PURE__*/_jsxDEV(DoctorFinderScreen, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 750,\n          columnNumber: 35\n        }, this);\n      case 'more':\n        return /*#__PURE__*/_jsxDEV(MoreScreen, {\n          handleSignOut: handleSignOut,\n          openSettingsModal: () => setIsSettingsModalOpen(true),\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 751,\n          columnNumber: 27\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(HomeScreen, {\n          userName: userName,\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 752,\n          columnNumber: 23\n        }, this);\n    }\n  };\n  const NavItem = ({\n    page,\n    label,\n    icon: IconComponent\n  }) => /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => setCurrentPage(page),\n    className: `flex flex-col items-center justify-center p-2 w-full transition-colors duration-200 ease-in-out ${accessibilitySettings.fontSize} ${currentPage === page ? accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'text-yellow-300' : 'text-blue-400' : accessibilitySettings.highContrast ? 'text-blue-700 font-bold' : 'text-blue-500' : accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'text-gray-400 hover:text-yellow-200' : 'text-gray-400 hover:text-blue-300' : accessibilitySettings.highContrast ? 'text-gray-600 hover:text-blue-600' : 'text-gray-500 hover:text-blue-400'} `,\n    children: [/*#__PURE__*/_jsxDEV(IconComponent, {\n      size: 24,\n      strokeWidth: currentPage === page ? 2.5 : 2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 758,\n      columnNumber: 5\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-xs mt-1\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 758,\n      columnNumber: 78\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 757,\n    columnNumber: 5\n  }, this);\n  let appClasses = `font-sans antialiased flex flex-col min-h-screen transition-colors duration-300 ${accessibilitySettings.fontSize}`;\n  if (accessibilitySettings.darkMode) {\n    appClasses += accessibilitySettings.highContrast ? ' bg-black text-yellow-300' : ' bg-gray-900 text-gray-200';\n  } else {\n    appClasses += accessibilitySettings.highContrast ? ' bg-white text-black border-2 border-blue-900' : ' bg-gray-100 text-gray-800';\n  }\n  if (!isAuthReady) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex justify-center items-center h-screen ${accessibilitySettings.fontSize} ${accessibilitySettings.darkMode ? 'bg-gray-900 text-white' : 'bg-gray-100 text-black'}`,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Initializing App...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 769,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 768,\n      columnNumber: 7\n    }, this);\n  }\n  if (!currentUser) {\n    // Or check authView !== 'app'\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Notification, {\n        message: notification.message,\n        type: notification.type,\n        onDismiss: () => setNotification({\n          message: '',\n          type: ''\n        }),\n        darkMode: accessibilitySettings.darkMode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 777,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(AuthScreen, {\n        onLogin: handleLogin,\n        onRegister: handleRegister,\n        showNotification: showNotification,\n        accessibilitySettings: accessibilitySettings,\n        setAuthView: setAuthView\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 778,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: appClasses,\n    children: [/*#__PURE__*/_jsxDEV(Notification, {\n      message: notification.message,\n      type: notification.type,\n      onDismiss: () => setNotification({\n        message: '',\n        type: ''\n      }),\n      darkMode: accessibilitySettings.darkMode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 791,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: `p-4 shadow-md flex justify-between items-center sticky top-0 z-40 ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'bg-black text-yellow-300 border-b-2 border-yellow-400' : 'bg-gray-800 text-white' : accessibilitySettings.highContrast ? 'bg-white text-blue-700 border-b-2 border-blue-700' : 'bg-blue-600 text-white'} `,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-semibold\",\n        children: \"MedCare Senior\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 793,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [currentUser && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm hidden sm:inline\",\n          children: userName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsSettingsModalOpen(true),\n          \"aria-label\": \"Open accessibility settings\",\n          className: `p-2 rounded-md ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'hover:bg-yellow-700 text-yellow-300' : 'hover:bg-gray-700 text-gray-300' : accessibilitySettings.highContrast ? 'hover:bg-blue-200 text-blue-700' : 'hover:bg-blue-700 text-blue-100'} `,\n          children: /*#__PURE__*/_jsxDEV(Settings, {\n            size: 22\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 797,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 796,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 794,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 792,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-grow overflow-y-auto\",\n      children: [\" \", renderPage(), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 801,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: `fixed bottom-0 left-0 right-0 border-t shadow-t-md flex justify-around items-center h-16 z-40 ${accessibilitySettings.darkMode ? accessibilitySettings.highContrast ? 'bg-black border-t-yellow-400' : 'bg-gray-800 border-gray-700' : accessibilitySettings.highContrast ? 'bg-white border-t-blue-700' : 'bg-white border-gray-200'} `,\n      children: [/*#__PURE__*/_jsxDEV(NavItem, {\n        page: \"home\",\n        label: \"Inicio\",\n        icon: Home\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 803,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n        page: \"myAppointments\",\n        label: \"Citas\",\n        icon: CalendarPlus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n        page: \"chat\",\n        label: \"Chat\",\n        icon: MessageSquare\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 805,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n        page: \"more\",\n        label: \"M\\xE1s\",\n        icon: Menu\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 806,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 802,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-16\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 808,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(AccessibilitySettingsModal, {\n      isOpen: isSettingsModalOpen,\n      onClose: () => setIsSettingsModalOpen(false),\n      settings: accessibilitySettings,\n      updateSettings: updateAccessibilitySetting,\n      darkMode: accessibilitySettings.darkMode,\n      highContrast: accessibilitySettings.highContrast,\n      fontSizeClass: accessibilitySettings.fontSize\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 809,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 790,\n    columnNumber: 5\n  }, this);\n};\n_s7(App, \"Uy6xRNkCFa2JY9rpHi7Vu/6Keew=\");\n_c13 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13;\n$RefreshReg$(_c, \"Modal\");\n$RefreshReg$(_c2, \"Notification\");\n$RefreshReg$(_c3, \"SpeakButton\");\n$RefreshReg$(_c4, \"AccessibilitySettingsModal\");\n$RefreshReg$(_c5, \"HomeScreen\");\n$RefreshReg$(_c6, \"AppointmentsScreen\");\n$RefreshReg$(_c7, \"ChatScreen\");\n$RefreshReg$(_c8, \"PrescriptionsScreen\");\n$RefreshReg$(_c9, \"LabResultsScreen\");\n$RefreshReg$(_c0, \"MedicalHistoryScreen\");\n$RefreshReg$(_c1, \"EducationalResourcesScreen\");\n$RefreshReg$(_c10, \"DoctorFinderScreen\");\n$RefreshReg$(_c11, \"MoreScreen\");\n$RefreshReg$(_c12, \"AuthScreen\");\n$RefreshReg$(_c13, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","createUserWithEmailAndPassword","signInWithEmailAndPassword","onAuthStateChanged","signOut","updateProfile","collection","addDoc","doc","updateDoc","updateFirestoreDoc","onSnapshot","query","setDoc","getDoc","Home","CalendarPlus","MessageSquare","ListChecks","UserCircle","XCircle","Send","PlusCircle","Trash2","LogOut","CheckCircle","AlertTriangle","Info","Settings","Volume2","Eye","Moon","Sun","ZoomIn","ZoomOut","FileText","Activity","BookOpen","Search","MapPin","Menu","ChevronRight","ShieldCheck","FileBarChart2","Stethoscope","School","Mail","KeyRound","User","Hash","CalendarDays","MapPinned","Phone","auth","db","customAppId","MOCK_PRESCRIPTIONS","MOCK_DOCTORS","MOCK_LAB_RESULTS","MOCK_MEDICAL_HISTORY","MOCK_EDUCATIONAL_RESOURCES","MOCK_CLINICS","jsxDEV","_jsxDEV","Fragment","_Fragment","Modal","isOpen","onClose","title","children","darkMode","highContrast","fontSizeClass","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","_c","Notification","message","type","onDismiss","bgColor","Icon","_c2","SpeakButton","textToSpeak","handleSpeak","e","stopPropagation","window","utterance","SpeechSynthesisUtterance","speechSynthesis","cancel","speak","console","warn","substring","_c3","AccessibilitySettingsModal","settings","updateSettings","fontSize","hc","dm","talkbackEnabled","fontSizes","label","value","map","fs","_c4","HomeScreen","setCurrentPage","userName","userId","accessibilitySettings","welcomeMessage","commonButtonClass","quickLinks","page","icon","item","_c5","AppointmentsScreen","showNotification","_s","_MOCK_DOCTORS$","appointments","setAppointments","isLoading","setIsLoading","isModalOpen","setIsModalOpen","confirmCancelModal","setConfirmCancelModal","appointmentId","doctor","setDoctor","id","date","setDate","time","setTime","reason","setReason","appointmentsCollectionPath","q","unsubscribe","querySnapshot","userAppointments","forEach","push","data","sort","a","b","Date","error","handleMakeAppointment","_MOCK_DOCTORS$find","preventDefault","newAppointment","find","d","name","status","createdAt","toISOString","_MOCK_DOCTORS$2","confirmCancel","executeCancelAppointment","appointmentRef","length","apt","onSubmit","field","htmlFor","charAt","toUpperCase","slice","replace","onChange","target","rows","placeholder","min","split","undefined","_c6","ChatScreen","_s2","_MOCK_DOCTORS$3","messages","setMessages","text","sender","toLocaleTimeString","hour","minute","newMessage","setNewMessage","selectedDoctor","setSelectedDoctor","messagesEndRef","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","prev","messageData","doctorId","prevMessages","setTimeout","msg","ref","_c7","PrescriptionsScreen","_s3","prescriptions","setPrescriptions","rx","dosage","notes","_c8","LabResultsScreen","result","testName","summary","_c9","MedicalHistoryScreen","diagnoses","allergies","immunizations","Section","items","renderItem","speakTitle","toLowerCase","condition","substance","severity","reaction","vaccine","_c0","EducationalResourcesScreen","_s4","searchTerm","setSearchTerm","filteredResources","filter","res","includes","category","resource","_c1","DoctorFinderScreen","_s5","filters","setFilters","specialty","insurance","filteredClinics","clinic","address","specialties","allSpecialties","Set","flatMap","c","allInsurances","s","i","rating","_c10","MoreScreen","handleSignOut","openSettingsModal","menuItems","action","_c11","AuthScreen","onLogin","onRegister","setAuthView","_s6","email","setEmail","password","setPassword","firstName","setFirstName","middleName","setMiddleName","lastName","setLastName","secondLastName","setSecondLastName","rut","setRut","birthDate","setBirthDate","setAddress","cellphone","setCellphone","isLoginView","currentAuthView","toggleView","isAgeValid","dateString","today","dob","age","getFullYear","monthDiff","getMonth","getDate","Fn","validaRut","test","tmp","digv","dv","T","M","S","Math","floor","handleSubmit","profileData","inputBaseClass","inputDarkClass","inputLightClass","inputHighContrastDark","inputHighContrastLight","getInputClass","renderInputField","setter","IconComponent","required","pattern","_c12","App","_s7","currentPage","currentUser","setCurrentUser","isAuthReady","setIsAuthReady","setUserName","notification","setNotification","isSettingsModalOpen","setIsSettingsModalOpen","authView","setAccessibilitySettings","savedSettings","localStorage","getItem","JSON","parse","settingsToSave","setItem","stringify","document","documentElement","classList","add","remove","updateAccessibilitySetting","key","duration","user","userDocRef","uid","userDocSnap","exists","userData","fullName","Boolean","join","displayName","handleRegister","userCredential","errorCode","code","friendlyMessage","handleLogin","renderPage","commonProps","NavItem","strokeWidth","appClasses","_c13","$RefreshReg$"],"sources":["/home/diego/ExpoApp/my-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport {\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut,\n  updateProfile // NEW: Import updateProfile\n} from 'firebase/auth';\n// NEW: Import setDoc and getDoc\nimport { collection, addDoc, doc, updateDoc as updateFirestoreDoc, onSnapshot, query, setDoc, getDoc } from 'firebase/firestore';\nimport { Home, CalendarPlus, MessageSquare, ListChecks, UserCircle, XCircle, Send, PlusCircle, Trash2, LogOut, CheckCircle, AlertTriangle, Info, Settings, Volume2, Eye, Moon, Sun, ZoomIn, ZoomOut, FileText, Activity, BookOpen, Search, MapPin, Menu, ChevronRight, ShieldCheck, FileBarChart2, Stethoscope, School, Mail, KeyRound, User, Hash, CalendarDays, MapPinned, Phone } from 'lucide-react';\n\nimport { auth, db, customAppId } from './firebaseConfig.js';\nimport {\n  MOCK_PRESCRIPTIONS, MOCK_DOCTORS, MOCK_LAB_RESULTS, MOCK_MEDICAL_HISTORY, MOCK_EDUCATIONAL_RESOURCES, MOCK_CLINICS\n} from './mockData.js';\n\n// --- Helper Components (Modal, Notification, SpeakButton, AccessibilitySettingsModal) ---\n// ... (These components remain unchanged) ...\nconst Modal = ({ isOpen, onClose, title, children, darkMode, highContrast, fontSizeClass }) => {\n  if (!isOpen) return null;\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n    <div className={`rounded-lg shadow-xl p-6 w-full max-w-md ${fontSizeClass} ${darkMode ? 'bg-gray-800 text-white' : 'bg-white text-gray-800'} ${highContrast ? (darkMode ? 'border-2 border-yellow-400' : 'border-2 border-blue-600') : ''}`}>\n    <div className=\"flex justify-between items-center mb-4\">\n    <h3 className={`text-xl font-semibold ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : (darkMode ? 'text-white' : 'text-gray-800')}`}>{title}</h3>\n    <button onClick={onClose} className={`${darkMode ? 'text-gray-300 hover:text-white' : 'text-gray-500 hover:text-gray-700'}`}> <XCircle size={24} /> </button>\n    </div>\n    <div>{children}</div>\n    </div>\n    </div>\n  );\n};\n\nconst Notification = ({ message, type, onDismiss, darkMode }) => {\n  if (!message) return null;\n  let bgColor; if (darkMode) { bgColor = type === 'success' ? 'bg-green-700' : type === 'error' ? 'bg-red-700' : 'bg-blue-700'; } else { bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500'; }\n  const Icon = type === 'success' ? CheckCircle : type === 'error' ? AlertTriangle : Info;\n  return ( <div className={`fixed top-4 right-4 ${bgColor} text-white p-4 rounded-lg shadow-md flex items-center z-[100]`}> <Icon size={24} className=\"mr-3\" /> <span>{message}</span> {onDismiss && ( <button onClick={onDismiss} className=\"ml-4 text-white hover:text-gray-200\"> <XCircle size={20} /> </button> )} </div> );\n};\n\nconst SpeakButton = ({ textToSpeak, darkMode, highContrast }) => {\n  const handleSpeak = (e) => { e.stopPropagation(); if ('speechSynthesis' in window && textToSpeak) { const utterance = new SpeechSynthesisUtterance(textToSpeak); window.speechSynthesis.cancel(); window.speechSynthesis.speak(utterance); } else { console.warn(\"Speech synthesis not supported or no text to speak.\"); } };\n  return ( <button onClick={handleSpeak} aria-label={`Speak: ${textToSpeak.substring(0,30)}...`} title=\"Read aloud\" className={`ml-2 p-1 rounded ${darkMode ? (highContrast ? 'bg-yellow-500 text-black' : 'bg-gray-600 hover:bg-gray-500') : (highContrast ? 'bg-blue-500 text-white' : 'bg-gray-200 hover:bg-gray-300') }`}> <Volume2 size={16} /> </button> );\n};\n\nconst AccessibilitySettingsModal = ({ isOpen, onClose, settings, updateSettings, darkMode, highContrast, fontSizeClass }) => {\n  const { fontSize, highContrast: hc, darkMode: dm, talkbackEnabled } = settings;\n  const fontSizes = [ { label: 'Normal', value: 'text-base' }, { label: 'Grande', value: 'text-lg' }, { label: 'Extra Grande', value: 'text-xl' }, ];\n  return ( <Modal isOpen={isOpen} onClose={onClose} title=\"Opciones de accesibilidad\" darkMode={darkMode} highContrast={highContrast} fontSizeClass={fontSizeClass}> <div className=\"space-y-6\"> <div> <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Tamaño de letra</h4> <div className=\"flex space-x-2\"> {fontSizes.map(fs => ( <button key={fs.value} onClick={() => updateSettings('fontSize', fs.value)} className={`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${fontSize === fs.value ? (darkMode ? 'bg-blue-500 text-white' : 'bg-blue-600 text-white') : (darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700')} ${highContrast && fontSize === fs.value ? (darkMode ? 'border-2 border-yellow-400' : 'border-2 border-blue-800') : ''} ${highContrast && fontSize !== fs.value ? (darkMode ? 'border border-gray-500' : 'border border-gray-400') : ''} `}> {fs.label} </button> ))} </div> </div> <div> <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Tema</h4> <button onClick={() => updateSettings('darkMode', !dm)} className={`w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${dm ? (highContrast ? 'bg-gray-900 text-yellow-300 border-2 border-yellow-400' : 'bg-gray-700 text-white') : (highContrast ? 'bg-white text-blue-700 border-2 border-blue-700' : 'bg-gray-200 text-black')} hover:${dm ? (highContrast ? 'bg-gray-800' : 'bg-gray-600') : (highContrast ? 'bg-gray-100' : 'bg-gray-300')} `}> {dm ? <Sun size={18} className=\"mr-2\" /> : <Moon size={18} className=\"mr-2\" />} {dm ? 'Cambiar a Modo Claro' : 'Cambiar a Modo Oscuro'} </button> </div> <div> <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Contraste</h4> <button onClick={() => updateSettings('highContrast', !hc)} className={`w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${hc ? (darkMode ? 'bg-yellow-400 text-black' : 'bg-blue-600 text-white') : (darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700')} ${highContrast && hc ? (darkMode ? 'border-2 border-white': 'border-2 border-black') : ''} `}> <Eye size={18} className=\"mr-2\" /> {hc ? 'Deshabilitar Alto Contraste' : 'Habilitar Alto Contraste'} </button> </div> <div> <h4 className={`font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Leer en voz alta (Simulación de TalkBack)</h4> <button onClick={() => updateSettings('talkbackEnabled', !talkbackEnabled)} className={`w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${talkbackEnabled ? (darkMode ? 'bg-green-600 text-white' : 'bg-green-500 text-white') : (darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700')} ${highContrast && talkbackEnabled ? (darkMode ? 'border-2 border-white': 'border-2 border-black') : ''} `}> <Volume2 size={18} className=\"mr-2\" /> {talkbackEnabled ? 'Deshabilitar Leer en Voz Alta' : 'Habilitar Leer en Voz Alta'} </button> {talkbackEnabled && <p className={`mt-2 text-xs ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>When enabled, look for <Volume2 size={12} className=\"inline\" /> icons to have text read aloud.</p>} </div> </div> </Modal> );\n};\n\n// --- Screen Components (HomeScreen, AppointmentsScreen, etc.) ---\n// ... ( Largely unchanged, HomeScreen will display the updated userName ) ...\nconst HomeScreen = ({ setCurrentPage, userName, userId, accessibilitySettings }) => {\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  // MODIFIED: Welcome message to use potentially full name\n  const welcomeMessage = `Bienvenido, ${userName || 'User'}!`;\n  const commonButtonClass = `p-4 rounded-lg shadow-md transition-all flex flex-col items-center justify-center aspect-square\n  ${darkMode\n    ? (highContrast ? 'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900' : 'bg-gray-700 text-indigo-300 hover:bg-gray-600')\n    : (highContrast ? 'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50' : 'bg-white text-blue-600 hover:bg-blue-50')}\n    `;\n\n    const quickLinks = [\n      { page: 'myAppointments', label: 'Mis citas', icon: CalendarPlus, speak: \"Mis citas.\" },\n      { page: 'chat', label: 'Habla con un doctor', icon: MessageSquare, speak: \"Habla con un doctor.\" },\n      { page: 'prescriptions', label: 'Mis recetas', icon: FileText, speak: \"Mis recetas.\" },\n      { page: 'labResults', label: 'Resultados de laboratorio', icon: FileBarChart2, speak: \"Resultados de laboratorio.\" },\n      { page: 'medicalHistory', label: 'Historial médico', icon: Activity, speak: \"Historial médico.\" },\n      { page: 'doctorFinder', label: 'Busca un doctor', icon: Stethoscope, speak: \"Busca un doctor.\" },\n      { page: 'educationalResources', label: 'Recursos informativos', icon: School, speak: \"Recursos informativos.\" }\n    ];\n\n    return (\n      <div className={`p-6 min-h-[calc(100vh-4rem)] flex flex-col items-center transition-colors duration-300\n        ${darkMode ? 'bg-gradient-to-br from-gray-800 to-gray-900 text-white' : 'bg-gradient-to-br from-blue-500 to-indigo-600 text-white'}\n        ${highContrast && darkMode ? 'border-2 border-yellow-400' : ''}\n        ${highContrast && !darkMode ? 'bg-white text-black border-2 border-blue-700' : ''}\n        `}>\n        <UserCircle size={60} className={`mb-3 ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-indigo-300') : (highContrast ? 'text-blue-700' : 'text-indigo-200')}`} />\n        <h1 className={`text-2xl font-bold mb-1 ${highContrast && !darkMode ? 'text-black' : ''}`}>{welcomeMessage}</h1>\n        {talkbackEnabled && <SpeakButton textToSpeak={welcomeMessage} darkMode={darkMode} highContrast={highContrast} />}\n\n        <p className={`mb-5 text-center text-sm ${darkMode ? (highContrast ? 'text-yellow-200' : 'text-indigo-100') : (highContrast ? 'text-gray-700' : 'text-indigo-100')}`}>¿Cómo podemos ayudarte hoy?</p>\n        {talkbackEnabled && <SpeakButton textToSpeak=\"¿Cómo podemos ayudarte hoy?\" darkMode={darkMode} highContrast={highContrast} />}\n\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3 w-full max-w-lg\">\n        {quickLinks.map(item => (\n          <button\n          key={item.page}\n          onClick={() => setCurrentPage(item.page)}\n          className={commonButtonClass}\n          aria-label={item.label}\n          >\n          <item.icon size={28} className=\"mb-1.5\" />\n          <span className=\"font-semibold text-center text-sm\">{item.label}</span>\n          {talkbackEnabled && <SpeakButton textToSpeak={item.speak || item.label} darkMode={darkMode} highContrast={highContrast} />}\n          </button>\n        ))}\n        </div>\n        </div>\n    );\n};\n\nconst AppointmentsScreen = ({ userId, showNotification, accessibilitySettings }) => {\n  const [appointments, setAppointments] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [confirmCancelModal, setConfirmCancelModal] = useState({ isOpen: false, appointmentId: null });\n  const [doctor, setDoctor] = useState(MOCK_DOCTORS[0]?.id || '');\n  const [date, setDate] = useState('');\n  const [time, setTime] = useState('');\n  const [reason, setReason] = useState('');\n  const appointmentsCollectionPath = `artifacts/${customAppId}/users/${userId}/appointments`;\n\n\n  useEffect(() => {\n    if (!db || !userId) {\n      setAppointments([]); // No mock data if not logged in/db not available for this screen\n      setIsLoading(false); return;\n    }\n    setIsLoading(true);\n    const q = query(collection(db, appointmentsCollectionPath));\n    const unsubscribe = onSnapshot(q, (querySnapshot) => {\n      const userAppointments = []; querySnapshot.forEach((doc) => { userAppointments.push({ id: doc.id, ...doc.data() }); });\n      userAppointments.sort((a, b) => new Date(`${a.date} ${a.time}`) - new Date(`${b.date} ${b.time}`));\n      setAppointments(userAppointments); setIsLoading(false);\n    }, (error) => { console.error(\"Error fetching appointments: \", error); showNotification(\"Error cargando citas.\", \"error\"); setIsLoading(false); });\n    return () => unsubscribe();\n  }, [userId, showNotification, appointmentsCollectionPath]);\n\n  const handleMakeAppointment = async (e) => {\n    e.preventDefault(); if (!db || !userId) { showNotification(\"Database not available. Please login.\", \"error\"); return; }\n    if (!doctor || !date || !time || !reason) { showNotification(\"Please fill all fields.\", \"error\"); return; }\n    const newAppointment = { doctor: MOCK_DOCTORS.find(d => d.id === doctor)?.name || doctor, date, time, reason, status: 'Scheduled', createdAt: new Date().toISOString() };\n    try { await addDoc(collection(db, appointmentsCollectionPath), newAppointment); showNotification(\"Appointment booked successfully!\", \"success\"); setDoctor(MOCK_DOCTORS[0]?.id || ''); setDate(''); setTime(''); setReason(''); setIsModalOpen(false); } catch (error) { console.error(\"Error adding appointment: \", error); showNotification(\"Failed to book appointment.\", \"error\"); }\n  };\n  const confirmCancel = (appointmentId) => setConfirmCancelModal({ isOpen: true, appointmentId });\n  const executeCancelAppointment = async () => {\n    const appointmentId = confirmCancelModal.appointmentId; if (!db || !userId || !appointmentId) { showNotification(\"Database not available or invalid request.\", \"error\"); setConfirmCancelModal({ isOpen: false, appointmentId: null }); return; }\n    try { const appointmentRef = doc(db, appointmentsCollectionPath, appointmentId); await updateFirestoreDoc(appointmentRef, { status: 'Cancelled' }); showNotification(\"Appointment cancelled successfully.\", \"success\"); } catch (error) { console.error(\"Error cancelling appointment: \", error); showNotification(\"Failed to cancel appointment.\", \"error\"); }\n    setConfirmCancelModal({ isOpen: false, appointmentId: null });\n  };\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  return ( <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}> <div className=\"flex justify-between items-center mb-6\"> <h2 className={`text-2xl font-semibold ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>Mis citas</h2> {talkbackEnabled && <SpeakButton textToSpeak=\"Mis citas page.\" darkMode={darkMode} highContrast={highContrast}/>} <button onClick={() => setIsModalOpen(true)} className={`font-semibold py-2 px-4 rounded-lg shadow-md flex items-center ${darkMode ? (highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600' : 'bg-blue-600 hover:bg-blue-700 text-white') : (highContrast ? 'bg-blue-700 text-white hover:bg-blue-800' : 'bg-blue-500 hover:bg-blue-600 text-white')} `}> <PlusCircle size={20} className=\"mr-2\" /> Añadir cita </button> </div> {isLoading ? ( <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Cargando citas...</p> ) : appointments.length === 0 ? ( <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`}>No tienes citas pendientes.</p> ) : ( <div className=\"space-y-4\"> {appointments.map(apt => ( <div key={apt.id} className={`p-4 rounded-lg shadow-md ${apt.status === 'Cancelled' ? (darkMode ? 'bg-gray-700 opacity-70' : 'bg-gray-200 opacity-70') : (darkMode ? 'bg-gray-700' : 'bg-white')} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode && apt.status !== 'Cancelled' ? 'border border-blue-500' : ''} ${highContrast && !darkMode && apt.status === 'Cancelled' ? 'border border-gray-400' : ''} `}> <h3 className={`text-lg font-semibold ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-blue-400') : (highContrast ? 'text-blue-700' : 'text-blue-600')}`}>{apt.doctor}</h3> {talkbackEnabled && <SpeakButton textToSpeak={`Appointment with ${apt.doctor}`} darkMode={darkMode} highContrast={highContrast}/>} <p><strong>Date:</strong> {apt.date} {talkbackEnabled && <SpeakButton textToSpeak={`Date ${apt.date}`} darkMode={darkMode} highContrast={highContrast}/>}</p> <p><strong>Time:</strong> {apt.time} {talkbackEnabled && <SpeakButton textToSpeak={`Time ${apt.time}`} darkMode={darkMode} highContrast={highContrast}/>}</p> <p><strong>Reason:</strong> {apt.reason} {talkbackEnabled && <SpeakButton textToSpeak={`Reason ${apt.reason}`} darkMode={darkMode} highContrast={highContrast}/>}</p> <p><strong>Status:</strong> <span className={`${apt.status === 'Cancelled' ? (darkMode ? 'text-red-400' : 'text-red-500') : (darkMode ? 'text-green-400' : 'text-green-500')}`}>{apt.status}</span> {talkbackEnabled && <SpeakButton textToSpeak={`Status ${apt.status}`} darkMode={darkMode} highContrast={highContrast}/>}</p> {apt.status !== 'Cancelled' && ( <button onClick={() => confirmCancel(apt.id)} className={`mt-3 font-semibold py-1 px-3 rounded-md text-sm flex items-center ${darkMode ? (highContrast ? 'bg-red-500 text-black hover:bg-red-600' : 'bg-red-600 hover:bg-red-700 text-white') : (highContrast ? 'bg-red-700 text-white hover:bg-red-800' : 'bg-red-500 hover:bg-red-600 text-white')} `}> <Trash2 size={16} className=\"mr-1\" /> Cancel </button> )} </div> ))} </div> )} <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} title=\"Book a New Appointment\" darkMode={darkMode} highContrast={highContrast} fontSizeClass={accessibilitySettings.fontSize}> <form onSubmit={handleMakeAppointment} className=\"space-y-4\"> {['doctor', 'date', 'time', 'reason'].map(field => ( <div key={field}> <label htmlFor={field} className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200':''}`}> {field.charAt(0).toUpperCase() + field.slice(1).replace('rV', 'r V')} </label> {field === 'doctor' ? ( <select id=\"doctor\" value={doctor} onChange={(e) => setDoctor(e.target.value)} className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`}> {MOCK_DOCTORS.map(doc => <option key={doc.id} value={doc.id}>{doc.name}</option>)} </select> ) : field === 'reason' ? ( <textarea id=\"reason\" rows=\"3\" value={reason} onChange={(e) => setReason(e.target.value)} placeholder=\"e.g., Annual check-up\" className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`}></textarea> ) : ( <input type={field === 'date' ? 'date' : 'time'} id={field} value={field === 'date' ? date : time} onChange={(e) => field === 'date' ? setDate(e.target.value) : setTime(e.target.value)} min={field === 'date' ? new Date().toISOString().split('T')[0] : undefined} className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`} /> )} </div> ))} <button type=\"submit\" className={`w-full font-semibold py-2 px-4 rounded-lg shadow-md flex items-center justify-center ${darkMode ? (highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600' : 'bg-blue-600 hover:bg-blue-700 text-white') : (highContrast ? 'bg-blue-700 text-white hover:bg-blue-800' : 'bg-blue-500 hover:bg-blue-600 text-white')}`}> Confirm Appointment </button> </form> </Modal> <Modal isOpen={confirmCancelModal.isOpen} onClose={() => setConfirmCancelModal({ isOpen: false, appointmentId: null })} title=\"Confirm Cancellation\" darkMode={darkMode} highContrast={highContrast} fontSizeClass={accessibilitySettings.fontSize}> <p className={`${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-4`}>Are you sure you want to cancel this appointment?</p> <div className=\"flex justify-end space-x-3\"> <button onClick={() => setConfirmCancelModal({ isOpen: false, appointmentId: null })} className={`px-4 py-2 rounded-md text-sm font-medium ${darkMode ? 'bg-gray-600 hover:bg-gray-500 text-white' : 'bg-gray-300 hover:bg-gray-400 text-black'}`}>No, Keep It</button> <button onClick={executeCancelAppointment} className={`px-4 py-2 rounded-md text-sm font-medium ${darkMode ? (highContrast ? 'bg-red-500 text-black hover:bg-red-600' : 'bg-red-600 hover:bg-red-700 text-white') : (highContrast ? 'bg-red-700 text-white hover:bg-red-800' : 'bg-red-500 hover:bg-red-600 text-white')}`}>Yes, Cancel</button> </div> </Modal> </div> );\n};\n\n// ... other screen components (ChatScreen, PrescriptionsScreen, etc. remain similar) ...\nconst ChatScreen = ({ userId, showNotification, accessibilitySettings }) => {\n  const [messages, setMessages] = useState([ { id: 'm1', text: '¡Hola! ¿Cómo puedo ayudarte hoy?', sender: 'doctor', time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) }, { id: 'm2', text: 'Tengo fiebre y dolor de cabeza.', sender: 'user', time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}, ]);\n  const [newMessage, setNewMessage] = useState(''); const [selectedDoctor, setSelectedDoctor] = useState(MOCK_DOCTORS[0]?.id || ''); const messagesEndRef = useRef(null);\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  useEffect(() => { messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" }); }, [messages]);\n  const handleSendMessage = async (e) => {\n    e.preventDefault(); if (!newMessage.trim()) return;\n    // Mock sending message if no userId (not logged in)\n    if (!userId) {\n      showNotification(\"Por favor ingrese para recibir mensajes.\", \"error\");\n      setMessages(prev => [...prev, { id: `m${prev.length + 1}`, text: newMessage, sender: 'user', time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) }]);\n      setNewMessage('');\n      return;\n    }\n    const messageData = { text: newMessage, sender: 'user', time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }), createdAt: new Date().toISOString(), userId: userId, doctorId: selectedDoctor };\n    setMessages(prevMessages => [...prevMessages, { ...messageData, id: `m${prevMessages.length + 1}` }]); setNewMessage('');\n    setTimeout(() => { setMessages(prev => [...prev, { id: `m${prev.length + 1}`, text: \"Entiendo. ¿Puede decirme los síntomas?\", sender: 'doctor', time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) }]); }, 1500);\n  };\n  return ( <div className={`flex flex-col h-[calc(100vh-4rem)] transition-colors duration-300 ${darkMode ? 'bg-gray-900' : 'bg-gray-50'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}> <div className={`p-4 border-b shadow-sm ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} ${highContrast && darkMode ? 'border-b-yellow-400':''} ${highContrast && !darkMode ? 'border-b-blue-600':''}`}> <label htmlFor=\"doctorSelect\" className={`text-sm font-medium mr-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200':''}`}>Chat with:</label> <select id=\"doctorSelect\" value={selectedDoctor} onChange={(e) => setSelectedDoctor(e.target.value)} className={`p-2 border rounded-md focus:outline-none ${darkMode ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500' : 'border-gray-300 focus:ring-blue-500 focus:border-blue-500'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`} > {MOCK_DOCTORS.map(doc => <option key={doc.id} value={doc.id}>{doc.name}</option>)} </select> </div> <div className=\"flex-grow p-4 space-y-4 overflow-y-auto\"> {messages.map(msg => ( <div key={msg.id} className={`flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`}> <div className={`max-w-xs lg:max-w-md px-4 py-2 rounded-xl shadow ${msg.sender === 'user' ? (darkMode ? (highContrast ? 'bg-blue-700 text-white rounded-br-none border border-white' : 'bg-blue-600 text-white rounded-br-none') : (highContrast ? 'bg-blue-600 text-white rounded-br-none border border-black' : 'bg-blue-500 text-white rounded-br-none')) : (darkMode ? (highContrast ? 'bg-black text-yellow-300 rounded-bl-none border border-yellow-400' : 'bg-gray-700 text-gray-200 rounded-bl-none') : (highContrast ? 'bg-gray-300 text-black rounded-bl-none border border-black' : 'bg-gray-200 text-gray-800 rounded-bl-none')) } `}> <p>{msg.text} {talkbackEnabled && <SpeakButton textToSpeak={msg.text} darkMode={darkMode} highContrast={highContrast}/>}</p> <p className={`text-xs mt-1 ${msg.sender === 'user' ? (darkMode ? 'text-blue-200 text-right' : 'text-blue-100 text-right') : (darkMode ? 'text-gray-400 text-left' : 'text-gray-500 text-left')}`}> {msg.time} </p> </div> </div> ))} <div ref={messagesEndRef} /> </div> <form onSubmit={handleSendMessage} className={`p-4 border-t flex items-center ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} ${highContrast && darkMode ? 'border-t-yellow-400':''} ${highContrast && !darkMode ? 'border-t-blue-600':''}`}> <input type=\"text\" value={newMessage} onChange={(e) => setNewMessage(e.target.value)} placeholder=\"Type your message...\" className={`flex-grow p-3 border rounded-l-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500' : 'border-gray-300 placeholder-gray-500 focus:ring-blue-400'} ${highContrast ? (darkMode ? 'border-yellow-400 focus:ring-yellow-300' : 'border-blue-600 focus:ring-blue-500') : ''}`} /> <button type=\"submit\" className={`p-3 rounded-r-lg focus:outline-none focus:ring-2 ${darkMode ? (highContrast ? 'bg-yellow-500 text-black hover:bg-yellow-600 focus:ring-yellow-300' : 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500') : (highContrast ? 'bg-blue-700 text-white hover:bg-blue-800 focus:ring-blue-600' : 'bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-400')} `}> <Send size={24} /> </button> </form> </div> );\n};\n\nconst PrescriptionsScreen = ({ userId, showNotification, accessibilitySettings }) => {\n  const [prescriptions, setPrescriptions] = useState([]); const [isLoading, setIsLoading] = useState(true);\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  useEffect(() => { setIsLoading(true); if(userId) setPrescriptions(MOCK_PRESCRIPTIONS); else setPrescriptions([]); setIsLoading(false); }, [userId]);\n  if (isLoading) { return <p className={`p-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Loading prescriptions...</p>; }\n  if (!userId) { return <p className={`p-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center`}>Please log in to view prescriptions.</p>; }\n  return ( <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}> <h2 className={`text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>Mis recetas</h2> {talkbackEnabled && <SpeakButton textToSpeak=\"Mis recetas page.\" darkMode={darkMode} highContrast={highContrast}/>} {prescriptions.length === 0 ? ( <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`}>No tienes recetas prescritas.</p> ) : ( <div className=\"space-y-4\"> {prescriptions.map(rx => ( <div key={rx.id} className={`p-4 rounded-lg shadow-md ${darkMode ? 'bg-gray-700 border-l-4 border-green-500' : 'bg-white border-l-4 border-green-500'} ${highContrast && darkMode ? 'border-yellow-300 border-l-yellow-400' : ''} ${highContrast && !darkMode ? 'border-blue-500 border-l-blue-700' : ''} `}> <h3 className={`text-lg font-semibold ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-green-400') : (highContrast ? 'text-blue-700' : 'text-green-700')}`}>{rx.name}</h3> {talkbackEnabled && <SpeakButton textToSpeak={`Prescription: ${rx.name}`} darkMode={darkMode} highContrast={highContrast}/>} <p><strong>Dosage:</strong> {rx.dosage} {talkbackEnabled && <SpeakButton textToSpeak={`Dosage ${rx.dosage}`} darkMode={darkMode} highContrast={highContrast}/>}</p> <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}><strong>Prescribed on:</strong> {rx.date} {talkbackEnabled && <SpeakButton textToSpeak={`Prescribed on ${rx.date}`} darkMode={darkMode} highContrast={highContrast}/>}</p> <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}><strong>Prescribed by:</strong> {rx.doctor} {talkbackEnabled && <SpeakButton textToSpeak={`Prescribed by ${rx.doctor}`} darkMode={darkMode} highContrast={highContrast}/>}</p> <p className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-500'}`}><i>Notes: {rx.notes}</i></p> </div> ))} </div> )} </div> );\n};\n\nconst LabResultsScreen = ({ accessibilitySettings, userId }) => { // Added userId\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  if (!userId) { return <p className={`p-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center`}>Please log in to view Resultados de laboratorio.</p>; }\n  return (\n    <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <h2 className={`text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>Lab/Test Results</h2>\n    {talkbackEnabled && <SpeakButton textToSpeak=\"Lab and Test Results page.\" darkMode={darkMode} highContrast={highContrast}/>}\n    {MOCK_LAB_RESULTS.length === 0 ? (\n      <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`}>No Resultados de laboratorio found.</p>\n    ) : (\n      <div className=\"space-y-4\">\n      {MOCK_LAB_RESULTS.map(result => (\n        <div key={result.id} className={`p-4 rounded-lg shadow-md ${darkMode ? 'bg-gray-700' : 'bg-white'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`}>\n        <div className=\"flex justify-between items-start\">\n        <h3 className={`text-lg font-semibold ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-blue-400') : (highContrast ? 'text-blue-700' : 'text-blue-600')}`}>{result.testName}</h3>\n        <span className={`text-xs px-2 py-0.5 rounded-full ${result.status === 'Pending' ? (darkMode ? 'bg-yellow-600 text-black' : 'bg-yellow-200 text-yellow-800') : (darkMode ? 'bg-green-600 text-white' : 'bg-green-200 text-green-800')}`}>{result.status}</span>\n        </div>\n        {talkbackEnabled && <SpeakButton textToSpeak={`Test: ${result.testName}, Status: ${result.status}`} darkMode={darkMode} highContrast={highContrast}/>}\n        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Date: {result.date}</p>\n        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Doctor: {result.doctor}</p>\n        <p className={`mt-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>{result.summary}</p>\n        {result.status !== 'Pending' && (\n          <button className={`mt-3 text-sm font-medium py-1 px-3 rounded ${darkMode ? (highContrast ? 'bg-yellow-400 text-black' : 'bg-blue-500 hover:bg-blue-600 text-white') : (highContrast ? 'bg-blue-600 text-white' : 'bg-blue-500 hover:bg-blue-600 text-white')}`}>\n          View Full Report (PDF)\n          </button>\n        )}\n        </div>\n      ))}\n      </div>\n    )}\n    </div>\n  );\n};\n\nconst MedicalHistoryScreen = ({ accessibilitySettings, userId }) => { // Added userId\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  const { diagnoses, allergies, immunizations } = MOCK_MEDICAL_HISTORY;\n  if (!userId) { return <p className={`p-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center`}>Please log in to view Historial médico.</p>; }\n\n  const Section = ({ title, items, renderItem, speakTitle }) => (\n    <div className=\"mb-6\">\n    <h3 className={`text-xl font-semibold mb-3 ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-gray-100') : (highContrast ? 'text-blue-700' : 'text-gray-800')}`}>{title}</h3>\n    {talkbackEnabled && <SpeakButton textToSpeak={speakTitle || title} darkMode={darkMode} highContrast={highContrast}/>}\n    {items.length > 0 ? (\n      <ul className=\"space-y-2\">\n      {items.map(item => renderItem(item))}\n      </ul>\n    ) : <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>No {title.toLowerCase()} recorded.</p>}\n    </div>\n  );\n\n  return (\n    <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <h2 className={`text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>Historial médico</h2>\n    {talkbackEnabled && <SpeakButton textToSpeak=\"Historial médico page.\" darkMode={darkMode} highContrast={highContrast}/>}\n\n    <Section title=\"Diagnoses\" items={diagnoses} speakTitle=\"Diagnosed Conditions\" renderItem={item => (\n      <li key={item.id} className={`p-3 rounded-md ${darkMode ? 'bg-gray-700' : 'bg-white shadow-sm'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`}>\n      <p className=\"font-medium\">{item.condition} {talkbackEnabled && <SpeakButton textToSpeak={`Condition: ${item.condition}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n      <p className=\"text-sm\">Date: {item.date}</p>\n      <p className=\"text-sm\">Notes: {item.notes}</p>\n      </li>\n    )}/>\n    <Section title=\"Allergies\" items={allergies} speakTitle=\"Known Allergies\" renderItem={item => (\n      <li key={item.id} className={`p-3 rounded-md ${darkMode ? 'bg-gray-700' : 'bg-white shadow-sm'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`}>\n      <p className=\"font-medium\">{item.substance} ({item.severity}) {talkbackEnabled && <SpeakButton textToSpeak={`Allergy: ${item.substance}, Severity: ${item.severity}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n      <p className=\"text-sm\">Reaction: {item.reaction}</p>\n      </li>\n    )}/>\n    <Section title=\"Immunizations\" items={immunizations} speakTitle=\"Immunization Records\" renderItem={item => (\n      <li key={item.id} className={`p-3 rounded-md ${darkMode ? 'bg-gray-700' : 'bg-white shadow-sm'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`}>\n      <p className=\"font-medium\">{item.vaccine} {talkbackEnabled && <SpeakButton textToSpeak={`Vaccine: ${item.vaccine}`} darkMode={darkMode} highContrast={highContrast}/>}</p>\n      <p className=\"text-sm\">Date: {item.date}</p>\n      </li>\n    )}/>\n    </div>\n  );\n};\n\nconst EducationalResourcesScreen = ({ accessibilitySettings }) => {\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  const [searchTerm, setSearchTerm] = useState('');\n  const filteredResources = MOCK_EDUCATIONAL_RESOURCES.filter(res =>\n  res.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n  res.category.toLowerCase().includes(searchTerm.toLowerCase()) ||\n  res.summary.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  return (\n    <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <h2 className={`text-2xl font-semibold mb-4 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>Recursos informativos</h2>\n    {talkbackEnabled && <SpeakButton textToSpeak=\"Recursos informativos page.\" darkMode={darkMode} highContrast={highContrast}/>}\n\n    <div className=\"mb-6\">\n    <input\n    type=\"text\"\n    placeholder=\"Search articles, videos, FAQs...\"\n    value={searchTerm}\n    onChange={(e) => setSearchTerm(e.target.value)}\n    className={`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500' : 'border-gray-300 placeholder-gray-500 focus:ring-blue-400'} ${highContrast ? (darkMode ? 'border-yellow-400 focus:ring-yellow-300' : 'border-blue-600 focus:ring-blue-500') : ''}`}\n    />\n    </div>\n\n    {filteredResources.length === 0 ? (\n      <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`}>No resources found matching your search.</p>\n    ) : (\n      <div className=\"space-y-4\">\n      {filteredResources.map(resource => (\n        <div key={resource.id} className={`p-4 rounded-lg shadow-md ${darkMode ? 'bg-gray-700' : 'bg-white'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`}>\n        <span className={`text-xs px-2 py-0.5 rounded-full mb-1 inline-block ${darkMode ? 'bg-indigo-600 text-indigo-100' : 'bg-indigo-100 text-indigo-700'}`}>{resource.type}</span>\n        <h3 className={`text-lg font-semibold ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-blue-400') : (highContrast ? 'text-blue-700' : 'text-blue-600')}`}>{resource.title}</h3>\n        {talkbackEnabled && <SpeakButton textToSpeak={`${resource.type}: ${resource.title}`} darkMode={darkMode} highContrast={highContrast}/>}\n        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Category: {resource.category}</p>\n        <p className={`mt-1 text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>{resource.summary}</p>\n        <button className={`mt-3 text-sm font-medium py-1 px-3 rounded ${darkMode ? (highContrast ? 'bg-yellow-400 text-black' : 'bg-blue-500 hover:bg-blue-600 text-white') : (highContrast ? 'bg-blue-600 text-white' : 'bg-blue-500 hover:bg-blue-600 text-white')}`}>\n        Read More / Watch\n        </button>\n        </div>\n      ))}\n      </div>\n    )}\n    </div>\n  );\n};\n\nconst DoctorFinderScreen = ({ accessibilitySettings }) => {\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filters, setFilters] = useState({ specialty: '', insurance: '' });\n\n  const filteredClinics = MOCK_CLINICS.filter(clinic =>\n  (clinic.name.toLowerCase().includes(searchTerm.toLowerCase()) || clinic.address.toLowerCase().includes(searchTerm.toLowerCase())) &&\n  (filters.specialty ? clinic.specialties.includes(filters.specialty) : true) &&\n  (filters.insurance ? clinic.insurance.includes(filters.insurance) : true)\n  );\n\n  const allSpecialties = [...new Set(MOCK_CLINICS.flatMap(c => c.specialties))];\n  const allInsurances = [...new Set(MOCK_CLINICS.flatMap(c => c.insurance))];\n\n\n  return (\n    <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <h2 className={`text-2xl font-semibold mb-4 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>Encuentra un doctor/Clinic</h2>\n    {talkbackEnabled && <SpeakButton textToSpeak=\"Encuentra un doctor or Clinic page.\" darkMode={darkMode} highContrast={highContrast}/>}\n\n    <div className=\"mb-6 space-y-3\">\n    <input\n    type=\"text\"\n    placeholder=\"Search by name or address...\"\n    value={searchTerm}\n    onChange={(e) => setSearchTerm(e.target.value)}\n    className={`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500' : 'border-gray-300 placeholder-gray-500 focus:ring-blue-400'} ${highContrast ? (darkMode ? 'border-yellow-400 focus:ring-yellow-300' : 'border-blue-600 focus:ring-blue-500') : ''}`}\n    />\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n    <select value={filters.specialty} onChange={e => setFilters({...filters, specialty: e.target.value})} className={`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`}>\n    <option value=\"\">All Specialties</option>\n    {allSpecialties.map(s => <option key={s} value={s}>{s}</option>)}\n    </select>\n    <select value={filters.insurance} onChange={e => setFilters({...filters, insurance: e.target.value})} className={`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} ${highContrast ? (darkMode ? 'border-yellow-400' : 'border-blue-600') : ''}`}>\n    <option value=\"\">All Insurances</option>\n    {allInsurances.map(i => <option key={i} value={i}>{i}</option>)}\n    </select>\n    </div>\n    </div>\n\n    {filteredClinics.length === 0 ? (\n      <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-center py-8`}>No doctors or clinics found matching your criteria.</p>\n    ) : (\n      <div className=\"space-y-4\">\n      {filteredClinics.map(clinic => (\n        <div key={clinic.id} className={`p-4 rounded-lg shadow-md ${darkMode ? 'bg-gray-700' : 'bg-white'} ${highContrast && darkMode ? 'border border-yellow-300' : ''} ${highContrast && !darkMode ? 'border border-blue-500' : ''}`}>\n        <h3 className={`text-lg font-semibold ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-blue-400') : (highContrast ? 'text-blue-700' : 'text-blue-600')}`}>{clinic.name}</h3>\n        {talkbackEnabled && <SpeakButton textToSpeak={clinic.name} darkMode={darkMode} highContrast={highContrast}/>}\n        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}><MapPin size={14} className=\"inline mr-1\"/>{clinic.address}</p>\n        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Type: {clinic.type}</p>\n        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Rating: {clinic.rating} / 5</p>\n        <div className=\"mt-2\">\n        <h4 className={`text-xs font-semibold ${darkMode ? 'text-gray-300' : 'text-gray-500'}`}>Specialties:</h4>\n        <div className=\"flex flex-wrap gap-1 mt-1\">\n        {clinic.specialties.map(s => <span key={s} className={`text-xs px-1.5 py-0.5 rounded ${darkMode ? 'bg-indigo-600 text-indigo-100' : 'bg-indigo-100 text-indigo-700'}`}>{s}</span>)}\n        </div>\n        </div>\n        <button className={`mt-3 text-sm font-medium py-1 px-3 rounded ${darkMode ? (highContrast ? 'bg-yellow-400 text-black' : 'bg-blue-500 hover:bg-blue-600 text-white') : (highContrast ? 'bg-blue-600 text-white' : 'bg-blue-500 hover:bg-blue-600 text-white')}`}>\n        View Details\n        </button>\n        </div>\n      ))}\n      </div>\n    )}\n    </div>\n  );\n};\n\nconst MoreScreen = ({ setCurrentPage, accessibilitySettings, handleSignOut, openSettingsModal }) => {\n  const { darkMode, highContrast, talkbackEnabled } = accessibilitySettings;\n\n  const menuItems = [\n    { label: 'Opciones de accesibilidad', action: openSettingsModal, icon: Settings, speak: \"Opciones de accesibilidad\" },\n  ];\n\n  return (\n    <div className={`p-4 min-h-[calc(100vh-4rem)] ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border border-yellow-400' : ''} ${highContrast && !darkMode ? 'border border-blue-600' : ''}`}>\n    <h2 className={`text-2xl font-semibold mb-6 ${highContrast && darkMode ? 'text-yellow-300' : highContrast ? 'text-blue-700' : ''}`}>Más opciones</h2>\n    {talkbackEnabled && <SpeakButton textToSpeak=\"More options page.\" darkMode={darkMode} highContrast={highContrast}/>}\n\n    <div className=\"space-y-3\">\n    {menuItems.map(item => (\n      <button\n      key={item.label}\n      onClick={() => item.page ? setCurrentPage(item.page) : item.action()}\n      className={`w-full flex items-center p-4 rounded-lg shadow transition-colors\n        ${darkMode ? (highContrast ? 'bg-black text-yellow-300 border border-yellow-400 hover:bg-gray-900' : 'bg-gray-700 hover:bg-gray-600 text-white') : (highContrast ? 'bg-white text-blue-700 border border-blue-700 hover:bg-blue-50' : 'bg-white hover:bg-gray-50 text-gray-700')}\n        `}\n        aria-label={item.label}\n        >\n        <item.icon size={22} className={`mr-4 ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-blue-400') : (highContrast ? 'text-blue-600' : 'text-blue-500')}`} />\n        <span className=\"flex-grow text-left font-medium\">{item.label}</span>\n        <ChevronRight size={20} className={`${darkMode ? 'text-gray-400' : 'text-gray-500'}`} />\n        {talkbackEnabled && <SpeakButton textToSpeak={item.speak || item.label} darkMode={darkMode} highContrast={highContrast} />}\n        </button>\n    ))}\n    <button\n    onClick={handleSignOut}\n    className={`w-full flex items-center p-4 rounded-lg shadow transition-colors mt-6\n      ${darkMode ? (highContrast ? 'bg-red-700 text-black border border-red-400 hover:bg-red-600' : 'bg-red-600 hover:bg-red-500 text-white') : (highContrast ? 'bg-red-100 text-red-700 border border-red-700 hover:bg-red-200' : 'bg-red-500 hover:bg-red-600 text-white')}\n      `}\n      aria-label=\"Cerrar Sesión\"\n      >\n      <LogOut size={22} className=\"mr-4\" />\n      <span className=\"flex-grow text-left font-medium\">Cerrar sesión</span>\n      {talkbackEnabled && <SpeakButton textToSpeak=\"Sign Out\" darkMode={darkMode} highContrast={highContrast} />}\n      </button>\n      </div>\n      </div>\n  );\n};\n\n// --- MODIFIED: AuthScreen Component ---\nconst AuthScreen = ({ onLogin, onRegister, showNotification, accessibilitySettings, setAuthView }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  // NEW: State for additional registration fields\n  const [firstName, setFirstName] = useState('');\n  const [middleName, setMiddleName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [secondLastName, setSecondLastName] = useState('');\n  const [rut, setRut] = useState('');\n  const [birthDate, setBirthDate] = useState('');\n  const [address, setAddress] = useState('');\n  const [cellphone, setCellphone] = useState('');\n\n  const isLoginView = accessibilitySettings.currentAuthView === 'login';\n  const { darkMode, highContrast } = accessibilitySettings;\n\n  const toggleView = () => {\n    setAuthView(prev => prev === 'login' ? 'register' : 'login');\n  };\n\n  // NEW: Age validation function\n  const isAgeValid = (dateString) => {\n    if (!dateString) return false;\n    const today = new Date();\n    const dob = new Date(dateString);\n    let age = today.getFullYear() - dob.getFullYear();\n    const monthDiff = today.getMonth() - dob.getMonth();\n    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < dob.getDate())) {\n      age--;\n    }\n    return age >= 13;\n  };\n\n  // Verificación RUT\n  var Fn = {\n    // Valida el rut con su cadena completa \"XXXXXXXX-X\"\n    validaRut : function (rut) {\n      if (!/^[0-9]+[-|‐]{1}[0-9kK]{1}$/.test( rut ))\n        return false;\n        var tmp \t= rut.split('-');\n        var digv\t= tmp[1];\n        var rut \t= tmp[0];\n        if ( digv == 'K' ) digv = 'k' ;\n        return (Fn.dv(rut) == digv );\n    },\n    dv : function(T){\n      var M=0,S=1;\n      for(;T;T=Math.floor(T/10))\n        S=(S+T%10*(9-M++%6))%11;\n      return S?S-1:'k';\n    }\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!email || !password) {\n      showNotification(\"Please enter email and password.\", \"error\");\n      return;\n    }\n\n    if (isLoginView) {\n      onLogin(email, password);\n    } else { // Registration view\n      // NEW: Validations for registration fields\n      if (!firstName || !lastName || !rut || !birthDate || !address || !cellphone) {\n        showNotification(\"Por favor llene todos los campos solicitados.\", \"error\");\n        return;\n      }\n      if (!isAgeValid(birthDate)) {\n        showNotification(\"Debes tener al menos 13 años para registrarte.\", \"error\");\n        return;\n      }\n      if (!Fn.validaRut(rut)) {\n        showNotification(\"El rut ingresado es incorrecto\", \"error\");\n        return;\n      }\n      if (!/^\\+?[0-9\\s-()]+$/.test(cellphone)) { // Basic phone validation\n        showNotification(\"Por favor ingrese un número de celular válido.\", \"error\");\n        return;\n      }\n\n\n      const profileData = {\n        firstName, middleName, lastName, secondLastName,\n        rut, // Store K as uppercase\n        birthDate, address, cellphone, email // also store email in profile\n      };\n      onRegister(email, password, profileData);\n    }\n  };\n\n  const inputBaseClass = `appearance-none block w-full pl-10 pr-3 py-2.5 border rounded-md placeholder-gray-400 focus:outline-none sm:text-sm`;\n  const inputDarkClass = `bg-gray-700 border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500`;\n  const inputLightClass = `border-gray-300 focus:ring-blue-500 focus:border-blue-500`;\n  const inputHighContrastDark = `border-yellow-400 focus:ring-yellow-300`;\n  const inputHighContrastLight = `border-blue-600 focus:ring-blue-500`;\n\n  const getInputClass = () => `${inputBaseClass} ${darkMode ? inputDarkClass : inputLightClass} ${highContrast ? (darkMode ? inputHighContrastDark : inputHighContrastLight) : ''}`;\n\n\n  const renderInputField = (id, type, value, setter, placeholder, IconComponent, label, required = false, pattern = undefined, title = undefined) => (\n    <div>\n    <label htmlFor={id} className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} ${highContrast && darkMode ? 'text-yellow-200' : ''}`}>\n    {label} {required && <span className=\"text-red-500\">*</span>}\n    </label>\n    <div className=\"mt-1 relative rounded-md shadow-sm\">\n    <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n    <IconComponent size={16} className={darkMode ? \"text-gray-400\" : \"text-gray-500\"} />\n    </div>\n    <input id={id} name={id} type={type} value={value} onChange={(e) => setter(e.target.value)}\n    placeholder={placeholder} required={required} pattern={pattern} title={title}\n    className={getInputClass()}\n    />\n    </div>\n    </div>\n  );\n\n  return (\n    <div className={`min-h-screen flex flex-col items-center justify-center p-4 ${darkMode ? 'bg-gray-900 text-gray-200' : 'bg-gray-100 text-gray-800'} ${highContrast && darkMode ? 'border-2 border-yellow-400' : ''} ${highContrast && !darkMode ? 'border-2 border-blue-700' : ''}`}>\n    <div className={`w-full max-w-md p-8 rounded-xl shadow-2xl ${darkMode ? (highContrast ? 'bg-black border border-yellow-400' : 'bg-gray-800') : (highContrast ? 'bg-white border-2 border-blue-600' : 'bg-white')}`}>\n    <div className=\"flex justify-center mb-6\">\n    <ShieldCheck size={48} className={darkMode ? (highContrast ? \"text-yellow-400\" : \"text-blue-500\") : (highContrast ? \"text-blue-600\" : \"text-blue-500\")} />\n    </div>\n    <h2 className={`text-2xl font-bold text-center mb-6 ${darkMode ? (highContrast ? 'text-yellow-300' : 'text-white') : (highContrast ? 'text-blue-700' : 'text-gray-900')}`}>\n    {isLoginView ? \"Ingrese a MedCare Senior\" : \"Formulario de registro\"}\n    </h2>\n    <form onSubmit={handleSubmit} className=\"space-y-4\"> {/* Reduced space-y */}\n    {renderInputField(\"email\", \"email\", email, setEmail, \"correo@ejemplo.cl\", Mail, \"Correo electrónico\", true)}\n    {renderInputField(\"password\", \"password\", password, setPassword, \"••••••••\", KeyRound, \"Contraseña\", true)}\n\n    {!isLoginView && (\n      <>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      {renderInputField(\"firstName\", \"text\", firstName, setFirstName, \"Nombre\", User, \"Nombre\", true)}\n      {renderInputField(\"middleName\", \"text\", middleName, setMiddleName, \"Opcional\", User, \"Segundo nombre\")}\n      </div>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      {renderInputField(\"lastName\", \"text\", lastName, setLastName, \"Apellido\", User, \"Apellido paterno\", true)}\n      {renderInputField(\"secondLastName\", \"text\", secondLastName, setSecondLastName, \"Opcional\", User, \"Apellido materno\")}\n      </div>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      {renderInputField(\"rut\", \"text\", rut, setRut, \"RUT\", Hash, \"RUT\", true)}\n      </div>\n      {renderInputField(\"birthDate\", \"date\", birthDate, setBirthDate, \"\", CalendarDays, \"Fecha de nacimiento\", true)}\n      {renderInputField(\"address\", \"text\", address, setAddress, \"Dirección\", MapPinned, \"Dirección de residencia\", true)}\n      {renderInputField(\"cellphone\", \"tel\", cellphone, setCellphone, \"+56912345678\", Phone, \"Teléfono celular\", true)}\n      </>\n    )}\n    <div>\n    <button\n    type=\"submit\"\n    className={`w-full flex justify-center mt-2 py-2.5 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white\n      ${darkMode ? (highContrast ? 'bg-yellow-500 hover:bg-yellow-600 text-black focus:ring-yellow-400' : 'bg-blue-600 hover:bg-blue-700 focus:ring-blue-500') : (highContrast ? 'bg-blue-700 hover:bg-blue-800 focus:ring-blue-600' : 'bg-blue-600 hover:bg-blue-700 focus:ring-blue-500')}\n      focus:outline-none focus:ring-2 focus:ring-offset-2\n      ${darkMode && highContrast ? 'focus:ring-offset-black' : darkMode ? 'focus:ring-offset-gray-800' : highContrast ? 'focus:ring-offset-white' : 'focus:ring-offset-gray-100' }`}\n      >\n      {isLoginView ? \"Ingresar\" : \"Crear cuenta\"}\n      </button>\n      </div>\n      </form>\n      <div className=\"mt-6 text-center\">\n      <button\n      onClick={toggleView}\n      className={`text-sm font-medium\n        ${darkMode ? (highContrast ? 'text-yellow-300 hover:text-yellow-200' : 'text-blue-400 hover:text-blue-300') : (highContrast ? 'text-blue-600 hover:text-blue-500' : 'text-blue-600 hover:text-blue-500')}`}\n        >\n        {isLoginView ? \"¿No se encuentra registrado?\\nRegístrese\" : \"¿Ya tiene una cuenta?\\nIngrese\"}\n        </button>\n        </div>\n        </div>\n        </div>\n  );\n};\n\n\n// --- Main App Component ---\nconst App = () => {\n  const [currentPage, setCurrentPage] = useState('home');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [userName, setUserName] = useState(''); // This will now store the full name\n  const [notification, setNotification] = useState({ message: '', type: '' });\n  const [isSettingsModalOpen, setIsSettingsModalOpen] = useState(false);\n  const [authView, setAuthView] = useState('login');\n\n  const [accessibilitySettings, setAccessibilitySettings] = useState({\n    fontSize: 'text-base', highContrast: false, darkMode: false, talkbackEnabled: false,\n    currentAuthView: 'login'\n  });\n  useEffect(() => {\n    setAccessibilitySettings(prev => ({ ...prev, currentAuthView: authView }));\n  }, [authView]);\n\n  useEffect(() => { const savedSettings = localStorage.getItem('medicAssistAccessibilitySettings'); if (savedSettings) { setAccessibilitySettings(prev => ({...prev, ...JSON.parse(savedSettings)})); } }, []);\n\n  useEffect(() => {\n    const { currentAuthView, ...settingsToSave } = accessibilitySettings;\n    localStorage.setItem('medicAssistAccessibilitySettings', JSON.stringify(settingsToSave));\n    if (accessibilitySettings.darkMode) { document.documentElement.classList.add('dark'); }\n    else { document.documentElement.classList.remove('dark'); }\n  }, [accessibilitySettings]);\n\n  const updateAccessibilitySetting = (key, value) => { setAccessibilitySettings(prev => ({ ...prev, [key]: value })); };\n  const showNotification = useCallback((message, type = 'info', duration = 3000) => { setNotification({ message, type }); setTimeout(() => setNotification({ message: '', type: '' }), duration); }, []);\n\n  // MODIFIED: onAuthStateChanged listener\n  useEffect(() => {\n    if (!auth) {\n      console.warn(\"Firebase Auth is not initialized.\");\n      setIsAuthReady(true);\n      setAuthView('login');\n      return;\n    }\n    const unsubscribe = onAuthStateChanged(auth, async (user) => { // Made async\n      if (user) {\n        setCurrentUser(user);\n        // Fetch full user profile from Firestore\n        if (db) {\n          const userDocRef = doc(db, \"users\", user.uid);\n          try {\n            const userDocSnap = await getDoc(userDocRef);\n            if (userDocSnap.exists()) {\n              const userData = userDocSnap.data();\n              // Construct full name\n              const fullName = [userData.firstName, userData.middleName, userData.lastName, userData.secondLastName]\n              .filter(Boolean) // Remove empty/null parts\n              .join(\" \");\n              setUserName(fullName || user.email || `User-${user.uid.substring(0,5)}`);\n            } else {\n              // If no Firestore doc, use displayName from auth (set during registration) or email\n              setUserName(user.displayName || user.email || `User-${user.uid.substring(0,5)}`);\n            }\n          } catch (error) {\n            console.error(\"Error fetching user data from Firestore:\", error);\n            setUserName(user.displayName || user.email || `User-${user.uid.substring(0,5)}`); // Fallback\n          }\n        } else { // Fallback if db is not available\n          setUserName(user.displayName || user.email || `User-${user.uid.substring(0,5)}`);\n        }\n\n        setAuthView('app');\n        setCurrentPage('home');\n      } else {\n        setCurrentUser(null);\n        setUserName('');\n        setAuthView('login');\n      }\n      setIsAuthReady(true);\n    });\n    return () => unsubscribe();\n  }, [showNotification]); // db is also a dependency if used directly here, but it's from import.\n\n  // MODIFIED: handleRegister to accept profileData\n  const handleRegister = async (email, password, profileData) => {\n    if (!auth) { showNotification(\"Authentication service not available.\", \"error\"); return; }\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n      const user = userCredential.user;\n\n      // Construct full name for displayName\n      const displayName = [profileData.firstName, profileData.lastName].filter(Boolean).join(\" \");\n\n      // Update Firebase Auth profile\n      await updateProfile(user, { displayName: displayName });\n\n      // Store additional profile data in Firestore\n      if (db) {\n        await setDoc(doc(db, \"users\", user.uid), {\n          ...profileData, // Includes all fields from form\n          createdAt: new Date().toISOString() // Add a creation timestamp\n        });\n      }\n\n      showNotification(\"Resgistro exitoso!\", \"success\");\n      // onAuthStateChanged will handle setting the user, full name, and view\n    } catch (error) {\n      console.error(\"Error en el registro:\", error);\n      const errorCode = error.code;\n      let friendlyMessage = \"Registro fallido. Por favor intente nuevamente.\";\n      if (errorCode === 'auth/email-already-in-use') {\n        friendlyMessage = 'Este correo ya se encuentra registrado. Ingrese o intente con otro correo.';\n      } else if (errorCode === 'auth/weak-password') {\n        friendlyMessage = 'La contraseña debe contener al menos 6 caracteres.';\n      } else if (error.message) {\n        friendlyMessage = error.message;\n      }\n      showNotification(friendlyMessage, \"error\");\n    }\n  };\n\n  const handleLogin = async (email, password) => {\n    if (!auth) { showNotification(\"Servicio de autenticación no disponible.\", \"error\"); return; }\n    try {\n      await signInWithEmailAndPassword(auth, email, password);\n      showNotification(\"¡Ingreso exitoso!\", \"success\");\n      // onAuthStateChanged will handle setting the user, full name, and view\n    } catch (error) {\n      console.error(\"Error during login:\", error);\n      const errorCode = error.code;\n      let friendlyMessage = \"Ingreso fallido. Revise sus credenciales.\";\n      if (errorCode === 'auth/user-not-found' || errorCode === 'auth/wrong-password' || errorCode === 'auth/invalid-credential') {\n        friendlyMessage = 'Correo o contraseña incorrectos. Por favor intente nuevamente.';\n      } else if (error.message) {\n        friendlyMessage = error.message;\n      }\n      showNotification(friendlyMessage, \"error\");\n    }\n  };\n\n  const handleSignOut = async () => {\n    if (!auth) { showNotification(\"Servicio de autenticación no disponible.\", \"error\"); return; }\n    try { await signOut(auth); setCurrentPage('home'); showNotification(\"Cierre de sesión exitoso.\", \"success\");\n    }\n    catch (error) { console.error(\"Error cerrando sesión:\", error); showNotification(\"Error cerrando sesión.\", \"error\"); }\n  };\n\n  const renderPage = () => {\n    const userId = currentUser ? currentUser.uid : null;\n    if (!userId && authView === 'app') { // Should not happen if logic is correct, but as a safe guard\n      setAuthView('login');\n      return null;\n    }\n    const commonProps = { userId, showNotification, accessibilitySettings, setCurrentPage };\n\n    switch (currentPage) {\n      case 'home': return <HomeScreen userName={userName} {...commonProps} />; // userName is now the full name\n      case 'myAppointments': return <AppointmentsScreen {...commonProps} />;\n      case 'chat': return <ChatScreen {...commonProps} />;\n      case 'prescriptions': return <PrescriptionsScreen {...commonProps} />;\n      case 'labResults': return <LabResultsScreen {...commonProps} userId={userId} />;\n      case 'medicalHistory': return <MedicalHistoryScreen {...commonProps} userId={userId} />;\n      case 'educationalResources': return <EducationalResourcesScreen {...commonProps} />;\n      case 'doctorFinder': return <DoctorFinderScreen {...commonProps} />;\n      case 'more': return <MoreScreen handleSignOut={handleSignOut} openSettingsModal={() => setIsSettingsModalOpen(true)} {...commonProps} />;\n      default: return <HomeScreen userName={userName} {...commonProps} />;\n    }\n  };\n\n  const NavItem = ({ page, label, icon: IconComponent }) => (\n    <button onClick={() => setCurrentPage(page)} className={`flex flex-col items-center justify-center p-2 w-full transition-colors duration-200 ease-in-out ${accessibilitySettings.fontSize} ${currentPage === page ? (accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'text-yellow-300' : 'text-blue-400') : (accessibilitySettings.highContrast ? 'text-blue-700 font-bold' : 'text-blue-500')) : (accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'text-gray-400 hover:text-yellow-200' : 'text-gray-400 hover:text-blue-300') : (accessibilitySettings.highContrast ? 'text-gray-600 hover:text-blue-600' : 'text-gray-500 hover:text-blue-400')) } `} >\n    <IconComponent size={24} strokeWidth={currentPage === page ? 2.5 : 2} /> <span className=\"text-xs mt-1\">{label}</span>\n    </button>\n  );\n\n  let appClasses = `font-sans antialiased flex flex-col min-h-screen transition-colors duration-300 ${accessibilitySettings.fontSize}`;\n  if (accessibilitySettings.darkMode) { appClasses += accessibilitySettings.highContrast ? ' bg-black text-yellow-300' : ' bg-gray-900 text-gray-200'; }\n  else { appClasses += accessibilitySettings.highContrast ? ' bg-white text-black border-2 border-blue-900' : ' bg-gray-100 text-gray-800'; }\n\n  if (!isAuthReady) {\n    return (\n      <div className={`flex justify-center items-center h-screen ${accessibilitySettings.fontSize} ${accessibilitySettings.darkMode ? 'bg-gray-900 text-white' : 'bg-gray-100 text-black'}`}>\n      <p>Initializing App...</p>\n      </div>\n    );\n  }\n\n  if (!currentUser) { // Or check authView !== 'app'\n    return (\n      <>\n      <Notification message={notification.message} type={notification.type} onDismiss={() => setNotification({message: '', type: ''})} darkMode={accessibilitySettings.darkMode} />\n      <AuthScreen\n      onLogin={handleLogin}\n      onRegister={handleRegister}\n      showNotification={showNotification}\n      accessibilitySettings={accessibilitySettings}\n      setAuthView={setAuthView}\n      />\n      </>\n    );\n  }\n\n  return (\n    <div className={appClasses}>\n    <Notification message={notification.message} type={notification.type} onDismiss={() => setNotification({message: '', type: ''})} darkMode={accessibilitySettings.darkMode} />\n    <header className={`p-4 shadow-md flex justify-between items-center sticky top-0 z-40 ${accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'bg-black text-yellow-300 border-b-2 border-yellow-400' : 'bg-gray-800 text-white') : (accessibilitySettings.highContrast ? 'bg-white text-blue-700 border-b-2 border-blue-700' : 'bg-blue-600 text-white')} `}>\n    <h1 className=\"text-xl font-semibold\">MedCare Senior</h1>\n    <div className=\"flex items-center space-x-2\">\n    {currentUser && <span className=\"text-sm hidden sm:inline\">{userName}</span>} {/* userName is now full name */}\n    <button onClick={() => setIsSettingsModalOpen(true)} aria-label=\"Open accessibility settings\" className={`p-2 rounded-md ${accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'hover:bg-yellow-700 text-yellow-300' : 'hover:bg-gray-700 text-gray-300') : (accessibilitySettings.highContrast ? 'hover:bg-blue-200 text-blue-700' : 'hover:bg-blue-700 text-blue-100')} `}>\n    <Settings size={22} />\n    </button>\n    </div>\n    </header>\n    <main className=\"flex-grow overflow-y-auto\"> {renderPage()} </main>\n    <nav className={`fixed bottom-0 left-0 right-0 border-t shadow-t-md flex justify-around items-center h-16 z-40 ${accessibilitySettings.darkMode ? (accessibilitySettings.highContrast ? 'bg-black border-t-yellow-400' : 'bg-gray-800 border-gray-700') : (accessibilitySettings.highContrast ? 'bg-white border-t-blue-700' : 'bg-white border-gray-200')} `}>\n    <NavItem page=\"home\" label=\"Inicio\" icon={Home} />\n    <NavItem page=\"myAppointments\" label=\"Citas\" icon={CalendarPlus} />\n    <NavItem page=\"chat\" label=\"Chat\" icon={MessageSquare} />\n    <NavItem page=\"more\" label=\"Más\" icon={Menu} />\n    </nav>\n    <div className=\"h-16\"></div>\n    <AccessibilitySettingsModal isOpen={isSettingsModalOpen} onClose={() => setIsSettingsModalOpen(false)} settings={accessibilitySettings} updateSettings={updateAccessibilitySetting} darkMode={accessibilitySettings.darkMode} highContrast={accessibilitySettings.highContrast} fontSizeClass={accessibilitySettings.fontSize} />\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}